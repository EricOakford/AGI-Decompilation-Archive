[***********************************************************[[ rm.LIJMSC_West [[ This is the west side of the Long Island Joint Mining and[ Stock Company camp. Jerrod is given the task of getting [ an animal team for his wagon, and to decide when it's time[ to leave for the trip west. [[***********************************************************[ **************************************[ LOCAL DEFINES[ **************************************#define oCaptain                     o1#define oTraveler1                   o2#define oTraveler2                   o3#define oCampfire                    o4[ o5 is not used#define oTraveler3                   o6#define oSmoker                      o7#define vCholeraTime2               v79  [ override ScurvyTime[ no idea why they didn't use the existing cholera timepoint[ variable#define vMudTime                    v85  [ override CholeraTime#define vSnowStormTime              v86  [ override CoalFireTime#define vStolenMuleTime             v87  [ override BoilerTime#define vTmpY                      v220#define vTmpVal                    v221[ v222 is not used#define vTalkStatus                v223#define vSmokeStatus               v224#define vRndNum                    v225#define fDoneTalking               f220#define fDoneSmoking               f221#define fSndDone                   f222[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load, draw and discard picture for current room  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);    [ load the main timing logic  load.logics(lgc.WagonTripTiming);    [ load views used in the room  load.view(vw.JerrodCA);  load.view(vw.SickJerrodCA);  load.view(vw.DyingJerrodCA);  load.view(vw.LIJMSCArt);    [ load the only sound used in the room  load.sound(s.AddToScore);    [ add roasting meat on spit to picture  add.to.pic(vw.LIJMSCArt, 1, 1, 24, 139, 0, 0);  [ add dude sleeping on ground to picture  add.to.pic(vw.LIJMSCArt, 1, 2, 14, 85, 0, 0);    [ Captain Buddy, wagon train leader  animate.obj(oCaptain);  set.view(oCaptain, vw.LIJMSCArt);  set.loop(oCaptain, 3);  set.cel(oCaptain, 0);  position(oCaptain, 110, 101);  draw(oCaptain);  stop.cycling(oCaptain);    [ traveler #1  animate.obj(oTraveler1);  set.view(oTraveler1, vw.LIJMSCArt);  set.loop(oTraveler1, 4);  set.cel(oTraveler1, 0);  position(oTraveler1, 128, 101);  draw(oTraveler1);  stop.cycling(oTraveler1);    [ traveler #2  animate.obj(oTraveler2);  set.view(oTraveler2, vw.LIJMSCArt);  set.loop(oTraveler2, 5);  set.cel(oTraveler2, 0);  position(oTraveler2, 117, 96);  draw(oTraveler2);  stop.cycling(oTraveler2);    [ pipe smoker  animate.obj(oSmoker);  set.view(oSmoker, vw.LIJMSCArt);  set.loop(oSmoker, 6);  set.cel(oSmoker, 0);  set.priority(oSmoker, 13);  ignore.objs(oSmoker);  position(oSmoker, 11, 136);  draw(oSmoker);  stop.cycling(oSmoker);  vTmpVal = 5;  cycle.time(oSmoker, vTmpVal);    [ traveler #3  animate.obj(oTraveler3);  set.view(oTraveler3, vw.LIJMSCArt);  set.loop(oTraveler3, 7);  set.cel(oTraveler3, 0);  position(oTraveler3, 56, 143);  draw(oTraveler3);  stop.cycling(oTraveler3);    [ campfire  animate.obj(oCampfire);  set.view(oCampfire, vw.LIJMSCArt);  set.loop(oCampfire, 2);  position(oCampfire, 29, 140);  draw(oCampfire);    [ Jerrod, now in California attire  animate.obj(ego);  set.view(ego, vw.JerrodCA);  [ if coming from the 'leaving NY' cutscene  if (previousRoom == cs.LeavingNY)    {    [ position Jerrod on left edge, near mid-bottom    egoDir = STOPPED;    set.loop(ego, 0);    position(ego, 14, 115);    }  draw(ego);    [ now show the picture  show.pic();    [ if coming from the 'leaving NY' cutscene  if (previousRoom == cs.LeavingNY)    {    [ random chance that Jerrod gets cholera    random(0, 3, vRndNum);    [ a one in four chance    if (vRndNum == 0)      {      [ reset current time point 2      TripPoint_2 = 0;      [ and set cholera time to now      vCholeraTime2 = CurrentTripTime;      }    }  }  [ random chance that one of the people in camp 'talk' (cycle[ to show mouth moving)random(0, 100, vTalkStatus);[ 10% chance it's captain Buddyif (vTalkStatus < 10)  {  set.cel(oCaptain, 0);  end.of.loop(oCaptain, fDoneTalking);  }  [ 20% chance it's traveler #1if (vTalkStatus > 39 && vTalkStatus < 51)  {  set.cel(oTraveler1, 0);  end.of.loop(oTraveler1, fDoneTalking);  }  [ 10% chance it's traveler #2if (vTalkStatus > 89)  {  set.cel(oTraveler2, 0);  end.of.loop(oTraveler2, fDoneTalking);  }  [ if smoker is between puffsif (vSmokeStatus != 100)  {  [ random chance he takes another puff  random(0, 49, vSmokeStatus);  }[ one in 50 chance if (vSmokeStatus == 30)  {  [ set status to indicate he's smoking  vSmokeStatus = 100;  [ reset to first cel  set.cel(oSmoker, 0);  [ run through loop once  end.of.loop(oSmoker, fDoneSmoking);  }[ after man finishes his puffif (isset(fDoneSmoking))  {  [ reset the flag  reset(fDoneSmoking);  [ increment status so randomizer can determine when he  [ puffs again  ++vSmokeStatus;  }  [ 20% chance traveler 3 talksif (vTalkStatus > 59 && vTalkStatus < 81)  {  set.cel(oTraveler3, 0);  end.of.loop(oTraveler3, fDoneTalking);  }[ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ the camp wraps around in only two rooms; so going to left[ or right will take Jerrod to the east side of camp[ if near top of roomif (posn(ego, 0, 66, 159, 66))  {  [ adjust position so Jerrod shows up in correct spot in  [ new room  vTmpY = 165;  position.v(ego, EgoX, vTmpY);  new.room(rm.LIJMSC_North); [ ##LE001##  }  [ if near left of screenif (posn(ego, 1, 67, 1, 167))  {  [ adjust position so Jerrod will show in correct position  [ in east side of camp  vTmpVal = 151;  if (EgoY > 66 && EgoY < 72)    {    position(ego, 123, 67);    }  if (EgoY > 71)    {    position.v(ego, vTmpVal, EgoY);    }  [ now go to east side of camp  new.room(rm.LIJMSC_East); [ ##LE002##  }  [ if Jerrod touches right edgeif (edgeEgoHit == RIGHT_EDGE)  {  [ go to east side of camp  new.room(rm.LIJMSC_East); [ ##LE003##  }  [ if near bottom, and looking for team of animalsif (posn(ego, 0, 166, 159, 166) && CaptainBuddyStatus == 2)  {  [ adjust position so Jerrod shows up in correct position  [ in the corral  vTmpY = 165;  if (EgoX < 47)    {    EgoX = 47;    }  position.v(ego, EgoX, vTmpY);  [ change to 'up' loop  set.loop(ego, 3);  [ and set direction to UP  egoDir = UP;  [ now go to the corral  new.room(rm.LIJMSC_Corral); [ ##LE004##  }  [ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(Done);  }  [ talk to manif ((said("speak", "boy") ||     said("speak")))  {  [ if near one of the men  if ((posn(ego, 103, 99, 118, 108) ||       posn(ego, 7, 77, 36, 89) ||       posn(ego, 107, 90, 126, 98) ||       posn(ego, 119, 99, 137, 108) ||       posn(ego, 3, 131, 25, 149) ||       posn(ego, 47, 134, 66, 149)))    {        [ if near Captain Buddy    if (posn(ego, 103, 99, 118, 108))      {      [ if waiting for Jerrod to say it's time to go      if (CaptainBuddyStatus == 4)        {        [ advance to next stage (leaving Missouri)        CaptainBuddyStatus = 5;        print("You report back to the Captain Buddy, \"I think that it is time "              "to head west!\"");        print("Captain Buddy bellows, \"OK men. Our scout Jerrod has determined "              "that it is time to break camp and head west!\"");        print("\"Let's hitchem' up and movem' out!!\"");                [ move to next scene in the journey        set(ContinueJourney);        }              [ if Jerrod has the animals      if (CaptainBuddyStatus == 3)        {        [ advance to next stage (waiting for right time to        [ leave)        CaptainBuddyStatus = 4;        set(ReadyToLeaveMO);        print("You report back to the captain that you have secured a team of "              "animals and they will be delivered to camp later today.");        print("\"I trust you have selected the right animals to pull our wagons "              "across the country.\"");        print("\"I have another assignment for you.\"");        print("\"It is up to you to determine when our company should head "              "west.\"");        print("\"If we leave too early the plains will be muddy and the wagons "              "will sink to their axles...");        print("...and the animals will not have enough grass to eat.\"");        print("\"But, if we wait until the plains are fully green it may be too "              "late. Then we will face the gut-wrenching thought of "              "encountering an early winter storm in the Sierra-Nevada "              "mountains.\"");        print("\"Report back to me when it is time to head west, Jerrod.\"");        }              [ if waiting for Jerrod to get animals      if (CaptainBuddyStatus == 2)        {        print("\"How is it going, Jerrod? Do you have our animals yet?\"");        }            [ if Captain Buddy is waiting for Jerrod to give him      [ money       if (CaptainBuddyStatus == 1)        {        print("\"Before we get too far, Jerrod, there is something you need to "              "know.\"");        print("\"The company fund is running low. I am asking all of the "              "company members to contribute everthing they can so that we can "              "all make it to California as soon as possible.\"");        }            [ if first time talking to Captain Buddy      if (CaptainBuddyStatus == 0)        {        [ advance to next stage; (Captain Buddy needs        [ Jerrod's money)        CaptainBuddyStatus = 1;        [ begin conversation        print("You find the man who appears to be the leader of this company "              "and introduce yourself to him.");        print("\"Excuse me, sir. My name is Jerrod Wilson. I'll be going to "              "California with you.\"");        print("\"Welcome to the 'Long Island Joint Mining and Stock Company', "              "Jerrod!\", bellows this seasoned-looking man. It is grrrreat to "              "have you join us!");        print("\"My name is Captain Buddy; that's right, Captain Buddy! I'm "              "going to do everything within my power to take this company "              "safely across the country to California!\"");        print("\"Before we get too far, Jerrod, there is something you need to "              "know.\"");        print("\"The company fund is running low. I am asking all of the "              "company members to contribute everthing they can so that we can "              "all make it to California as soon as possible.\"");        }      }          [ if Jerrod is by the sleeping man    if (posn(ego, 7, 77, 36, 89))      {      print("Talking to this man is useless. He's sound asleep.");      }          [ if by traveler #1    if (posn(ego, 107, 90, 126, 98))      {      print("This man is engaged in an intriguing conversation with the "            "captain.");      }          [ if by traveler #2    if (posn(ego, 119, 99, 137, 108))      {      print("This man is engaged in an intriguing conversation with the "            "captain.");      }          [ if near pipe smoker    if (posn(ego, 3, 131, 25, 149))      {      print("The man sitting on the logs says, \"Hello, youngster! I'm glad to "            "see we've got some young blood along on this trip. We are going to "            "need it.\"");      }          [ if near traveler #3    if (posn(ego, 47, 134, 66, 149))      {      print("The pig roaster says, \"I got me a pig roastin' on that there "            "spit. I kin hardly wait ta sink mah teeth into it.\"");      }    }  else    {    print("There is no one close enough to talk to.");    }  }  [ look manif (said("examine", "boy"))  {  [ if by one of the men  if ((posn(ego, 103, 99, 118, 108) ||       posn(ego, 7, 77, 36, 89) ||       posn(ego, 107, 90, 126, 98) ||       posn(ego, 119, 99, 137, 108) ||       posn(ego, 3, 131, 25, 149) ||       posn(ego, 47, 134, 66, 149)))    {    [ Captain Buddy    if (posn(ego, 103, 99, 118, 108))      {      print("This man looks like a born leader!");      }          [ sleeping man    if (posn(ego, 7, 77, 36, 89))      {      print("This man is sound asleep.");      }          [ traveler #1    if (posn(ego, 107, 90, 126, 98))      {      print("It looks like these men are involved in a deep conversation.");      }          [ traveler #2    if (posn(ego, 119, 99, 137, 108))      {      print("It looks like these men are involved in a deep conversation.");      }          [ pipe smoker    if (posn(ego, 3, 131, 25, 149))      {      print("This man is sitting on a log enjoying his pipe and the fire.");      }          [ traveler #3    if (posn(ego, 47, 134, 66, 149))      {      print("The man is watching the wild pig roasting over the fire.");      }    }  else    {    print("There are several folks around the camp.");    }  }  [ look captain/look bossif ((said("examine", "captain") ||     said("examine", "boss") ||     said("examine", "leader")))  {  [ if by Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    print("This man looks like a born leader!");    }  else    {    print("You are not close enough to the %w2.");    }  }  [ talk to captainif ((said("speak", "captain") ||     said("speak", "boss") ||     said("speak", "leader")))  {  [ if near Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    [ if waiting for Jerrod to say it's time to go    if (CaptainBuddyStatus == 4)      {      [ advance to next stage (leaving Missouri)      CaptainBuddyStatus = 5;      print("You report back to the Captain Buddy, \"I think that it is time to "            "head west!\"");      print("Captain Buddy bellows, \"OK men. Our scout Jerrod has determined "            "that it is time to break camp and head west!\"");      print("\"Let's hitchem' up and movem' out!!\"");              [ move to next scene in the journey      set(ContinueJourney);      }          [ if Jerrod has the animals    if (CaptainBuddyStatus == 3)      {      [ advance to next stage (waiting for right time to      [ leave)      CaptainBuddyStatus = 4;      set(ReadyToLeaveMO);      print("You report back to the captain that you have secured a team of "            "animals and they will be delivered to camp later today.");      print("\"I trust you have selected the right animals to pull our wagons "            "across the country.\"");      print("\"I have another assignment for you.\"");      print("\"It is up to you to determine when our company should head "            "west.\"");      print("\"If we leave too early the plains will be muddy and the wagons "            "will sink to their axles...");      print("...and the animals will not have enough grass to eat.\"");      print("\"But, if we wait until the plains are fully green it may be too "            "late. Then we will face the gut-wrenching thought of encountering "            "an early winter storm in the Sierra-Nevada mountains.\"");      print("\"Report back to me when it is time to head west, Jerrod.\"");      }          [ if waiting for Jerrod to get animals    if (CaptainBuddyStatus == 2)      {      print("\"How is it going, Jerrod? Do you have our animals yet?\"");      }        [ if Captain Buddy is waiting for Jerrod to give him money     if (CaptainBuddyStatus == 1)      {      print("\"Before we get too far, Jerrod, there is something you need to "            "know.\"");      print("\"The company fund is running low. I am asking all of the company "            "members to contribute everthing they can so that we can all make "            "it to California as soon as possible.\"");      }        [ if first time talking to Captain Buddy    if (CaptainBuddyStatus == 0)      {      [ advance to next stage; (Captain Buddy needs Jerrod's      [ money)      CaptainBuddyStatus = 1;      [ begin conversation      print("You find the man who appears to be the leader of this company and "            "introduce yourself to him.");      print("\"Welcome to the 'Long Island Joint Mining and Stock Company', "            "Jerrod!\", bellows this seasoned-looking man. It is grrrreat to "            "have you join us!");      print("\"My name is Captain Buddy; that's right, Captain Buddy! I'm going "            "to do everything within my power to take this company safely "            "across the country to California!\"");      print("\"Before we get too far, Jerrod, there is something you need to "            "know.\"");      print("\"The company fund is running low. I am asking all of the company "            "members to contribute everthing they can so that we can all make "            "it to California as soon as possible.\"");      }    }  else    {    print("You are not close enough to the captain.");    }  }  [ tell captainif ((said("tell", "captain") ||     said("tell", "boss") ||     said("tell", "leader")))  {  [ if near Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    [ if waiting for Jerrod to say it's time to go    if (CaptainBuddyStatus == 4)      {      [ advance to next stage (leaving Missouri)      CaptainBuddyStatus = 5;      print("You report back to the Captain Buddy, \"I think that it is time to "            "head west!\"");      print("Captain Buddy bellows, \"OK men. Our scout Jerrod has determined "            "that it is time to break camp and head west!\"");      print("\"Let's hitchem' up and movem' out!!\"");              [ move to next scene in the journey      set(ContinueJourney);      }          [ if Jerrod has the animals    if (CaptainBuddyStatus == 3)      {      [ advance to next stage (waiting for right time to      [ leave)      CaptainBuddyStatus = 4;      set(ReadyToLeaveMO);      print("You report back to the captain that you have secured a team of "            "animals and they will be delivered to camp later today.");      print("\"I trust you have selected the right animals to pull our wagons "            "across the country.\"");      print("\"I have another assignment for you.\"");      print("\"It is up to you to determine when our company should head "            "west.\"");      print("\"If we leave too early the plains will be muddy and the wagons "            "will sink to their axles...");      print("...and the animals will not have enough grass to eat.\"");      print("\"But, if we wait until the plains are fully green it may be too "            "late. Then we will face the gut-wrenching thought of encountering "            "an early winter storm in the Sierra-Nevada mountains.\"");      print("\"Report back to me when it is time to head west, Jerrod.\"");      }          [ if waiting for Jerrod to get animals    if (CaptainBuddyStatus == 2)      {      print("\"How is it going, Jerrod? Do you have our animals yet?\"");      }          [ if first time talking to Captain Buddy, or waiting for    [ money    if ((CaptainBuddyStatus == 0 ||         CaptainBuddyStatus == 1))      {      print("What is there to tell him?");      }    }  else    {    print("You are not close enough to the captain.");    }  }  [ report back to Captain Buddyif ((said("report") ||     said("make", "report") ||     said("contribute", "report") ||     said("report", "captain")))  {  [ if near Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    [ if waiting for Jerrod to say it's time to go    if (CaptainBuddyStatus == 4)      {      [ advance to next stage (leaving Missouri)      CaptainBuddyStatus = 5;      print("You report back to the Captain Buddy, \"I think that it is time to "            "head west!\"");      print("Captain Buddy bellows, \"OK men. Our scout Jerrod has determined "            "that it is time to break camp and head west!\"");      print("\"Let's hitchem' up and movem' out!!\"");              [ move to next scene in the journey      set(ContinueJourney);      }          [ if Jerrod has the animals    if (CaptainBuddyStatus == 3)      {      [ advance to next stage (waiting for right time to      [ leave)      CaptainBuddyStatus = 4;      set(ReadyToLeaveMO);      print("You report back to the captain that you have secured a team of "            "animals and they will be delivered to camp later today.");      print("\"I trust you have selected the right animals to pull our wagons "            "across the country.\"");      print("\"I have another assignment for you.\"");      print("\"It is up to you to determine when our company should head "            "west.\"");      print("\"If we leave too early the plains will be muddy and the wagons "            "will sink to their axles...");      print("...and the animals will not have enough grass to eat.\"");      print("\"But, if we wait until the plains are fully green it may be too "            "late. Then we will face the gut-wrenching thought of encountering "            "an early winter storm in the Sierra-Nevada mountains.\"");      print("\"Report back to me when it is time to head west, Jerrod.\"");      }          [ if waiting for Jerrod to get animals    if (CaptainBuddyStatus == 2)      {      print("\"Where are the animals, Jerrod?\"");      }          [ if first time talking to Captain Buddy, or waiting for    [ money    if ((CaptainBuddyStatus == 0 ||         CaptainBuddyStatus == 1))      {      print("What is there to report?");      }    }  else    {    print("You are not close enough to the captain.");    }  }  [ head out/go west/lets goif ((said("head", "west") ||     said("move", "out") ||     said("move", "out") ||     said("head", "out") ||     said("go", "west") ||     said("exit", "calif") ||     said("exit", "independence") ||     said("exit", "now") ||     said("let", "go") ||     said("let", "head", "west") ||     said("let", "move", "out")))  {  [ if near Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    [ if waiting for Jerrod to say it's time to go    if (CaptainBuddyStatus == 4)      {      [ advance to next stage (leaving Missouri)      CaptainBuddyStatus = 5;      print("Captain Buddy bellows, \"OK men. Our scout Jerrod has determined "            "that it is time to break camp and head west!\"");      print("\"Let's hitchem' up and movem' out!!\"");              [ move to next scene in the journey      set(ContinueJourney);      }          [ if Jerrod has the animals    if (CaptainBuddyStatus == 3)      {      [ can't leave yet; Jerrod needs to tell Captain Buddy      [ that he has the animal teams      print("\"How can we do that, Jerrod? I'm waiting for you to secure animal "            "teams to pull our wagons!!\"");      }          [ if waiting for Jerrod to get animals    if (CaptainBuddyStatus == 2)      {      print("\"How can we do that, Jerrod, without a team of animals?\"");      }        [ if Captain Buddy is waiting for Jerrod to give him    [ money     if (CaptainBuddyStatus == 1)      {      print("\"You can't do that with us until you make a contribution to the "            "company fund.\"");      }          [ if first time talking to Captain Buddy    if (CaptainBuddyStatus == 0)      {      print("That is a little presumptuous on your part. Shouldn't you find out "            "what is going on around here first?");      }    }  else    {    print("You are not close enough to the captain.");    }  }  [ give money to Captain Buddyif ((said("contribute") ||     said("contribute", "bucks") ||     said("contribute", "all", "bucks") ||     said("contribute", "bucks", "boy") ||     said("contribute", "boy", "bucks") ||     said("contribute", "bucks", "captain") ||     said("contribute", "captain", "bucks") ||     said("contribute", "all", "bucks", "captain") ||     said("contribute", "captain", "all", "bucks") ||     said("contribute", "bucks", "company") ||     said("contribute", "company", "bucks") ||     said("contribute", "bucks", "fund") ||     said("contribute", "fund", "bucks") ||     said("pay") ||     said("pay", "boy") ||     said("pay", "bucks") ||     said("pay", "captain") ||     said("pay", "bucks", "boy") ||     said("pay", "boy", "bucks") ||     said("pay", "bucks", "captain") ||     said("pay", "captain", "bucks")))  {  [ if near Captain Buddy  if (posn(ego, 103, 99, 118, 108))    {    [ if waiting for Jerrod to say it's time to go    if (CaptainBuddyStatus == 4)      {      print("That is very generous of you, Jerrod. But you have done your part. "            "Keep your eyes on the plains.");      }    [ if Jerrod has the animals    if (CaptainBuddyStatus == 3)      {      print("There is no need to contribute any more. What we need are some "            "animals!");      }    [ if waiting for Jerrod to get animals    if (CaptainBuddyStatus == 2)      {      print("There is no need to contribute any more. What we need are some "            "animals!");      }    [ if Captain Buddy is waiting for Jerrod to give him    [ money     if (CaptainBuddyStatus == 1)      {      [ advance to next stage (waiting to get animals)      CaptainBuddyStatus = 2;      print("You reach deep into your pocket, retrieve all of your remaining "            "cash, and hand it over to the company captain.");      [ score two points      currentScore  += 2;      [ give all cash to Captain Buddy      set(DropAllCash);      call(lgc.AdjustCash);      [ play sound      sound(s.AddToScore, fSndDone);      print("\"Thank you so much, Jerrod!!\"");      print("\"You're a bright-looking young man, Jerrod, and I have an "            "assignment for you.\"");      print("\"When the plains are turning green from the growing grass and the "            "mud is beginning to dry, we need to make haste to the riches in "            "California.\"");      print("\"But in order to do that we are going to need a fine team of "            "animals to pull these heavy wagons.\"");      print("\"I am charging you with the responsibility of obtaining these "            "animals. The company fund will pick up the tab.\"");      print("\"Head south into Independence to find the teams and report back "            "to me when you have accomplished your mission.\"");      }    [ if first time talking to Captain Buddy    if (CaptainBuddyStatus == 0)      {      print("You don't even know this man. Hold your horses!");      }    }  else    {    print("You should give that to the captain, but he isn't close enough!");    }  }[ show ticketif (said("show", "ticket"))  {  print("You don't have a ticket. You gave it to the man at the livery in "        "Brooklyn!");  }  [ look/look aroundif ((said("examine", "around") ||     said("examine", "camp") ||     said("examine")))  {  print("This is the camp of the \"Long Island Joint Mining and Stock "        "Company\". From the north edge of camp there is a great view of the "        "Missouri River and the plains.");  }  [ look wagonif (said("examine", "cart"))  {  print("These are the wagons that will take you and your company west.");  }  [ look tentif (said("examine", "tent"))  {  print("Since tents are so mobile, you will see many of them on your journey "        "west.");  }  [ look treeif (said("examine", "forest"))  {  print("Just one of the many trees in the Independence area.");  }  [ look logif (said("examine", "log"))  {  print("There are many logs lying around camp.");  }  [ look fireif ((said("examine", "fire") ||     said("examine", "campfire") ||     said("examine", "camp", "fire")))  {  print("Every camp has a campfire!");  }  [ look spitif (said("examine", "spit"))  {  print("The spit is stuck through the wild pig which is roasting over the open "        "fire.");  }  [ look hatchetif (said("examine", "ax"))  {  print("There's a hatchet stuck in the log by the fire.");  }[ get hatchetif (said("acquire", "ax"))  {  if (posn(ego, 44, 124, 57, 140))    {    print("\"Leave it alone, greenhorn! That's my hatchet!!\"");    }  else    {    print("You can't do that from here!");    }  }  [ look barrelif (said("examine", "barrel"))  {  print("There's a barrel over by the fire that weary travelers sometimes sit "        "on.");  }  [ look hamif (said("examine", "bacon"))  {  print("There is a pig on the spit over the fire.");  }  [ smell hamif (said("smell", "bacon"))  {  print("There's nothing quite like the smell of a wild pig roasting over an "        "open fire.");  }  [ sit downif ((said("sit") ||     said("sit", "down") ||     said("sit", "barrel") ||     said("sit", "down", "log") ||     said("sit", "down", "barrel")))  {  print("You are young and vivacious! You don't need to sit down!!");  }  [ enterif (said("enter"))  {  print("Enter what?");  }  [ enter tentif ((said("enter", "tent") ||     said("enter", "cart") ||     said("crawl", "tent") ||     said("climb", "tent") ||     said("crawl", "cart") ||     said("climb", "cart")))  {  print("You'll spend plenty of time in a %w2 once you are on the trail. No "        "need to do that now!!");  }  [ look grassif ((said("examine", "grass") ||     said("examine", "dirt") ||     said("examine", "down")))  {  print("It is typical Independence grass.");  }  [ get fireif ((said("acquire", "fire") ||     said("acquire", "campfire") ||     said("acquire", "camp", "fire")))  {  print("How, or why, would you do that?");  }  [ eat/eat hamif ((said("eat") ||     said("eat", "bacon") ||     said("eat", "meat") ||     said("acquire", "bacon") ||     said("acquire", "meat") ||     said("eat", "food") ||     said("acquire", "food")))  {  print("It's not done roasting!");  }  [ look pipeif (said("examine", "pipe"))  {  print("It is a very nice pipe!");  }[ take pipeif ((said("acquire", "pipe") ||     said("smoke", "pipe")))  {  print("Just let the man keep his pipe!");  }  [ sleepif ((said("sleep") ||     said("sleep", "bed") ||     said("sleep", "in", "bed") ||     said("go", "sleep") ||     said("acquire", "sleep") ||     said("lay", "down") ||     said("lay", "down", "sleep") ||     said("lay", "down", "bed") ||     said("lay", "down", "in", "bed") ||     said("lay", "bed") ||     said("lay", "in", "bed") ||     said("use", "bed") ||     said("go", "bed") ||     said("enter", "bed") ||     said("nap") ||     said("acquire", "nap") ||     said("sleep", "tent") ||     said("sleep", "in", "tent") ||     said("sleep", "cart") ||     said("sleep", "in", "cart") ||     said("lay", "down", "tent") ||     said("lay", "down", "in", "tent") ||     said("lay", "down", "cart") ||     said("lay", "down", "in", "cart")))  {  print("You're having the adventure of a lifetime; there's no time for that!");  }  [ buy tent/buy wagonif ((said("buy", "tent") ||     said("acquire", "tent") ||     said("buy", "cart") ||     said("acquire", "cart")))  {  print("You can't do that; they are company property!");  }  [ listen to manif ((said("listen") ||     said("listen", "boy")))  {  print("OK. Go ahead and listen!");  }  [ look plainsif (said("examine", "plain"))  {  print("There is a good view of the plains from the north edge of camp.");  }  Done:[ if done with this room, and moving to next scene in the[ journeyif (isset(ContinueJourney))  {  [ set travel flag again for rest of journey  set(ShowTravelTime);    [ Jerrod chose mules  if (AnimalTeam == 1)    {    [ if trip point 4 is currently valid    if (TripPoint_4 == 4)      {      [ now it's the time mules get stolen      TripPoint_4 = 0;      vStolenMuleTime = 4;      }    }      [ if Jerrod chose young oxen  if (AnimalTeam == 2)    {    if (TripPoint_14 == 11)      {      TripPoint_14 = 0;      YoungOxDeathTime = 11;      }    }      [ if Jerrod chose to leave too early  if (LeaveMinutes < BeginOkLeaveTime)    {    [ score five points    currentScore  += 5;    [ random chance that wagons will    [ get stuck in mud, or animals     [ will starve    random(0, 1, vTmpVal);        [ stuck in mud    if (vTmpVal == 0)      {      [ if trip point 3 is currently valid      if (TripPoint_3 == 3)        {        [ change it to mud time        TripPoint_3 = 0;        vMudTime = 3;        }      }        [ animals starve    if (vTmpVal == 1)      {      [ if trip point 4 is currently valid      if (TripPoint_4 == 4)        {        [ change it to starve time        TripPoint_4 = 0;        AnimalStarveTime = 4;        }      [ it trip point four is stolen mule time      if (vStolenMuleTime == 4)        {        [ change it to starve time        vStolenMuleTime = 0;        AnimalStarveTime = 4;        }      }    }      [ if leaving at right time  if ((LeaveMinutes == BeginOkLeaveTime ||       LeaveMinutes == EndOkLeaveTime))    {    [ score seven points    currentScore  += 7;    }      [ if leaving too late  if (LeaveMinutes > EndOkLeaveTime)    {    [ score three ponts    currentScore  += 3;    [ if trip point 15 is valid    if (TripPoint_15 == 12)      {      [ change it to snow storm time      TripPoint_15 = 0;      vSnowStormTime = 12;      }    }  }  [ call main timing logiccall(lgc.WagonTripTiming);return();[ **************************************[ MESSAGES[ **************************************#message 1 "This is the camp of the \"Long Island Joint Mining and Stock Company\". From the north edge of camp there is a great view of the Missouri River and the plains."#message 2 "You find the man who appears to be the leader of this company and introduce yourself to him."#message 3 "\"Welcome to the 'Long Island Joint Mining and Stock Company', Jerrod!\", bellows this seasoned-looking man. It is grrrreat to have you join us!"#message 4 "\"My name is Captain Buddy; that's right, Captain Buddy! I'm going to do everything within my power to take this company safely across the country to California!\""#message 5 "\"You're a bright-looking young man, Jerrod, and I have an assignment for you.\""#message 6 "\"When the plains are turning green from the growing grass and the mud is beginning to dry, we need to make haste to the riches in California.\""#message 7 "\"But in order to do that we are going to need a fine team of animals to pull these heavy wagons.\""#message 8 "\"I am charging you with the responsibility of obtaining these animals. The company fund will pick up the tab.\""#message 9 "\"Head south into Independence to find the teams and report back to me when you have accomplished your mission.\""#message 15 "That is very generous of you, Jerrod. But you have done your part. Keep your eyes on the plains."#message 16 "There is no need to contribute any more. What we need are some animals!"#message 17 "You don't even know this man. Hold your horses!"#message 20 "\"Before we get too far, Jerrod, there is something you need to know.\""#message 21 "\"The company fund is running low. I am asking all of the company members to contribute everthing they can so that we can all make it to California as soon as possible.\""#message 22 "\"Thank you so much, Jerrod!!\""#message 29 "You report back to the Captain Buddy, \"I think that it is time to head west!\""#message 30 "Captain Buddy bellows, \"OK men. Our scout Jerrod has determined that it is time to break camp and head west!\""#message 31 "\"Let's hitchem' up and movem' out!!\""#message 39 "You report back to the captain that you have secured a team of animals and they will be delivered to camp later today."#message 40 "\"I trust you have selected the right animals to pull our wagons across the country.\""#message 41 "\"I have another assignment for you.\""#message 42 "\"It is up to you to determine when our company should head west.\""#message 43 "\"If we leave too early the plains will be muddy and the wagons will sink to their axles..."#message 44 "...and the animals will not have enough grass to eat.\""#message 45 "\"But, if we wait until the plains are fully green it may be too late. Then we will face the gut-wrenching thought of encountering an early winter storm in the Sierra-Nevada mountains.\""#message 46 "\"Report back to me when it is time to head west, Jerrod.\""#message 47 "\"How can we do that, Jerrod, without a team of animals?\""#message 48 "\"Where are the animals, Jerrod?\""#message 49 "\"How is it going, Jerrod? Do you have our animals yet?\""#message 50 "There is no one close enough to talk to."#message 51 "You reach deep into your pocket, retrieve all of your remaining cash, and hand it over to the company captain."#message 52 "What is there to tell him?"#message 53 "What is there to report?"#message 54 "That is a little presumptuous on your part. Shouldn't you find out what is going on around here first?"#message 55 "\"You can't do that with us until you make a contribution to the company fund.\""#message 56 "\"How can we do that, Jerrod? I'm waiting for you to secure animal teams to pull our wagons!!\""#message 57 "You are not close enough to the captain."#message 58 "You should give that to the captain, but he isn't close enough!"#message 59 "Talking to this man is useless. He's sound asleep."#message 60 "This man is engaged in an intriguing conversation with the captain."#message 61 "The man sitting on the logs says, \"Hello, youngster! I'm glad to see we've got some young blood along on this trip. We are going to need it.\""#message 62 "The pig roaster says, \"I got me a pig roastin' on that there spit. I kin hardly wait ta sink mah teeth into it.\""#message 63 "You don't have a ticket. You gave it to the man at the livery in Brooklyn!"#message 64 "There is a pig on the spit over the fire."#message 65 "There's nothing quite like the smell of a wild pig roasting over an open fire."#message 66 "There's a barrel over by the fire that weary travelers sometimes sit on."#message 67 "You are young and vivacious! You don't need to sit down!!"#message 68 "You can't do that from here!"#message 69 "\"Leave it alone, greenhorn! That's my hatchet!!\""#message 70 "There's a hatchet stuck in the log by the fire."#message 71 "The spit is stuck through the wild pig which is roasting over the open fire."#message 72 "Every camp has a campfire!"#message 73 "There are many logs lying around camp."#message 74 "Just one of the many trees in the Independence area."#message 75 "Since tents are so mobile, you will see many of them on your journey west."#message 76 "These are the wagons that will take you and your company west."#message 77 "This man looks like a born leader!"#message 78 "This man is sound asleep."#message 79 "It looks like these men are involved in a deep conversation."#message 80 "This man is sitting on a log enjoying his pipe and the fire."#message 81 "The man is watching the wild pig roasting over the fire."#message 82 "There are several folks around the camp."#message 83 "You are not close enough to the %w2."#message 84 "You'll spend plenty of time in a %w2 once you are on the trail. No need to do that now!!"#message 85 "It is typical Independence grass."#message 86 "How, or why, would you do that?"#message 87 "Enter what?"#message 88 "It's not done roasting!"#message 89 "It is a very nice pipe!"#message 90 "Just let the man keep his pipe!"#message 91 "You're having the adventure of a lifetime; there's no time for that!"#message 92 "You can't do that; they are company property!"#message 93 "OK. Go ahead and listen!"#message 94 "There is a good view of the plains from the north edge of camp."#message 95 "\"Excuse me, sir. My name is Jerrod Wilson. I'll be going to California with you.\""