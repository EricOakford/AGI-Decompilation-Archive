[***********************************************************[[ rm.LedgeRight[[ The right side of the Green River hotel. Jerrod can break[ into room 11 as an alternative to sneaking in when the[ man in the room leaves. If Jerrod tries to break in while[ the man is in his room, Jerrod gets sent to the gallows. [[***********************************************************[ **************************************[ LOCAL DEFINES[ **************************************#define oWindow11                    o1#define oWindow10                    o2#define oRoom11Guest                 o3#define oRoom10Guest                 o4#define vDX                        v220#define vDY                        v221#define vAwayTimer11               v222#define vGuest11Status             v223  [ these constants also apply to vGuest10Status  #define GS_OUT_OF_SIGHT       0  [ guest is room, but away from window  #define GS_MOVING_RIGHT       1  [ guest is walking to right, in front of window  #define GS_MOVING_LEFT        2  [ guest is walking to left, in front of window  #define GS_WAVING             3  [ guest is waving at Jerrod  #define GS_JERROD_FALLING     4  [ Jerrod is startled by guest, begins falling  #define GS_DONE_WAVING        5  [ guest stops waving, watches Jerrod continue falling  #define GS_JERROD_FELL        6  [ Jerrod has fallen and is off screen  #define GS_STANDS_UP          7  [ guest stands up after watching Jerrod fall  #define GS_NOT_IN_ROOM       10  [ guest is not in the room#define vLoopNum11                 v224#define vCelNum11                  v225#define vFallTimer11               v226#define vGuest10Status             v227#define vCelNum10                  v228#define vLoopNum10                 v229#define vFallTimer10               v230#define vAwayTimer10               v231#define fIsFalling                 f220#define fDoneFalling               f221#define fWindowMoved               f222#define fGuest11Moved              f223#define fGuest10Moved              f224#define fMusicDone                 f225#define fSndDone                   f226[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load picture for current room  load.pic(currentRoom);    [ load views used in the room  load.view(vw.LedgeArt);  load.view(vw.HotelGuests);    [ load sounds used in the room  load.sound(m.Death);  load.sound(m.LedgeWarning);  load.sound(s.WindowBreak);  load.sound(s.Window);    [ draw the current room picture  draw.pic(currentRoom);    [ add bottom floor windows, showing them partially open  add.to.pic(vw.LedgeArt, 3, 1, 97, 148, 8, 8);  add.to.pic(vw.LedgeArt, 3, 2, 27, 148, 8, 8);    [ window for room 11  animate.obj(oWindow11);  set.view(oWindow11, vw.LedgeArt);  [ loop depends on whether or not window is broken  if (isset(Window11Broken))    {    set.loop(oWindow11, 4);    }  else    {    set.loop(oWindow11, 3);    }  [ cel depends on whether or not window is open  if (isset(Window11Open))    {    set.cel(oWindow11, 4);    }  else    {    set.cel(oWindow11, 0);    }  set.priority(oWindow11, 8);  ignore.blocks(oWindow11);  ignore.objs(oWindow11);  position(oWindow11, 27, 79);  draw(oWindow11);  stop.update(oWindow11);    [ window for room 10  animate.obj(oWindow10);  set.view(oWindow10, vw.LedgeArt);  set.loop(oWindow10, 3);  set.cel(oWindow10, 4);  set.priority(oWindow10, 8);  ignore.blocks(oWindow10);  ignore.objs(oWindow10);  position(oWindow10, 97, 80);  draw(oWindow10);  stop.update(oWindow10);    [ hotel guest in room 11  animate.obj(oRoom11Guest);  set.view(oRoom11Guest, vw.HotelGuests);  set.loop(oRoom11Guest, 0);  set.cel(oRoom11Guest, 0);  set.priority(oRoom11Guest, 9);  ignore.horizon(oRoom11Guest);  position(oRoom11Guest, 28, 77);  [ default is for guest 11 to start out of sight  vGuest11Status = GS_NOT_IN_ROOM;  [ if guest is in his room  if (!isset(HotelRoomEmpty))    {    [ add him to screen    draw(oRoom11Guest);    [ he begins walking past window to right    end.of.loop(oRoom11Guest, fGuest11Moved);    vGuest11Status = GS_MOVING_RIGHT;    }      [ hotel guest in room 10  animate.obj(oRoom10Guest);  set.view(oRoom10Guest, vw.HotelGuests);  set.loop(oRoom10Guest, 3);  set.cel(oRoom10Guest, 0);  set.priority(oRoom10Guest, 9);  position(oRoom10Guest, 98, 79);  draw(oRoom10Guest);  [ this guest starts out moving to the right  end.of.loop(oRoom10Guest, fGuest10Moved);  vGuest10Status = GS_MOVING_RIGHT;    [ add Jerrod, climbing along ledge  animate.obj(ego);  set.view(ego, vw.LedgeArt);  set.priority(ego, 10);  egoDir = STOPPED;  draw(ego);    [ show the picture  show.pic();    [ set warning flag so music will begin playing  set(fMusicDone);  }  [ **************************************[ EVERY CYCLE[ **************************************[ if Jerrod is not falling off the ledgeif (!isset(fIsFalling))  {  [ when warning music finishes  if (isset(fMusicDone))    {    [ start it again    sound(m.LedgeWarning, fMusicDone);    }  }  [ if Jerrod is not falling off the ledgeif (!isset(fIsFalling))  {  [ set loop based on direction  if ((egoDir == UP ||       egoDir == UP_RIGHT ||       egoDir == RIGHT ||       egoDir == DOWN_RIGHT))    {    set.loop(ego, 0);    }  if ((egoDir == DOWN ||       egoDir == DOWN_LEFT ||       egoDir == LEFT ||       egoDir == UP_LEFT))    {    set.loop(ego, 1);    }  }  [ if away timer for room 11 is activeif (vAwayTimer11 > 0)  {  [ decrement the timer  --vAwayTimer11;  }  [ if away timer hits zero and guest is[ not at the windowif (vAwayTimer11 == 0 && vGuest11Status == GS_OUT_OF_SIGHT)  {  [ reverse direction by checking current  [ loop and swapping it  current.loop(oRoom11Guest, vLoopNum11);  [ if guest last walked to left  if (vLoopNum11 == 1)    {    [ reset cel    set.cel(oRoom11Guest, 0);    [ switch to walking-right loop    set.loop(oRoom11Guest, 0);    draw(oRoom11Guest);    end.of.loop(oRoom11Guest, fGuest11Moved);    [ guest is now walking right    vGuest11Status = GS_MOVING_RIGHT;    }  [ if guest last walked to right  if (vLoopNum11 == 0)    {    [ reset cel    set.cel(oRoom11Guest, 0);    [ switch to walking-right loop    set.loop(oRoom11Guest, 1);    draw(oRoom11Guest);    end.of.loop(oRoom11Guest, fGuest11Moved);    [ guest is now walking left    vGuest11Status = GS_MOVING_LEFT;    }  }  [ when guest finishes moving at the windowif (isset(fGuest11Moved))  {  [ reset the flag  reset(fGuest11Moved);    [ (both these 'if' blocks have exact same commands;  [ they could have used a single 'if' block that used an  [ 'or' operator to be more efficient)    [ if currently walking right  if (vGuest11Status == GS_MOVING_RIGHT)    {    [ remove guest from screen    erase(oRoom11Guest);    vGuest11Status = GS_OUT_OF_SIGHT;    [ choose a random amount of time for guest to be away    [ from the window    random(10, 50, vAwayTimer11);    }      [ if currently moving left  if (vGuest11Status == GS_MOVING_LEFT)    {    [ remove guest from screen    erase(oRoom11Guest);    vGuest11Status = GS_OUT_OF_SIGHT;    [ choose a random amount of time for guest to be away    [ from the window    random(10, 50, vAwayTimer11);    }      [ if guest is done waving at Jerrod  if (vGuest11Status == GS_WAVING)    {    [ Jerrod is startled and begins falling    vGuest11Status = GS_JERROD_FALLING;    [ trigger a fall (by setting flag, as if Jerrod walked    [ off the ledge)    set(egoHitSpecial);    }      [ after guest stands back up  if (vGuest11Status == GS_STANDS_UP)    {    [ guest is done; he goes back to walking back and forth        [ reposition so changed loop shows in correct position    vDX = 3;    vDY = 0;    reposition(oRoom11Guest, vDX, vDY);    [ guest starts in middle of window moving to right    set.loop(oRoom11Guest, 0);    set.cel(oRoom11Guest, 4);    end.of.loop(oRoom11Guest, fGuest11Moved);    vGuest11Status = GS_MOVING_RIGHT;    }    [ if Jerrod is now off screen after falling  if (vGuest11Status == GS_JERROD_FELL)    {    [ the guest stands back up    vGuest11Status = GS_STANDS_UP;    end.of.loop(oRoom11Guest, fGuest11Moved);    }  }[ MAJOR BUG - the coordinates for checking if[ the room 13 guest startles Jerrod is literally[ on the roof; also, even if the posn test used[ the correct coordinates, the loops are wrong[ in vw.HotelGuests  (compared to rm.RoomWindowArt)[ the guest in room 11 will never startle Jerrod!!!![ if Jerrod is in front of window for room 11[ and guest is moving past or goneif (posn(ego, 38, 9, 54, 9) && vGuest11Status < GS_WAVING)  {  [ get guest's current cel  current.cel(oRoom11Guest, vCelNum11);  [ if guest is in view of the window  if (vCelNum11 > 1 && vCelNum11 < 7)    {    [ uh oh! Jerrod gets caught - reposition guest at window    [ to confront Jerrod    vDX = -3; [ 253;    vDY = 0;    reposition(oRoom11Guest, vDX, vDY);    [ change to loop showing guest waving at Jerrod    set.loop(oRoom11Guest, 2);    set.cel(oRoom11Guest, 0);    end.of.loop(oRoom11Guest, fGuest11Moved);    [ guest waves at Jerrod, starting the fall sequence    vGuest11Status = GS_WAVING;    }  }  [ while Jerrod is falling off the ledgeif (vGuest11Status == GS_JERROD_FALLING)  {  [ increment fall timer  ++vFallTimer11;  [ after 30 cycles  if (vFallTimer11 == 30)    {    [ reset timer    vFallTimer11 = 0;    [ the guest stops waving while Jerrod continues to fall    vGuest11Status = GS_DONE_WAVING;    set.loop(oRoom11Guest, 3);    set.cel(oRoom11Guest, 0);    }  }  [ after guest is done wavingif (vGuest11Status == GS_DONE_WAVING)  {  [ increment timer  ++vFallTimer11;  [ after 30 cycles  if (vFallTimer11 == 30)    {    [ reset timer    vFallTimer11 = 0;    [ Jerrod is done falling    vGuest11Status = GS_JERROD_FELL;    [ guest begins standing back up    end.of.loop(oRoom11Guest, fGuest11Moved);    }  }  [ if away timer for Guest in room 10 is activeif (vAwayTimer10 > 0)  {  [ decrement the timer  --vAwayTimer10;  }  [ if away timer hits zero and guest is not at the windowif (vAwayTimer10 == 0 && vGuest10Status == GS_OUT_OF_SIGHT)  {  [ reverse direction by checking current loop and swapping  [ it  current.loop(oRoom10Guest, vLoopNum10);  [ if guest last walked to right  if (vLoopNum10 == 3)    {    [ reset cel    set.cel(oRoom10Guest, 0);    [ switch to walking-left loop    set.loop(oRoom10Guest, 2);    draw(oRoom10Guest);    end.of.loop(oRoom10Guest, fGuest10Moved);    [ guest is walking to left    vGuest10Status = GS_MOVING_LEFT;    }  [ if guest last walked to left  if (vLoopNum10 == 2)    {    [ reset cel    set.cel(oRoom10Guest, 0);    [ switch to walking-right loop    set.loop(oRoom10Guest, 3);    draw(oRoom10Guest);    end.of.loop(oRoom10Guest, fGuest10Moved);    [ guest is walking to right    vGuest10Status = GS_MOVING_RIGHT;    }  }  [ when guest finishes moving at the windowif (isset(fGuest10Moved))  {  [ reset the flag  reset(fGuest10Moved);    [ (both these 'if' blocks have exact same commands;  [ they could have used a single 'if' block that used an  [ 'or' operator to be more efficient)    [ if currently moving to right  if (vGuest10Status == GS_MOVING_RIGHT)    {    [ remove guest from screen    erase(oRoom10Guest);    vGuest10Status = GS_OUT_OF_SIGHT;    [ choose a random amount of time for    [ guest to be away from the window    random(10, 50, vAwayTimer10);    }      [ if currently moving to the left  if (vGuest10Status == GS_MOVING_LEFT)    {    [ remove guest from screen    erase(oRoom10Guest);    vGuest10Status = GS_OUT_OF_SIGHT;    [ choose a random amount of time for    [ guest to be away from the window    random(10, 50, vAwayTimer10);    }    [ if guest is waving at Jerrod  if (vGuest10Status == GS_WAVING)    {    [ Jerrod is startled and begins falling    vGuest10Status = GS_JERROD_FALLING;    [ trigger a fall (by setting flag, as if Jerrod walked    [ off the ledge)    set(egoHitSpecial);    }  }  [ if Jerrod is in front of window for room 10 and guest is[ moving past or goneif (posn(ego, 88, 94, 104, 96) &&     vGuest10Status < GS_WAVING)  {  [ get guest's current cel  current.cel(oRoom10Guest, vCelNum10);  [ if guest is in view of the window  if (vCelNum10 > 1 && vCelNum10 < 7)    {    [ uh oh! Jerrod gets caught - reposition guest at window    [ to confront Jerrod    vDX = -5; [ 251;    vDY = 0;    reposition(oRoom10Guest, vDX, vDY);    [ change to loop showing guest waving at Jerrod    set.loop(oRoom10Guest, 4);    set.cel(oRoom10Guest, 0);    end.of.loop(oRoom10Guest, fGuest10Moved);    [ advance to next stage    vGuest10Status = GS_WAVING;    }  }  [ while Jerrod is falling off the ledgeif (vGuest10Status == GS_JERROD_FALLING)  {  [ increment fall timer  ++vFallTimer10;  [ after 30 cycles  if (vFallTimer10 == 30)    {    [ reset timer    vFallTimer10 = 0;    [ guest is done waving and goes back to walking back and    [ forth        [ reposition so changed loop shows in correct position    vDX = 5;    vDY = 0;    reposition(oRoom10Guest, vDX, vDY);    [ guest starts in middle of window moving to right    set.loop(oRoom10Guest, 3);    set.cel(oRoom10Guest, 4);    end.of.loop(oRoom10Guest, fGuest10Moved);    vGuest10Status = GS_MOVING_RIGHT;    }  }  [ if Jerrod is not falling off the ledgeif (!isset(fIsFalling))  {  [ if Jerrod was startled by guest at window OR strayed too  [ far off ledge (by moving in down direction)  if (isset(egoHitSpecial))    {    [ change loop to show Jerrod falling    set.loop(ego, 2);    fix.loop(ego);    vDX = 10;    vDY = 167;    [ move Jerrod to bottom of screen    move.obj.v(ego, EgoX, vDY, vDX, fDoneFalling);    [ set the falling flag    set(fIsFalling);    [ stop playing the warning music (this is a minor bug -    [ resetting fMusicDone BEFORE stopping the sound doesn't    [ work - first of all, if the sound is still playing,    [ flag is already reset; secondly, calling stop.sound    [ automatically sets the flag to TRUE; but since the    [ code that restarts the music checks for Jerrod falling    [ it doesn't matter that the flag is TRUE)    reset(fMusicDone);    stop.sound();    }  }  [ when Jerrod finishes falling off the ledgeif (isset(fDoneFalling))  {  [ reset the flag  reset(fDoneFalling);  [ remove Jerrod from screen  erase(ego);  [ no more input  prevent.input();  stop.motion(ego);  [ show death message  display(22, 0, "    Ledge walkin' can be hazardous!");  [ play death sound  sound(m.Death, fSndDone);  [ Jerrod is officially dead  set(JerrodIsDead);  }  [ if window 11 is finished opening/closingif (isset(fWindowMoved))  {  [ reset the flag  reset(fWindowMoved);  [ stop updating the window  stop.update(oWindow11);  }  [ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ if Jerrod is at left edge of ledgeif (posn(ego, 1, 94, 2, 96))  {  [ set loop and position to correct values for the next  [ room  set.loop(ego, 1);  position(ego, 138, 95);  [ move to left ledge  new.room(rm.LedgeLeft); [ ##LE001##  }[ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(Done);  }  [ unlock window/open latchif ((said("diconnect", "glass") ||     said("unlock", "glass") ||     said("open", "latch")))  {  [ if Jerrod is by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("Why would ya do that? The window's open!");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if window is already open      if (isset(Window11Open))        {        print("Why would ya do that? The window's open!");        }      else        {        [ if window is broken        if (isset(Window11Broken))          {          [ unlatch it!          print("Ya reach through the broken glass and unlatch the window.");          set(Window11Unlatched);          }        else          {          print("Ya cain't do that through the window.");          }        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ latch window/lock windowif ((said("latch", "glass") || said("lock", "glass")))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("Why would ya do that? The window's open!");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if window is open      if (isset(Window11Open))        {        print("Why would ya do that? The window's open!");        }      else        {        [ if window is broken        if (isset(Window11Broken))          {          [ latch it!          print("Ya reach through the broken glass and latch the window.");          reset(Window11Unlatched);          }        else          {          print("Ya cain't do that through the window.");          }        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ open windowif (said("open", "glass"))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("This window's already open.");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if window is already open      if (isset(Window11Open))        {        print("This window's already open.");        }      else        {        [ if window is unlatched        if (isset(Window11Unlatched))          {          [ open it          print("Ya open the window.");          sound(s.Window, fSndDone);          set(Window11Open);          start.update(oWindow11);          end.of.loop(oWindow11, fWindowMoved);          }        else          {          print("Ya cain't do that. The window is latched.");          }        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ close windowif (said("close", "glass"))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("It looks like there's someone inside. I wouldn't!");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if window is open      if (isset(Window11Open))        {        [ close it        print("Ya close the window.");        sound(s.Window, fSndDone);        start.update(oWindow11);        reverse.loop(oWindow11, fWindowMoved);        reset(Window11Open);        }      else        {        print("The window's already closed.");        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ break windowif (said("break", "glass"))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("Why would ya do that? The window's open!");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if Jerrod knows about Jake's room      if (isset(ScoreLetterClue))        {        [ if window is open        if (isset(Window11Open))          {          print("Why would ya do that? The window's open!");          }        else          {          [ if window is already broken          if (isset(Window11Broken))            {            print("The window's already broken.");            }          else            {            [ if the room is currently unoccupied            if (isset(HotelRoomEmpty))              {              [ play sound              sound(s.WindowBreak, fSndDone);              [ break the window              print("As quietly as ya can, ya bust the hotel window!");              [ change to broken window loop              set.loop(oWindow11, 4);              [ force it to draw              force.update(oWindow11);              set(Window11Broken);              [ lose two points              currentScore -= 2;              }            else              {              [ play sound              sound(s.WindowBreak, fSndDone);              [ change to broken window loop              set.loop(oWindow11, 4);              [ force it to draw              force.update(oWindow11);              [ break the window              print.at("As quietly as ya can, ya bust the hotel window!", 2, 5, 0);              [ uh oh! someone's here!              print.at("But just after ya bust the window, ya notice there's a "                       "man inside and he's yelling...", 2, 5, 0);              print.at("...\"Burglar! Burglar! Get that burglar!!\"", 2, 5, 0);              [ Jerrod gets sent to the gallows              new.room(rm.Gallows); [ ##LE002##              }            }          }        }      else        {        [ Jerrod doesn't know about the room yet        print("You know you could do that, but right now you have no reason to.");        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ crawl in windowif ((said("crawl", "glass") ||     said("crawl", "in", "glass") ||     said("crawl", "around") ||     said("crawl", "in", "around") ||     said("crawl", "eleven") ||     said("crawl", "in", "eleven") ||     said("climb", "glass") ||     said("climb", "in", "glass") ||     said("climb", "around") ||     said("climb", "in", "around") ||     said("climb", "eleven") ||     said("climb", "in", "eleven") ||     said("go", "glass") ||     said("go", "in", "glass") ||     said("go", "around") ||     said("go", "eleven") ||     said("go", "in", "eleven") ||     said("enter", "around") ||     said("enter", "eleven")))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("It looks like there's someone inside. I wouldn't!");      }    [ if by room 11    if (posn(ego, 12, 94, 39, 96))      {      [ if window is open      if (isset(Window11Open))        {        [ crawl through        print("Bein' mighty careful not to fall offa the ledge, ya crawl "              "through the window!");        [ set position and loop for next room        position(ego, 73, 100);        set.loop(ego, 2);        new.room(rm.Hotel11); [ ##LE003##        }      else        {        print("Ya cain't do that through the window.");        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ look window/look in windowif ((said("examine", "glass") ||     said("examine", "in", "glass")))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      print("This is room 10. Only the lady is unusual. Watch your step outside "            "of this window!");      }    else      {      [ if room 11 is open      if (isset(Window11Open))        {        print("Room 11 is clean and tidy. Ya notice a fireplace on the left "              "wall of the room.");        }      else        {        [ if room 11 window is closed and broken        if (isset(Window11Broken))          {          print("Room 11 is clean and tidy. Ya notice a fireplace on the left "                "wall of the room.");          }        else          {          print("Through the window ya see a clean room. There's a fireplace on "                "the left side of the room.");          }        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ look man/look womanif ((said("examine", "boy") ||     said("examine", "girl") ||     said("examine", "boy", "glass") ||     said("examine", "girl", "glass") ||     said("examine", "boy", "in", "glass") ||     said("examine", "girl", "in", "glass")))  {  [ if by either window  if ((posn(ego, 82, 94, 108, 96) ||       posn(ego, 12, 94, 39, 96)))    {    [ if by room 10    if (posn(ego, 82, 94, 108, 96))      {      [ this is kind of rude! I guess they are suggesting      [ the woman in this room is fat?      print("Now you understand why the ledge is shakin' near this window!");      }    else      {      [ if room 11 is unoccupied      if (isset(HotelRoomEmpty))        {        print("The man's not in his room right now.");        }      else        {        print("This man has a lot on his mind. He doesn't notice you outside of "              "his window.");        }      }    }  else    {    print("Yer not close enough to a window.");    }  }  [ look/look aroundif ((said("examine", "around") ||     said("examine") ||     said("examine", "hotel") ||     said("examine", "green", "pasture", "hotel") ||     said("examine", "green", "pasture")))  {  print("Yer walkin' the ledge at the Green Pastures Hotel!");  }  [ look downif (said("examine", "down"))  {  print("It doesn't look that far down, but if ya fell, ya probably wouldn't "        "survive!");  }  [ look message/read messageif ((said("examine", "message") ||     said("read", "message") ||     said("open", "message")))  {  if (has("Message for room 11"))    {    print("Not now! Ya might fall off the ledge!");    }  else    {    print("Ya don't have a message.");    }  }  [ look ledgeif (said("examine", "ledge"))  {  print("Walkin' a ledge like this is nothin' fer a sure-footed frontiersman "        "like yerself!");  }  [ look wallif (said("examine", "wall"))  {  print("You've got yer back up against a wall!");  }  Done:return();[ **************************************[ MESSAGES[ **************************************#message 1 "    Ledge walkin' can be hazardous!"#message 2 "Yer not close enough to a window."#message 3 "This window's already open."#message 4 "Ya reach through the broken glass and unlatch the window."#message 5 "Ya cain't do that through the window."#message 6 "Ya open the window."#message 7 "Ya cain't do that. The window is latched."#message 8 "It looks like there's someone inside. I wouldn't!"#message 9 "Ya close the window."#message 10 "The window's already closed."#message 11 "Why would ya do that? The window's open!"#message 12 "Ya reach through the broken glass and latch the window."#message 13 "You know you could do that, but right now you have no reason to."#message 14 "The window's already broken."#message 15 "As quietly as ya can, ya bust the hotel window!"#message 16 "Bein' mighty careful not to fall offa the ledge, ya crawl through the window!"#message 17 "But just after ya bust the window, ya notice there's a man inside and he's yelling..."#message 18 "...\"Burglar! Burglar! Get that burglar!!\""#message 19 "Ya never know what might be lurkin' inside one of these windows!"#message 20 "Yer walkin' the ledge at the Green Pastures Hotel!"#message 21 "It doesn't look that far down, but if ya fell, ya probably wouldn't survive!"#message 23 "Not now! Ya might fall off the ledge!"#message 24 "Ya don't have a message."#message 25 "This is room 10. Only the lady is unusual. Watch your step outside of this window!"#message 26 "Room 11 is clean and tidy. Ya notice a fireplace on the left wall of the room."#message 27 "Through the window ya see a clean room. There's a fireplace on the left side of the room."#message 28 "You've got yer back up against a wall!"#message 29 "Walkin' a ledge like this is nothin' fer a sure-footed frontiersman like yerself!"#message 30 "Now you understand why the ledge is shakin' near this window!"#message 31 "The man's not in his room right now."#message 32 "This man has a lot on his mind. He doesn't notice you outside of his window."