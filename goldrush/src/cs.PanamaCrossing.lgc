[***********************************************************[[ cs.PanamaCrossing[[ This cut scene shows a close up of the Panama isthmus and[ tracks Jerrod's progress as he crosses, and then as he[ leaves on the Pacific side for final leg of his journey[ to California.[[***********************************************************[ **************************************[ LOCAL DEFINES[ **************************************#define oBlock1                      o1#define oBlock2                      o2#define oBlock3                      o3#define oBlock4                      o4#define oBlock5                      o5#define oBlock6                      o6#define oBlock7                      o7#define oBlock8                      o8#define oBlock9                      o9[ o10 through o19 are not used#define oMarker                     o20[ v220 through v232 are not used#define vMarkerDX                  v233#define vMarkerDY                  v234#define vMsgTimer                  v235#define vTimeCounter               v236[ v237 is not used#define vMarkerX                   v238#define vMarkerY                   v239#define vMovePoint                 v240#define vTmpVar                    v241#define fMarkerMoved               f220[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load the main timing logic for Panama trip  load.logics(lgc.PanamaTripTiming);    [ load pic for current room  load.pic(currentRoom);    [ load the artwork needed for this room  load.view(vw.PanamaRouteArt);    [ draw the picture  draw.pic(currentRoom);    [ if current trip time is for approach to Chagres  if (CurrentTripTime == TripPoint_6)    {    [ permanently cover up the trip path on Pacific side and    [ along the jungle route    add.to.pic(vw.PanamaRouteArt, 0, 6, 29, 46, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 36, 52, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 35, 65, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 42, 75, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 54, 74, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 54, 87, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 55, 92, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 65, 103, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 6, 77, 100, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 0, 85, 96, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 1, 84, 106, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 2, 90, 117, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 3, 100, 120, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 4, 100, 133, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 5, 100, 146, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 158, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 167, 5, 5);        [ use blocks to cover up the marker route; they will be    [ removed as the marker moves to show the traced route    animate.obj(oBlock1);    set.view(oBlock1, vw.PanamaRouteArt);    set.loop(oBlock1, 0);    set.cel(oBlock1, 7);    position(oBlock1, 25, 24);    set.priority(oBlock1, 5);    ignore.horizon(oBlock1);    draw(oBlock1);    stop.cycling(oBlock1);    [ block 2    animate.obj(oBlock2);    set.view(oBlock2, vw.PanamaRouteArt);    set.loop(oBlock2, 0);    set.cel(oBlock2, 7);    position(oBlock2, 25, 34);    set.priority(oBlock2, 5);    ignore.horizon(oBlock2);    draw(oBlock2);    stop.cycling(oBlock2);        [ flashing marker - the marker is of a special size and    [ shape that uses the priority value of the route on the    [ picture to show the marker as a single flashing pixel    [ that moves along the trip path line    animate.obj(oMarker);    set.view(oMarker, vw.PanamaRouteArt);    set.loop(oMarker, 2);    fix.loop(oMarker);    position(oMarker, 25, 12);    set.priority(oMarker, 7);    ignore.horizon(oMarker);    ignore.objs(oMarker);    draw(oMarker);    vTmpVar = 2;    step.time(oMarker, vTmpVar);    move.obj(oMarker, 25, 34, 1, fMarkerMoved);    vMovePoint = 1;    }      [ if current trip point is up river to disembarkation  [ point  if (CurrentTripTime == TripPoint_9)    {    [ permanently cover up the trip path on Pacific side and    [ along the jungle route    add.to.pic(vw.PanamaRouteArt, 0, 0, 85, 96, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 1, 84, 106, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 2, 90, 117, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 3, 100, 120, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 4, 100, 133, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 5, 100, 146, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 158, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 167, 5, 5);        [ use blocks to cover up the marker route; they will be    [ removed as the marker moves to show the traced route    animate.obj(oBlock1);    set.view(oBlock1, vw.PanamaRouteArt);    set.loop(oBlock1, 0);    set.cel(oBlock1, 6);    position(oBlock1, 29, 46);    set.priority(oBlock1, 5);    draw(oBlock1);    stop.cycling(oBlock1);    [ block 2    animate.obj(oBlock2);    set.view(oBlock2, vw.PanamaRouteArt);    set.loop(oBlock2, 0);    set.cel(oBlock2, 6);    position(oBlock2, 36, 52);    set.priority(oBlock2, 5);    draw(oBlock2);    stop.cycling(oBlock2);    [ block 3    animate.obj(oBlock3);    set.view(oBlock3, vw.PanamaRouteArt);    set.loop(oBlock3, 0);    set.cel(oBlock3, 6);    position(oBlock3, 36, 65);    set.priority(oBlock3, 5);    draw(oBlock3);    stop.cycling(oBlock3);    [ block 4    animate.obj(oBlock4);    set.view(oBlock4, vw.PanamaRouteArt);    set.loop(oBlock4, 0);    set.cel(oBlock4, 6);    position(oBlock4, 42, 78);    set.priority(oBlock4, 5);    draw(oBlock4);    stop.cycling(oBlock4);    [ block 5    animate.obj(oBlock5);    set.view(oBlock5, vw.PanamaRouteArt);    set.loop(oBlock5, 0);    set.cel(oBlock5, 6);    position(oBlock5, 54, 74);    set.priority(oBlock5, 5);    draw(oBlock5);    stop.cycling(oBlock5);    [ block 6    animate.obj(oBlock6);    set.view(oBlock6, vw.PanamaRouteArt);    set.loop(oBlock6, 0);    set.cel(oBlock6, 6);    position(oBlock6, 54, 87);    set.priority(oBlock6, 5);    draw(oBlock6);    stop.cycling(oBlock6);    [ block 7    animate.obj(oBlock7);    set.view(oBlock7, vw.PanamaRouteArt);    set.loop(oBlock7, 0);    set.cel(oBlock7, 6);    position(oBlock7, 63, 100);    set.priority(oBlock7, 5);    draw(oBlock7);    stop.cycling(oBlock7);    [ block 8    animate.obj(oBlock8);    set.view(oBlock8, vw.PanamaRouteArt);    set.loop(oBlock8, 0);    set.cel(oBlock8, 6);    position(oBlock8, 65, 103);    set.priority(oBlock8, 5);    ignore.horizon(oBlock8);    draw(oBlock8);    stop.cycling(oBlock8);    [ block 9    animate.obj(oBlock9);    set.view(oBlock9, vw.PanamaRouteArt);    set.loop(oBlock9, 0);    set.cel(oBlock9, 6);    position(oBlock9, 77, 100);    set.priority(oBlock9, 5);    ignore.horizon(oBlock9);    draw(oBlock9);    stop.cycling(oBlock9);        [ flashing marker - the marker is of a special size and    [ shape that uses the priority value of the route on the    [ picture to show the marker as a single flashing pixel    [ that moves along the trip path line    animate.obj(oMarker);    set.view(oMarker, vw.PanamaRouteArt);    set.loop(oMarker, 2);    fix.loop(oMarker);    position(oMarker, 25, 34);    set.priority(oMarker, 7);    ignore.horizon(oMarker);    ignore.objs(oMarker);    draw(oMarker);    vTmpVar = 2;    step.time(oMarker, vTmpVar);    move.obj(oMarker, 25, 42, 1, fMarkerMoved);    vMovePoint = 1;    }      [ if trip point is moving through first part of jungle  if (CurrentTripTime == TripPoint_12)    {    [ permanently cover up the trip path on Pacific side and    [ along second half of the jungle route    add.to.pic(vw.PanamaRouteArt, 0, 2, 90, 117, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 3, 100, 120, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 4, 100, 133, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 5, 100, 146, 6, 6);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 158, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 167, 5, 5);    animate.obj(oBlock1);        [ use blocks to cover up the marker route; they will be    [ removed as the marker moves to show the traced route    set.view(oBlock1, vw.PanamaRouteArt);    set.loop(oBlock1, 0);    set.cel(oBlock1, 0);    position(oBlock1, 85, 96);    set.priority(oBlock1, 6);    draw(oBlock1);    stop.cycling(oBlock1);    [ block 2    animate.obj(oBlock2);    set.view(oBlock2, vw.PanamaRouteArt);    set.loop(oBlock2, 0);    set.cel(oBlock2, 1);    position(oBlock2, 84, 106);    set.priority(oBlock2, 6);    draw(oBlock2);    stop.cycling(oBlock2);        [ flashing marker - the marker is of a special size and    [ shape that uses the priority value of the route on the    [ picture to show the marker as a single flashing pixel    [ that moves along the trip path line    animate.obj(oMarker);    set.view(oMarker, vw.PanamaRouteArt);    set.loop(oMarker, 2);    fix.loop(oMarker);    position(oMarker, 85, 87);    set.priority(oMarker, 7);    ignore.horizon(oMarker);    ignore.objs(oMarker);    draw(oMarker);    vTmpVar = 2;    step.time(oMarker, vTmpVar);    move.obj(oMarker, 85, 98, 1, fMarkerMoved);    vMovePoint = 1;    }    [ if trip point is moving through last part of jungle to  [ Panama City  if (CurrentTripTime == TripPoint_16)    {    [ permanently cover up the trip path on Pacific side    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 158, 5, 5);    add.to.pic(vw.PanamaRouteArt, 0, 7, 100, 167, 5, 5);        [ use blocks to cover up the marker route; they will be    [ removed as the marker moves to show the traced route    animate.obj(oBlock1);    set.view(oBlock1, vw.PanamaRouteArt);    set.loop(oBlock1, 0);    set.cel(oBlock1, 2);    position(oBlock1, 90, 117);    set.priority(oBlock1, 6);    draw(oBlock1);    stop.cycling(oBlock1);    [ block 2    animate.obj(oBlock2);    set.view(oBlock2, vw.PanamaRouteArt);    set.loop(oBlock2, 0);    set.cel(oBlock2, 3);    position(oBlock2, 100, 120);    set.priority(oBlock2, 6);    draw(oBlock2);    stop.cycling(oBlock2);    [ block 3    animate.obj(oBlock3);    set.view(oBlock3, vw.PanamaRouteArt);    set.loop(oBlock3, 0);    set.cel(oBlock3, 4);    position(oBlock3, 100, 133);    set.priority(oBlock3, 6);    draw(oBlock3);    stop.cycling(oBlock3);    [ block 4    animate.obj(oBlock4);    set.view(oBlock4, vw.PanamaRouteArt);    set.loop(oBlock4, 0);    set.cel(oBlock4, 5);    position(oBlock4, 100, 146);    set.priority(oBlock4, 6);    draw(oBlock4);    stop.cycling(oBlock4);        [ flashing marker - the marker is of a special size and    [ shape that uses the priority value of the route on the    [ picture to show the marker as a single flashing pixel    [ that moves along the trip path line    animate.obj(oMarker);    set.view(oMarker, vw.PanamaRouteArt);    set.loop(oMarker, 2);    fix.loop(oMarker);    position(oMarker, 83, 117);    set.priority(oMarker, 6);    ignore.horizon(oMarker);    ignore.objs(oMarker);    draw(oMarker);    vTmpVar = 2;    step.time(oMarker, vTmpVar);    move.obj(oMarker, 90, 117, 1, fMarkerMoved);    vMovePoint = 1;    }    [ if trip point is moving out of Panama City and off  [ screen  if (CurrentTripTime == TripPoint_18)    {    [ use blocks to cover up the marker route; they will be    [ removed as the marker moves to show the traced route    animate.obj(oBlock1);    set.view(oBlock1, vw.PanamaRouteArt);    set.loop(oBlock1, 0);    set.cel(oBlock1, 7);    position(oBlock1, 100, 158);    set.priority(oBlock1, 5);    draw(oBlock1);    stop.cycling(oBlock1);    [ block 2    animate.obj(oBlock2);    set.view(oBlock2, vw.PanamaRouteArt);    set.loop(oBlock2, 0);    set.cel(oBlock2, 7);    position(oBlock2, 100, 167);    set.priority(oBlock2, 5);    draw(oBlock2);    stop.cycling(oBlock2);    [ block 3    animate.obj(oBlock3);    set.view(oBlock3, vw.PanamaRouteArt);    set.loop(oBlock3, 0);    set.cel(oBlock3, 5);    position(oBlock3, 100, 146);    set.priority(oBlock3, 5);    draw(oBlock3);    stop.cycling(oBlock3);        [ flashing marker - the marker is of a special size and    [ shape that uses the priority value of the route on the    [ picture to show the marker as a single flashing pixel    [ that moves along the trip path line    animate.obj(oMarker);    set.view(oMarker, vw.PanamaRouteArt);    set.loop(oMarker, 2);    fix.loop(oMarker);    position(oMarker, 100, 135);    set.priority(oMarker, 7);    ignore.horizon(oMarker);    ignore.objs(oMarker);    draw(oMarker);    vTmpVar = 2;    step.time(oMarker, vTmpVar);    move.obj(oMarker, 100, 167, 1, fMarkerMoved);    vMovePoint = 1;    }      [ now show the picture  show.pic();  }  [ **************************************[ EVERY CYCLE[ **************************************[ if current trip time is for approach to Chagresif (CurrentTripTime == TripPoint_6)  {  [ when marker reaches end of its movement  if (isset(fMarkerMoved) && vMovePoint == 1)    {    [ ready to move to next trip point    reset(fMarkerMoved);    vMovePoint = 2;    set(ContinueJourney);    }      [ use marker position to determine when to erase the block  get.posn(oMarker, vMarkerX, vMarkerY);  if (vMarkerY == 24)    {    erase(oBlock1);    }      [ at specific points along the journey, show informational  [ messages, unless player has suppressed them  if (posn(oMarker, 25, 12, 25, 12) && vMsgTimer == 0)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("Near the mouth of the Rio Chagres are ancient Spanish, Scottish "            "and English forts, now in ruins. The most famous of these is Fort "            "San Lorenzo. Hidden by the dense jungle are many more that are now "            "invisible.");      print("Other cities and fortresses which once flourished, are now "            "overgrown and hidden. No one knows where they are.");      }    }  if (posn(oMarker, 25, 21, 25, 21) && vMsgTimer == 1)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("Ships arriving from all over the world are not allowed to dock on "            "the Caribbean side of the isthmus. Ships must anchor off shore "            "which results in the passengers having to pay exorbitant prices to "            "native businesspeople for a ride to shore.");      print("You will ride to shore and 40 miles up the Rio Chagres in small, "            "wooden boats.");      }    }  if (posn(oMarker, 25, 33, 25, 33) && vMsgTimer == 2)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("Offshore it is\nbeautifully silent.");      }    }  }  [ if current trip point is up river to disembarkation pointif (CurrentTripTime == TripPoint_9)  {  [ as the marker moves along the path, adjust its  [ destination point as needed  if (isset(fMarkerMoved) && vMovePoint == 1)    {    reset(fMarkerMoved);    vMovePoint = 2;    move.obj(oMarker, 31, 46, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 2)    {    reset(fMarkerMoved);    vMovePoint = 3;    move.obj(oMarker, 36, 65, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 3)    {    reset(fMarkerMoved);    vMovePoint = 4;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = -2; [ 254;    vMarkerDY = 10;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 36, 67, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 4)    {    reset(fMarkerMoved);    vMovePoint = 5;    move.obj(oMarker, 37, 67, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 5)    {    reset(fMarkerMoved);    vMovePoint = 6;    move.obj(oMarker, 40, 74, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 6)    {    reset(fMarkerMoved);    vMovePoint = 7;    move.obj(oMarker, 42, 78, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 7)    {    reset(fMarkerMoved);    vMovePoint = 8;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = 12;    vMarkerDY = -8; [ 248;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 54, 74, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 8)    {    reset(fMarkerMoved);    vMovePoint = 9;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = -11; [ 245;    vMarkerDY = 13;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 54, 79, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 9)    {    reset(fMarkerMoved);    vMovePoint = 10;    move.obj(oMarker, 54, 87, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 10)    {    reset(fMarkerMoved);    vMovePoint = 11;    move.obj(oMarker, 55, 92, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 11)    {    reset(fMarkerMoved);    vMovePoint = 12;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = -1; [ 255;    vMarkerDY = 13;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 65, 103, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 12)    {    reset(fMarkerMoved);    vMovePoint = 13;    move.obj(oMarker, 73, 104, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 13)    {    reset(fMarkerMoved);    vMovePoint = 14;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    set.loop(oMarker, 3);    vMarkerDX = 1;    vMarkerDY = -1; [ 255;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 74, 100, 1, fMarkerMoved);    }  [ when last point is reached  if (isset(fMarkerMoved) && vMovePoint == 14)    {    [ set flag to continue the journey    reset(fMarkerMoved);    vMovePoint = 15;    set(ContinueJourney);    }      [ use marker position to determine when to remove the  [ blocks  get.posn(oMarker, vMarkerX, vMarkerY);  if (posn(oMarker, 29, 46, 29, 46))    {    erase(oBlock1);    }  if (posn(oMarker, 36, 52, 36, 52))    {    erase(oBlock2);    }  if (posn(oMarker, 36, 65, 36, 65))    {    erase(oBlock3);    }  if (posn(oMarker, 42, 78, 42, 78))    {    erase(oBlock4);    }  if (posn(oMarker, 54, 74, 54, 74))    {    erase(oBlock5);    }  if (posn(oMarker, 54, 87, 54, 87))    {    erase(oBlock6);    }  if (posn(oMarker, 55, 92, 55, 92))    {    erase(oBlock7);    }  if (posn(oMarker, 65, 103, 65, 103))    {    erase(oBlock8);    }      [ at specific points along the journey, show informational  [ messages, unless player has suppressed them  if (posn(oMarker, 32, 47, 32, 47) && vMsgTimer == 0)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("The crooked river winds its way through a deep canyon with steep "            "walls covered with thick vegetation.");      }    }  if (posn(oMarker, 39, 69, 39, 69) && vMsgTimer == 1)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("In the jungle it is never silent. There is an underlying hum and "            "rustle, and the sound of water dripping. Birds are squawking, "            "monkeys are chattering, things you can't see are crashing and "            "crumbling.");      }    }  if (posn(oMarker, 49, 81, 49, 81) && vMsgTimer == 2)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("The wildlife is breath-taking. Monkeys are seen swinging in the "            "trees; alligators are sunning on logs; jaguars stalk the shore; "            "flamingos, pelicans, eagles, blue and white herons, and vultures "            "dot the sky. Not to mention all the creatures you can't see that "            "are watching you!");      print("Insects are unbearable. They are not just a nuisance; they carry "            "dreaded, deadly diseases.");      }    }  if (posn(oMarker, 57, 103, 57, 103) && vMsgTimer == 3)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("At times it is necessary to get out of the boat and drag it "            "through shallow portions of the river.");      print("You don't want to touch the jungle plants.");      print("Some of them have poisonous juice, some have 4-inch spikes, some "            "have blades as long and sharp as swords.");      }    }  if (posn(oMarker, 68, 104, 68, 104) && vMsgTimer == 4)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("You sweat continuously. The temperature may only be 85 degrees "            "Fahrenheit, but the air is saturated and perfectly still.");      print("All around you is the smell of hot, wet, rotten vegetation.");      print("You are beginning to wonder why you ever left the comforts of "            "Brooklyn!");      }    }    [ at specific points along the trip, increment the game  [ time by the number of days on the trip  if (posn(oMarker, 35, 50, 35, 50) && vTimeCounter == 0)    {    vTimeCounter = 1;    GameDays  += 1;    }  if (posn(oMarker, 54, 73, 54, 73) && vTimeCounter == 1)    {    vTimeCounter = 2;    GameDays  += 1;    }  if (posn(oMarker, 61, 103, 61, 103) && vTimeCounter == 2)    {    vTimeCounter = 3;    GameDays  += 1;    }  if (posn(oMarker, 74, 102, 74, 102) && vTimeCounter == 3)    {    vTimeCounter = 4;    GameDays  += 1;    }  }  [ if trip point is moving through first part of jungleif (CurrentTripTime == TripPoint_12)  {  [ when the marker reaches its end point advance it to next  [ position  if (isset(fMarkerMoved) && vMovePoint == 1)    {    reset(fMarkerMoved);    vMovePoint = 2;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = -7; [ 249;    vMarkerDY = 2;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 81, 98, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 2)    {    reset(fMarkerMoved);    vMovePoint = 3;    move.obj(oMarker, 81, 103, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 3)    {    reset(fMarkerMoved);    vMovePoint = 4;    move.obj(oMarker, 84, 103, 1, fMarkerMoved);    }  if (isset(fMarkerMoved) && vMovePoint == 4)    {    reset(fMarkerMoved);    vMovePoint = 5;    move.obj(oMarker, 84, 106, 1, fMarkerMoved);    }  [ when last point is reached  if (isset(fMarkerMoved) && vMovePoint == 5)    {    [ set flag to continue the journey    reset(fMarkerMoved);    vMovePoint = 15;    set(ContinueJourney);    }      [ use marker position to determine when to remove the  [ blocks  get.posn(oMarker, vMarkerX, vMarkerY);  if (vMarkerY == 96)    {    erase(oBlock1);    }  if (posn(oMarker, 84, 106, 84, 106))    {    erase(oBlock2);    }      [ at specific points along the journey, show informational  [ messages, unless player has suppressed them  if (posn(oMarker, 85, 91, 85, 91) && vMsgTimer == 0)    {    ++vMsgTimer;    if (!isset(HideTripMsgs))      {      print("For a portion of the 20-mile walk to Panama City, you are "            "traveling on a road built centuries ago by the Spaniards. In the "            "early days of their conquest, this road was used to transport "            "treasures across the isthmus. It was called \"Camino Real\", "            "meaning Royal Road.");      print("A traveler in the jungle has hardly any view at all. You rarely "            "see the sky and can see only a few feet in any direction.");      print("A person unaccustomed to the ways of the jungle could find "            "themselves lost only a few feet from the road.");      print("When not on the primitive Spanish road, you are walking in "            "untouched jungle; treading on mud or wet, squashy leaf mold; "            "crawling over fallen trees; cutting your way through thick "            "vegetation.");      print("It is difficult to get off the road, even using the most common "            "and effective tool in the jungle, a machete.");      print("There is nothing in that jungle but snakes, alligators, tigers, "            "pumas, jaguars, vampire bats, tarantulas, scorpions, and stinging "            "centipedes!!");      }    }      [ at specific points along the trip, increment the game  [ time by the number of days on the trip  if (posn(oMarker, 81, 102, 81, 102) &&  vTimeCounter == 0)    {    vTimeCounter = 1;    GameDays  += 1;    }  if (posn(oMarker, 100, 109, 100, 109) && vTimeCounter == 1)    {    vTimeCounter = 2;    GameDays  += 1;    }  if (posn(oMarker, 100, 132, 100, 132) && vTimeCounter == 2)    {    vTimeCounter = 3;    GameDays  += 1;    }  }  [ if trip point is moving through last part of jungle to[ Panama Cityif (CurrentTripTime == TripPoint_16)  {  [ when the marker reaches its end point advance it to next  [ position  if (isset(fMarkerMoved) && vMovePoint == 1)    {    reset(fMarkerMoved);    vMovePoint = 2;    [ adjust position of marker, due to the shape of the     [ trail, and how the marker has to move to show a     [ single flashing pixel    vMarkerDX = 10;    vMarkerDY = -9; [ 247;    reposition(oMarker, vMarkerDX, vMarkerDY);    move.obj(oMarker, 100, 134, 1, fMarkerMoved);    }  [ when at last point  if (isset(fMarkerMoved) && vMovePoint == 2)    {    [ set flag to continue the journey    reset(fMarkerMoved);    vMovePoint = 15;    set(ContinueJourney);    }      [ use marker position to determine when to remove the  [ blocks  get.posn(oMarker, vMarkerX, vMarkerY);  if (posn(oMarker, 90, 117, 90, 117))    {    erase(oBlock1);    }  if (vMarkerY == 120)    {    erase(oBlock2);    }  if (vMarkerY == 133)    {    erase(oBlock3);    }      [ at specific points along the trip, increment the game  [ time by the number of days on the trip  if (posn(oMarker, 100, 109, 100, 109) && vTimeCounter == 0)    {    vTimeCounter = 1;    GameDays  += 1;    }  if (posn(oMarker, 100, 132, 100, 132) && vTimeCounter == 1)    {    vTimeCounter = 2;    GameDays  += 1;    }  }    [ if trip point is moving out of Panama City and off screenif (CurrentTripTime == TripPoint_18)  {  [ when the marker reaches its end point  if (isset(fMarkerMoved) && vMovePoint == 1)    {    [ set the flag to continue the journey    reset(fMarkerMoved);    vMovePoint = 2;    set(ContinueJourney);    }      [ use marker position to determine when to remove the  [ blocks  get.posn(oMarker, vMarkerX, vMarkerY);  [ order of blocks seems odd here, but it's correct  -   [block 3 is at beginning of trip, block 1 is next and  [ block 2 is last (remember the last block never needs to  [ be deleted because the flashing cursor passed over it)  if (vMarkerY == 146)    {    erase(oBlock3);    }  if (vMarkerY == 158)    {    erase(oBlock1);    }  }  [ there is no input processed in this logic, so this[ boilerplate piece of code could have been removedif (!isset(haveInput))  {  goto(Done);  }  Done:[ call the main timing logiccall(lgc.PanamaTripTiming);return();[ **************************************[ MESSAGES[ **************************************#message 1 "Near the mouth of the Rio Chagres are ancient Spanish, Scottish and English forts, now in ruins. The most famous of these is Fort San Lorenzo. Hidden by the dense jungle are many more that are now invisible."#message 2 "Other cities and fortresses which once flourished, are now overgrown and hidden. No one knows where they are."#message 3 "Ships arriving from all over the world are not allowed to dock on the Caribbean side of the isthmus. Ships must anchor off shore which results in the passengers having to pay exorbitant prices to native businesspeople for a ride to shore."#message 4 "You will ride to shore and 40 miles up the Rio Chagres in small, wooden boats."#message 5 "Offshore it is\nbeautifully silent."#message 11 "The crooked river winds its way through a deep canyon with steep walls covered with thick vegetation."#message 12 "In the jungle it is never silent. There is an underlying hum and rustle, and the sound of water dripping. Birds are squawking, monkeys are chattering, things you can't see are crashing and crumbling."#message 13 "The wildlife is breath-taking. Monkeys are seen swinging in the trees; alligators are sunning on logs; jaguars stalk the shore; flamingos, pelicans, eagles, blue and white herons, and vultures dot the sky. Not to mention all the creatures you can't see that are watching you!"#message 14 "Insects are unbearable. They are not just a nuisance; they carry dreaded, deadly diseases."#message 15 "At times it is necessary to get out of the boat and drag it through shallow portions of the river."#message 16 "You don't want to touch the jungle plants."#message 17 "Some of them have poisonous juice, some have 4-inch spikes, some have blades as long and sharp as swords."#message 20 "For a portion of the 20-mile walk to Panama City, you are traveling on a road built centuries ago by the Spaniards. In the early days of their conquest, this road was used to transport treasures across the isthmus. It was called \"Camino Real\", meaning Royal Road."#message 21 "A traveler in the jungle has hardly any view at all. You rarely see the sky and can see only a few feet in any direction."#message 22 "A person unaccustomed to the ways of the jungle could find themselves lost only a few feet from the road."#message 23 "When not on the primitive Spanish road, you are walking in untouched jungle; treading on mud or wet, squashy leaf mold; crawling over fallen trees; cutting your way through thick vegetation."#message 24 "It is difficult to get off the road, even using the most common and effective tool in the jungle, a machete."#message 25 "There is nothing in that jungle but snakes, alligators, tigers, pumas, jaguars, vampire bats, tarantulas, scorpions, and stinging centipedes!!"#message 27 "You sweat continuously. The temperature may only be 85 degrees Fahrenheit, but the air is saturated and perfectly still."#message 28 "All around you is the smell of hot, wet, rotten vegetation."#message 29 "You are beginning to wonder why you ever left the comforts of Brooklyn!"