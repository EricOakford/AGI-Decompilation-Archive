[***********************************************************[[ lgc.Lantern[[ This logic is only used in the Outhouse interior room, and[ includes code for dealing with the lantern.[ [***********************************************************[ if lantern is litif (isset(LanternLit))  {  [ increment the low timer  ++LanternTimer1;    [ if low timer maxes out (~15-20 seconds of play time)  if (LanternTimer1 == 255)    {    [ reset lower counter    LanternTimer1 = 0;    [ and increment high counter    ++LanternTimer2;    [ at 58 counts of the high counter (~45-60 minutes of    [ play time)    if (LanternTimer2 == 58)      {      [ lantern runs out of oil and goes out      set(LanternEmpty);      reset(LanternLit);      print("Yer lantern just ran out of oil!");      }    }  }  [ if a match is litif (isset(MatchLit))  {  [ increment match timer  ++MatchTimer;  [ after 75 cycles  if (MatchTimer == 75)    {    [ match goes out    MatchTimer = 0;    reset(MatchLit);    print("Yer match just burned out!");    }  }  [ if all matches are used upif (MatchesCount == 0 && has("Matches"))  {  [ drop them  drop("Matches");  }  [ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(Done);  }  [ light lanternif ((said("lamp", "lantern") ||     said("use", "lantern") ||     said("lamp", "lantern", "match") ||     said("use", "match", "lamp", "lantern")))  {  if (has("Lantern"))    {    if (isset(LanternLit))      {      print("The lantern's already lit.");      }    else      {      if (has("Matches"))        {        if (isset(LanternEmpty))          {          print("Yer lantern's out of oil.");          }        else          {          print("Ya light the lantern.");          set(LanternLit);          [ chance to make it through tunnels in total          [ darkness is gone          set(UsedLantern);          --MatchesCount;          }        }      else        {        print("Yer out of matches.");        }      }    }  else    {    print("Ya don't have a lantern.");    }  }  [ put out lanternif ((said("place", "out", "lantern") ||     said("place", "out", "lamp") ||     said("quench", "lantern") ||     said("quench", "lamp") ||     said("blow", "out", "lantern") ||     said("blow", "out", "lamp") ||     said("blow", "lantern") ||     said("blow", "lamp")))  {  if (has("Lantern"))    {    if (isset(LanternLit))      {      print("Ya blow out the lantern.");      reset(LanternLit);      [ if Jerrod doesn't have a lit match      if (!isset(MatchLit))        {        [ this isn't needed - lgc.DarkenTunnel doesn't do        [ anything when called from a room that isn't one of        [ the tunnel rooms        call(lgc.DarkenTunnel);        }      }    else      {      print("The lantern isn't lit.");      }    }  else    {    print("Ya don't have a lantern.");    }  }  [ light matchif ((said("lamp", "match") ||     said("use", "match")))  {  if (has("Matches"))    {    if (isset(MatchLit))      {      print("Ya already have a match lit.");      }    else      {      print("Ya light one of yer matches.");      set(MatchLit);      --MatchesCount;      }    }  else    {    print("Ya don't have any more matches.");    }  }  [ blow out matchif ((said("place", "out", "match") ||     said("quench", "match") ||     said("blow", "match") ||     said("blow", "out", "match")))  {  if (isset(MatchLit))    {    print("Ya blow out the match.");    reset(MatchLit);    [ if Jerrod doesn't have a lit lantern    if (!isset(LanternLit))      {      [ this isn't needed; lgc.DarkenTunnel doesn't do      [ anything when called from a room that isn't one of      [ the tunnel rooms      call(lgc.DarkenTunnel);      }    }  else    {    print("Ya don't have a match lit.");    }  }  [ no oil available in the outhouseif ((said("acquire", "oil") ||     said("acquire", "lantern", "oil") ||     said("acquire", "oil", "lantern")))  {  print("There's no more oil.");  }  if ((said("use", "shovel") ||     said("dig", "gold") ||     said("dig") ||     said("dig", "hole")))  {  if (has("Shovel"))    {    print("Ya can't use that in an outhouse!");    }  else    {    print("Ya don't have a shovel.");    }  }  if ((said("use", "pan") ||     said("pan")))  {  print("Ya can't do that in an outhouse!");  }  if (said("find", "gold"))  {  print("Look, and you will find!");  }  Done:return();[ **************************************[ MESSAGES[ **************************************#message 1 "Ya don't have a lantern."#message 2 "Yer out of matches."#message 3 "Yer lantern's out of oil."#message 4 "There's no more oil."#message 5 "The lantern's already lit."#message 6 "Ya light the lantern."#message 7 "Yer lantern just ran out of oil!"#message 8 "Yer match just burned out!"#message 9 "Ya light one of yer matches."#message 10 "Ya don't have any more matches."#message 11 "Ya already have a match lit."#message 12 "Ya blow out the lantern."#message 13 "The lantern isn't lit."#message 14 "Ya blow out the match."#message 15 "Ya don't have a match lit."#message 17 "Ya can't do that in an outhouse!"#message 18 "Ya can't use that in an outhouse!"#message 19 "Ya don't have a shovel."#message 20 "There are rocks all over in the mine."#message 26 "Look, and you will find!"