[***********************************************************[[ rm.ColomaEast[[ This is the east edge of Coloma. Nothing happens in this[ room.[[***********************************************************[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load the mule logic  load.logics(lgc.Mule);    [ load views used in the room  load.view(vw.JerrodCA);  load.view(vw.Tents);    [ load and draw current room picture  load.pic(currentRoom);  draw.pic(currentRoom);    [ add some tents  add.to.pic(vw.Tents, 1, 0, 27, 81, 0, 4);  add.to.pic(vw.Tents, 1, 1, 0, 135, 10, 10);  add.to.pic(vw.Tents, 1, 2, 111, 155, 11, 11);    [ set horizon  set.horizon(80);    [ Jerrod, with normal California attire  animate.obj(ego);  set.view(ego, vw.JerrodCA);  [ if Jerrod cam from rm.ColomaNE and is at left edge  [ behind the building  if (previousRoom == rm.ColomaNE && EgoX < 59)    {    [ bump him closer to center so he is visible    EgoX = 59;    EgoY = 82;    position.v(ego, EgoX, EgoY);    }  draw(ego);    [ if Jerrod has a mule  if ((has(LazyMule) || has("James' ol' mule")))    {    [ do mule initialization step    call(lgc.Mule);    }      [ now show the picture  show.pic();    [ clear the custom status line  clear.lines(24, 24, BLACK);    [ not necessary to reset this flag; AGI resets it  [ automatically  reset(newRoom);  }  [ **************************************[ EVERY CYCLE[ **************************************[ nothing to do in this room[ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(CheckExits);  }  [ look around/lookif ((said("examine", "around") || said("examine")))  {  print("Ya can barely see the boardwalk that leads to the hotel.");  }  [ look grassif (said("examine", "grass"))  {  print("This is just wild grass.");  }  [ look treeif (said("examine", "forest"))  {  print("This is just one of the mighty trees found in these parts.");  }  [ look rockif (said("examine", "rock"))  {  print("There's no rock in sight.");  }  [ look riverif ((said("examine", "creek") ||     said("examine", "water") ||     said("examine", "american", "creek")))  {  print("The American River lies north of the town of Coloma.");  }  [ look roadif ((said("examine", "path") ||     said("examine", "sacramento", "path")))  {  print("Sacramento Street is just east of the hotel.");  }  [ look buildingif ((said("examine", "building") ||     said("examine", "home") ||     said("examine", "church") ||     said("examine", "shop")))  {  print("Of all the buildings in town, the hotel is the most popular.");  }  [ look bushif (said("examine", "bush"))  {  print("There's no bush in sight.");  }  [ look tentif (said("examine", "tent"))  {  print("Tents dot the perimeter of the town.");  }  [ look hotelif ((said("examine", "hotel") ||     said("examine", "green", "pasture", "hotel") ||     said("examine", "green", "pasture") ||     said("examine", "coloma") ||     said("examine", "city")))  {  print("The Green Pastures Hotel is the main attraction in Coloma.");  }  [ look sidewalk/look boardwalkif ((said("examine", "sidewalk") ||     said("examine", "boardwalk")))  {  print("This boardwalk leads to the Green Pastures Hotel.");  }  [ look rail/look fenceif ((said("examine", "rail") || said("examine", "fence")))  {  print("A fence is attached to the boardwalk.");  }  [ use shovel/dig for goldif ((said("use", "shovel") ||     said("dig", "gold") ||     said("dig") ||     said("dig", "hole")))  {  [ if Jerrod has a shovel  if (has("Shovel"))    {    print("Don't dig up the town! Do that somewhere else!!");    }  else    {    print("No shovel, no diggin'!");    }  }  [ use pan/pan for goldif ((said("use", "pan") ||     said("pan", "gold") ||     said("pan")))  {  print("Ya need to be in the water!");  }  [ look in tent/enter tentif ((said("examine", "in", "tent") ||     said("enter", "tent")))  {  print("There's nothin' of interest in the tent.");  }  [ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ (unlike most other logics, the check for exit condition[ happens LAST in this room)CheckExits:[ if Jerrod has a muleif ((has(LazyMule) || has("James' ol' mule")))  {  [ process mule related commands before checking exits  call(lgc.Mule);  }  if (edgeEgoHit != NOT_HIT)  {  if (edgeEgoHit == TOP_EDGE)    {    --WildernessY;    new.room(rm.ColomaNE); [ ##LE001##    }  if (edgeEgoHit == LEFT_EDGE)    {    --WildernessX;    new.room(rm.GreenPastures); [ ##LE002##    }  if (edgeEgoHit == RIGHT_EDGE)    {    ++WildernessX;    new.room(lgc.Wilderness); [ ##LE003##    }  if (edgeEgoHit == BOTTOM_EDGE)    {    ++WildernessY;    new.room(rm.ColomaSE); [ ##LE004##    }  }  return();[ **************************************[ MESSAGES[ **************************************#message 1 "Ya can barely see the boardwalk that leads to the hotel."#message 2 "This is just wild grass."#message 3 "This is just one of the mighty trees found in these parts."#message 4 "There's no rock in sight."#message 5 "The American River lies north of the town of Coloma."#message 6 "Sacramento Street is just east of the hotel."#message 7 "Of all the buildings in town, the hotel is the most popular."#message 8 "There's no bush in sight."#message 9 "Tents dot the perimeter of the town."#message 10 "The Green Pastures Hotel is the main attraction in Coloma."#message 11 "This boardwalk leads to the Green Pastures Hotel."#message 12 "A fence is attached to the boardwalk."#message 13 "There's nothin' of interest in the tent."#message 40 "Don't dig up the town! Do that somewhere else!!"#message 41 "No shovel, no diggin'!"#message 42 "Ya need to be in the water!"