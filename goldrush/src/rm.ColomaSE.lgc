[***********************************************************[[ rm.ColomaSE[[ This is the southeast corner of Coloma. Nothing happens in[ this room.[[***********************************************************[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load the mule logic  load.logics(lgc.Mule);    [ load views used in the room  load.view(vw.JerrodCA);  load.view(vw.Tents);    [ load and draw the current room picture  load.pic(currentRoom);  draw.pic(currentRoom);    [add a tent  add.to.pic(vw.Tents, 3, 0, 30, 85, 0, 4);    [ horizon is set to 100 in town  set.horizon(100);    [ Jerrod uses his normal California attire  animate.obj(ego);  set.view(ego, vw.JerrodCA);  draw(ego);    [ if Jerod has a mule  if ((has(LazyMule) || has("James' ol' mule")))    {    [ do mule initialization steps    call(lgc.Mule);    }      [ now show the picture  show.pic();    [ clear the custom status line  clear.lines(24, 24, BLACK);    [ not necessary to reset this flag; AGI resets it  [ automatically  reset(newRoom);  }  [ **************************************[ EVERY CYCLE[ **************************************[ nothing to do in this room[ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(CheckExits);  }  [ look around/lookif ((said("examine", "around") || said("examine")))  {  print("Through the trees ya can barely see the hotel.");  }  [ look grassif (said("examine", "grass"))  {  print("This is just wild grass.");  }  [ look treeif (said("examine", "forest"))  {  print("This is just one of the mighty trees found in these parts.");  }  [ look riverif ((said("examine", "creek") ||     said("examine", "water") ||     said("examine", "american", "creek")))  {  print("Just past town ya can see the American River.");  }  [ look roadif ((said("examine", "path") ||     said("examine", "main", "path") ||     said("examine", "sacramento", "path")))  {  print("Sacramento Street dissipates into wilderness. Back Street heads west "        "in front of the hotel.");  }  [ look buildingsif ((said("examine", "building") ||     said("examine", "home") ||     said("examine", "church") ||     said("examine", "shop")))  {  print("Of all the buildings in town, the hotel is the most prestigious.");  }  [ look hotelif ((said("examine", "hotel") ||     said("examine", "green", "pasture", "hotel") ||     said("examine", "green", "pasture") ||     said("examine", "coloma") ||     said("examine", "city")))  {  print("The Green Pastures Hotel is the main attraction in Coloma.");  }  [ look tentif (said("examine", "tent"))  {  print("Tents dot the perimeter of the city.");  }  [ look in tent/ go in tentif ((said("examine", "in", "tent") ||     said("enter", "tent")))  {  print("There's nothin' of interest in the tent.");  }  [ look boardwalkif ((said("examine", "sidewalk") ||     said("examine", "boardwalk")))  {  print("The boardwalk heads west down Back Street in front of the hotel.");  }  [ look fenceif ((said("examine", "rail") || said("examine", "fence")))  {  print("A fence follows the boardwalk.");  }[ use shovel/dig for goldif ((said("use", "shovel") ||     said("dig", "gold") ||     said("dig") ||     said("dig", "hole")))  {  [ if Jerrod has a shovel  if (has("Shovel"))    {    print("Don't dig up the town!  Do that somewhere else!!");    }  else    {    print("No shovel, no diggin'!");    }  }  [ use pan/pan for goldif ((said("use", "pan") ||     said("pan", "gold") ||     said("pan")))  {  print("Ya need to be in the water!");  }  [ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ (unlike most other logics, the check for exit condition[ happens LAST in this room)CheckExits:[ if Jerrod has a muleif ((has(LazyMule) || has("James' ol' mule")))  {  [ process mule related commands before checking exits  call(lgc.Mule);  }  if (edgeEgoHit != NOT_HIT)  {  if (edgeEgoHit == TOP_EDGE)    {    --WildernessY;    new.room(rm.ColomaEast); [ ##LE001##    }  if (edgeEgoHit == LEFT_EDGE)    {    --WildernessX;    new.room(rm.ColomaSouth); [ ##LE002##    }  if (edgeEgoHit == RIGHT_EDGE)    {    ++WildernessX;    new.room(lgc.Wilderness); [ ##LE003##    }  if (edgeEgoHit == BOTTOM_EDGE)    {    ++WildernessY;    new.room(lgc.Wilderness); [ ##LE004##    }  }return();[ **************************************[ MESSAGES[ **************************************#message 1 "Through the trees ya can barely see the hotel."#message 2 "This is just wild grass."#message 3 "This is just one of the mighty trees found in these parts."#message 5 "Just past town ya can see the American River."#message 6 "Sacramento Street dissipates into wilderness. Back Street heads west in front of the hotel."#message 7 "Of all the buildings in town, the hotel is the most prestigious."#message 9 "Tents dot the perimeter of the city."#message 10 "The Green Pastures Hotel is the main attraction in Coloma."#message 11 "The boardwalk heads west down Back Street in front of the hotel."#message 12 "A fence follows the boardwalk."#message 13 "There's nothin' of interest in the tent."#message 40 "Don't dig up the town!  Do that somewhere else!!"#message 41 "No shovel, no diggin'!"#message 42 "Ya need to be in the water!"