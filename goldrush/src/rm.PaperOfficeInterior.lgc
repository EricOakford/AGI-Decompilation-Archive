[***********************************************************[[ rm.PaperOfficeInterior[ [ This is Jerrod's workplace. Player can earn points for[ learning about Jake's story, and also for quitting his [ job. [[ This room has a lot of unused and unnecessary code; it [ looks like there were some changes in how Jerrod's boss[ ended up being portrayed, but old code was never removed.[ Not sure how their quality assurance process missed all[ this.[[***********************************************************[ **************************************[ LOCAL DEFINES[ **************************************#define oLois                        o1#define oBoss                        o2[ o3 - o4 are not used[ o5 is animated, but never referenced again#define oEconomist                   o6#define oReporter                    o7#define vStairPos                  v220  #define ST_NOT_IN_SW          0  [ 0: Jerrod is not in the stairwell  #define ST_RIGHT_UP           1  [ 1: in right stairwell, going up  #define ST_LEFT_UP            2  [ 2: in left stairwell, going up   #define ST_RIGHT_DOWN         3  [ 3: in right stairwell, going down  #define ST_LEFT_DOWN          4  [ 4: in left stairwell, going down  #define ST_MOVING_UP          5  [ 5: moving to center, upstairs  #define ST_MOVING_DOWN        6  [ 6: moving to center, downstairs#define vStairTimer                v221#define vRndNum                    v222#define vLoisStatus                v223#define vLoisCycle                 v224[ v225 - v230 are not used#define vEconomistStatus           v231#define vBossStatus                v232#define vBossTimer                 v233[ v234 is not used#define vBossX                     v235#define vBossY                     v236#define vBossOldX                  v237#define vBossOldY                  v238#define fEgoMoved                  f220#define fUpstairs                  f221#define fLoisMoved                 f222#define fLoisDir                   f223#define fSkipMessage               f224[ f225 - f231 are not used#define fEconomistMoved            f232#define fBossMoved                 f233#define fNapping                   f234#define fReporterMoved             f235#define fSoundDone                 f236[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load, draw and discard picture for current room  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);    [ load views used by objects in the room  load.view(vw.JerrodNY);  load.view(vw.PaperOfficeIntArt);  load.view(vw.PaperBoss);    [ load sounds used in the room  load.sound(s.AddToScore);  load.sound(m.SadSong);    [ add furniture art to the picture  add.to.pic(vw.PaperOfficeIntArt, 2, 0, 122, 76, 14, 0);  add.to.pic(vw.PaperOfficeIntArt, 2, 1, 122, 141, 12, 0);  add.to.pic(vw.PaperOfficeIntArt, 2, 2, 1, 87, 15, 0);  add.to.pic(vw.PaperOfficeIntArt, 2, 3, 1, 167, 15, 15);  add.to.pic(vw.PaperOfficeIntArt, 2, 4, 17, 140, 12, 0);  add.to.pic(vw.PaperOfficeIntArt, 2, 5, 64, 114, 12, 12);    [ Lois (the secretary)  animate.obj(oLois);  set.view(oLois, vw.PaperOfficeIntArt);  set.loop(oLois, 0);  [ randomly choose to start at beginning  [ or end of loop  random(0, 1, vRndNum);  if (vRndNum == 0)    {    set.cel(oLois, 0);    }  if (vRndNum == 1)    {    set.cel(oLois, 5);    }  set.priority(oLois, 12);  position(oLois, 70, 111);  draw(oLois);  stop.cycling(oLois);  vLoisStatus = 1;  vLoisCycle = 2;  cycle.time(oLois, vLoisCycle);    [ company economist  animate.obj(oEconomist);  set.view(oEconomist, vw.PaperOfficeIntArt);  set.loop(oEconomist, 5);  position(oEconomist, 9, 71);  set.priority(oEconomist, 15);  ignore.blocks(oEconomist);  ignore.objs(oEconomist);  draw(oEconomist);  stop.cycling(oEconomist);    [ reporter (he takes a nap in his chair when Jerrod goes  [ upstairs)  animate.obj(oReporter);  set.view(oReporter, vw.PaperOfficeIntArt);  set.loop(oReporter, 4);  set.cel(oReporter, 0);  position(oReporter, 131, 146);  ignore.blocks(oReporter);  draw(oReporter);  stop.cycling(oReporter);  set(fNapping);    [ Jerrod's boss  animate.obj(oBoss);  set.view(oBoss, vw.PaperOfficeIntArt);  set.loop(oBoss, 3);  set.cel(oBoss, 0);  [ start with him at his desk  position(oBoss, 9, 162);  ignore.blocks(oBoss);  draw(oBoss);  stop.cycling(oBoss);    [ object 5 is never referenced/used again in this room;  [ must be leftover code that they forgot to remove  animate.obj(o5);    [ Jerrod, in his normal Brooklyn attire  animate.obj(ego);  set.view(ego, vw.JerrodNY);  position(ego, 80, 166);  draw(ego);    [ now show the picture  show.pic();  }  [ **************************************[ EVERY CYCLE[ **************************************[ if the economist is ready to shuffle papers againif (vEconomistStatus < 41)  {  [ random chance he starts shuffling again  random(1, 40, vEconomistStatus);  [ one in 40 chance  if (vEconomistStatus == 23)    {    [ change status to indicate he's shuffling now    vEconomistStatus = 41;    [ cycle the economist's loop to show him shuffling papers    start.cycling(oEconomist);    end.of.loop(oEconomist, fEconomistMoved);    }  }  [ after economist finishes shuffling his papers if (isset(fEconomistMoved) && vEconomistStatus == 41)  {  [ change his status to indicate he's ready to begin  [ shuffling again  vEconomistStatus = 22;  reset(fEconomistMoved);  [ reset cel to first cel   [ ***this is a bug; setting cel to 0 before using the   [ reverse.loop command will result in no cycling; the   [ assigned flag is immediately set to TRUE   set.cel(oEconomist, 0);  reverse.loop(oEconomist, fEconomistMoved);  [ and then this stop.cycling command - it also makes no  [ sense; if they really intended for the loop to cycle   [ backwards with the reverse.loop command, this stop.cycle  [ command would then immediately stop it, without ever   [ giving AGI a chance to set fEconomistMoved  stop.cycling(oEconomist);  }  [ if economist is done cycling backwards[ (as mentioned above, this happens immediately after[ finishing shuffling forward becuase of the bug)if (isset(fEconomistMoved) && vEconomistStatus == 42)  {  [ set status to indicate worker is done shuffling and  [ ready for another random pause  vEconomistStatus = 22;  reset(fEconomistMoved);  stop.cycling(oEconomist);  }    [***********************************************************[ this entire sequence, involving Jerrod's boss, is orphaned[ code; it will never get run, because the status variable[ is never changed to 241 to get it started; the programmers[ must have decided to change how Jerrod's boss would play[ out, but then forgot to remove this code (and the messages[ that describe Jerrod's boss as a bit of a jerk)[ if boss has moved and status vis 241if (isset(fBossMoved) && vBossStatus == 241)  {  [ switch to normal view of boss  vBossStatus = 242;  reset(fBossMoved);  [ adjust position so change in view maintains same  [ position of boss  TmpX = 0;  TmpY = -4; [ 252;  reposition(oBoss, TmpX, TmpY);  set.view(oBoss, vw.PaperBoss);  [ move boss to point 242  move.obj(oBoss, 17, 150, 1, fBossMoved);  }  [ when boss gets to point 242if (isset(fBossMoved) && vBossStatus == 242)  {  [ move boss to point 243  vBossStatus = 243;  reset(fBossMoved);  move.obj(oBoss, 41, 150, 1, fBossMoved);  }  [ when boss gets to point 243if (isset(fBossMoved) && vBossStatus == 243)  {  [ he stops  stop.cycling(oBoss);  reset(fBossMoved);  [ and makes a random statement  random(80, 83, vBossStatus);  print.at.v(vBossStatus, 11, 5, 15);  [ set status to speaking  vBossStatus = 244;  }  [ if boss is speakingif (vBossStatus == 244)  {  [ increment timer  ++vBossTimer;  [ after 15 cycles  if (vBossTimer == 15)    {    [ boss is done speaking    vBossTimer = 0;    vBossStatus = 245;    }  }  [ when boss has finished talkingif (vBossStatus == 245)  {  [ move boss back toward office  vBossStatus = 246;  move.obj(oBoss, 17, 150, 1, fBossMoved);  }  [ when boss reaches first point backif (isset(fBossMoved) && vBossStatus == 246)  {  [ move boss to office desk  vBossStatus = 247;  reset(fBossMoved);  move.obj(oBoss, 9, 158, 1, fBossMoved);  }  [ when boss gets back to deskif (isset(fBossMoved) && vBossStatus == 247)  {  [ switch back to the view of the boss sitting  [ at his desk  vBossStatus = 248;  [ adjust position so the cel looks correct during  [ the switch  reset(fBossMoved);  TmpX = 0;  TmpY = 4;  reposition(oBoss, TmpX, TmpY);  set.view(oBoss, vw.PaperOfficeIntArt);  set.loop(oBoss, 3);  set.cel(oBoss, 2);  [ play loop backwards so boss sits back down  reverse.loop(oBoss, fBossMoved);  }  [ when boss is finally back at his deskif (isset(fBossMoved) && vBossStatus == 248)  {  [ return status to normal  vBossStatus = 0;  reset(fBossMoved);  stop.cycling(oBoss);  }  [ if boss is moving aroundif (vBossStatus > 241 && vBossStatus < 248)  {  [ if boss stops for any reason, he stops cycling until he  [ starts moving again  get.posn(oBoss, vBossX, vBossY);  if (vBossOldX == vBossX && vBossOldY == vBossY)    {    stop.cycling(oBoss);    }  else    {    start.cycling(oBoss);    }  vBossOldX = vBossX;  vBossOldY = vBossY;  }[***********************************************************  [ if Jerrod is not upstairs, and the bored reporter is[ nappingif (!isset(fUpstairs) && isset(fNapping))  {  [ he wakes up and sits up  reset(fNapping);  end.of.loop(oReporter, fReporterMoved);  start.cycling(oReporter);  }  [ if gold rush hasn't been announced yetif (!isset(RushIsPublic))  {  [ if Jerrod is upstairs, and the bored reporter is awake  if (isset(fUpstairs) && !isset(fNapping))    {    [ the bored worker takes a nap    set(fNapping);    reverse.loop(oReporter, fReporterMoved);    start.cycling(oReporter);    }  }  [ after the bored reporter finishes cyclingif (isset(fReporterMoved))  {  [ reset the flag  reset(fReporterMoved);  [ there is really no reason to use stop.cycling after and  [ end.of.loop command finishes  stop.cycling(oReporter);  }  [ if Jerrod is upstairsif (isset(fUpstairs))  {  [ Jerrod's priority when upstairs needs to be manually  [ adjusted based on position to show him correctly; since  [ his 'y position' value will be higher when he's upstairs  [ for the same virtual depth value, his priority would be  [ wrong if it used the automatically assigned value  if (posn(ego, 0, 44, 159, 48))    {    set.priority(ego, 11);    }  if (posn(ego, 0, 49, 159, 59))    {    set.priority(ego, 12);    }  if (posn(ego, 0, 60, 159, 71))    {    set.priority(ego, 13);    }  if (posn(ego, 0, 72, 159, 88))    {    set.priority(ego, 14);    }  }  [ if Jerrod is in the right stairwell on the ground floor[ and not moving between floorsif (posn(ego, 90, 88, 90, 93) && vStairPos == ST_NOT_IN_SW)  {  [ he goes upstairs in the right stairwell (and will come  [ out facing left)  erase(ego);  vStairPos = ST_RIGHT_UP;  }  [ if Jerrod is in the left stairwell on the ground floor and[ not moving between floorsif (posn(ego, 62, 88, 62, 93) && vStairPos == ST_NOT_IN_SW)  {  [ he goes upstairs in the left stairwell (and will come  [ out facing right)  erase(ego);  vStairPos = ST_LEFT_UP;  }  [ if Jerrod is in the right stairwell on upper floor and not[ moving between floorsif (posn(ego, 90, 45, 90, 48) && vStairPos == ST_NOT_IN_SW)  {  [ he goes downstairs in the right stairwell (and will come  [ out facing left)  erase(ego);  reset(fUpstairs);  release.priority(ego);  vStairPos = ST_RIGHT_DOWN;  }  [ if Jerrod is in the left stairwell on upper floor and not[ moving between floorsif (posn(ego, 62, 45, 62, 48) && vStairPos == ST_NOT_IN_SW)  {  [ he goes downstairs in the left stairwell (and will come  [ out facing right)  erase(ego);  reset(fUpstairs);  release.priority(ego);  vStairPos = ST_LEFT_DOWN;  }  [ if Jerrod is in either stairwell between floorsif ((vStairPos == ST_RIGHT_UP ||     vStairPos == ST_LEFT_UP ||     vStairPos == ST_RIGHT_DOWN ||     vStairPos == ST_LEFT_DOWN))  {  [ increment the timer  ++vStairTimer;  }  [ after 10 cycle delayif (vStairTimer == 10)  {  [ reset timer  vStairTimer = 0;  [ if going upstairs  if ((vStairPos == ST_RIGHT_UP || vStairPos == ST_LEFT_UP))    {    if (vStairPos == ST_RIGHT_UP)      {      [ position Jerrod on second floor, right side      position(ego, 90, 47);      }    else      {      [ position Jerrod on second floor, left side      position(ego, 62, 47);      }    [ add Jerrod back to the screen    draw(ego);    [ and move him to middle of stairwell    move.obj(ego, 76, 47, 1, fEgoMoved);    [ set stair position status to 'moving to center, upstairs'    vStairPos = ST_MOVING_UP;    [ now ego is upstairs    set(fUpstairs);    }      [ if going downstairs  if ((vStairPos == ST_RIGHT_DOWN || vStairPos == ST_LEFT_DOWN))    {    if (vStairPos == ST_RIGHT_DOWN)      {      [ position Jerrod on ground floor, right side      position(ego, 90, 91);      }    else      {      [ position Jerrod on ground floor, left side      position(ego, 62, 91);      }    [ add Jerrod back to screen    draw(ego);    [ and move him to middle of stairwell    move.obj(ego, 76, 91, 1, fEgoMoved);    [ set stair pos to 'moving to center, downstairs'    vStairPos = ST_MOVING_DOWN;    }  }  [ after Jerrod is moved to center of stairwellif (isset(fEgoMoved))  {  [ reset flag, and reset stair status  reset(fEgoMoved);  vStairPos = ST_NOT_IN_SW;  }  [ if Loise, the secretary, is ready to do some work (use of[ this status variable is not necessary; it's set to '1'[ when the logic loads, and never changes value, so the[ secretary status is always 1if (vLoisStatus == 1)  {  [ random chance she cycles  random(1, 35, vRndNum);  [ one in 35 chance  if (vRndNum == 23)    {    [ secretary begins working    start.cycling(oLois);    [ if direction 1,    if (isset(fLoisDir))      {      [ loop to end      end.of.loop(oLois, fLoisMoved);      }    [ if direction 2    if (!isset(fLoisDir))      {      [ reverse the loop      reverse.loop(oLois, fLoisMoved);      }    [ toggle direction    toggle(fLoisDir);    }  }  [ this code block is also not needed at all; the flag is[ never used anywhere, so resetting it doesn't do anything,[ and the object stops cycling automatically when it gets to[ the end of the loopif (isset(fLoisMoved) && vLoisStatus == 1)  {  [ reset the flag,   reset(fLoisMoved);  [ stop cycling  stop.cycling(oLois);  }  [ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ bottom edge leads back outsideif (edgeEgoHit == BOTTOM_EDGE)  {  new.room(rm.NewspaperOffice); [ ##LE001##  }  [ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(Done);  }  [ talk man/talk womanif ((said("speak") ||     said("speak", "boy") ||     said("speak", "girl")))  {  [ response depends on which person Jerrod is closest to  [ (no distinction is made between man or woman, so saying  [ 'talk woman' to one of the men, and saying 'talk man' to  [ Lois is treated as OK)   [ if near at least one person  if ((posn(ego, 45, 100, 109, 137) ||       posn(ego, 0, 138, 72, 167) ||       posn(ego, 122, 138, 153, 166) ||       posn(ego, 1, 73, 31, 86)))    {    [ Lois is the secretary at front desk    if (posn(ego, 45, 100, 109, 137))      {      print("With a sweet voice Lois says, \"It is so nice to see you again, "            "Jerrod. Don't be such a stranger! You work so much I worry about "            "you!\"");      }    [ Mr. Weest is Jerrod's boss    if (posn(ego, 0, 138, 72, 167))      {      print("The boss says, \"You are a very ambitious young man, Jerrod. You "            "are going to go places in this company!\"");      }    [ the bored reporter     if (posn(ego, 122, 138, 153, 166))      {      [ if gold rush is public knowledge      if (isset(RushIsPublic))        {        [ reporter is busy        print("The man says, \"I've got stories coming out of my ears about the "              "gold rush in California!\"");        print("\"These stories are exciting! People are finding more gold in "              "one day than I make in one year!\"");        print("\"If I had any guts at all, I'd head west myself!\"");        }      else        {        print("The man says, \"Things have been hum-drum around here lately. I "              "haven't had much to do.\"");        }      }    [ the economist    if (posn(ego, 1, 73, 31, 86))      {      print("The man says, \"Good day, Mr. Wilson. Are you ready for today's "            "economy update?\"");      print("You reply, \"I'm ready, go ahead!\"");      [ the update depends on whether or not gold rush is public      if (isset(RushIsPublic))        {        print("\"Since the discovery of gold in California has become a fact of "              "life on the east coast, property values have fallen and the cost "              "of transportation has skyrocketed! A few local businesses have "              "ceased operations.\"");        }      else        {        print("\"The Brooklyn economy is strong. Property is holding its value. "              "If nothing out of the ordinary happens, this will continue.\"");        print("\"However, there have been rumors of the discovery of gold in "              "California. If there is any truth to these rumors, it could have "              "a profound effect on the local economy.\"");        }      }    }  else    {    [ Jerrod is not nearby anyone    print("There is no one close enough.");    }  }  [ talk Loisif ((said("speak", "secretary") || said("speak", "lois")))  {  if (posn(ego, 45, 100, 109, 143))    {    print("With a sweet voice Lois says, \"It is so nice to see you again, "          "Jerrod. Don't be such a stranger! You work so much I worry about "          "you!\"");    }  else    {    print("She can't hear you from here!");    }  }  [ talk bossif (said("speak", "boss"))  {  if (posn(ego, 0, 130, 72, 167))    {    print("The boss says, \"You are a very ambitious young man, Jerrod. You are "          "going to go places in this company!\"");    }  else    {    print("Mr. Weest, Jr. can't hear you from here.");    }  }  [ look  man/look woman (as with talk man/talk woman, no[ distinction is made between the two depending on who's[ being looked at)if ((said("examine", "boy") || said("examine", "girl")))  {  [ response depends on who's closest    [ if near at least one person  if ((posn(ego, 45, 100, 109, 137) ||       posn(ego, 0, 138, 72, 167) ||       posn(ego, 122, 138, 153, 166) ||       posn(ego, 1, 73, 31, 86)))    {    [ Lois is the secretary    if (posn(ego, 45, 100, 109, 137))      {      print("This is Lois, and she is a sweetheart. You sense that she is "            "attracted to you, but you're not sure why. It's NOT because of "            "your money!");      print("This is the kind of lady you'd like to settle down with. But on "            "your salary, you couldn't take care of her the way she deserves.");      }    [ Mr. Weest, Jr, is Jerrod's boss    if (posn(ego, 0, 138, 72, 167))      {      print("Your boss is a great guy to work for. You've never had a single "            "problem with him.");      }    [ the reporter is busy once the gold rush is announced    if (posn(ego, 122, 138, 153, 166))      {      [ if the gold rush is public knowledge      if (isset(RushIsPublic))        {        print("Ever since the gold rush, this man has been working furiously.");        }      else        {        print("When there is work to do, this man is eager to help. Lately, "              "there haven't been any big stories.");        }      }    [ the economist     if (posn(ego, 1, 73, 31, 86))      {      print("This man is an expert on the Brooklyn economy.");      }    }  else    {    [ not close enough to anyone    print("There is no one close enough.");    }  }  [ look secretary/look loisif ((said("examine", "secretary") ||     said("examine", "lois")))  {  print("This is Lois, and she is a sweetheart. You sense that she is attracted "        "to you, but you're not sure why. It's NOT because of your money!");  print("This is the kind of lady you'd like to settle down with. But on your "        "salary, you couldn't take care of her the way she deserves.");  }  [ look bossif (said("examine", "boss"))  {  print("Your boss is a great guy to work for. You've never had a single "        "problem with him.");  }  [ look around/lookif ((said("examine", "around") ||     said("examine", "office") ||     said("examine")))  {  [ reset the generic message flag - if a specific response  [ is provided based on Jerrod's location, this flag gets  [ set; if no special message is provided, the flag will  [ remain reset, which will result in a generic message  [ being shown  reset(fSkipMessage);    [ in boss' office  if (posn(ego, 1, 138, 31, 166))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is your boss' office.");    }      [ the bored reporter's office  if (posn(ego, 122, 138, 153, 166))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This office is kept very tidy.");    }      [ middle room, left side, ground floor  if (posn(ego, 18, 120, 37, 129))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ middle room, right side, ground floor  if (posn(ego, 116, 120, 153, 129))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This room is full of office supplies.");    print("This is not your office!");    }      [ farthest room, left side, ground floor  if (posn(ego, 25, 100, 42, 114))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ farthest room, right side, ground floor  if (posn(ego, 111, 100, 153, 114))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ economist's office  if (posn(ego, 1, 73, 31, 86))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is the office of the company economist. He keeps you updated on "          "the current conditions of the economy.");    }      [ Jerrod's office  if (posn(ego, 122, 73, 152, 86))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is your office and it is a nice office. The company likes to "          "take care of its best performing employees.");    print("You have moved up steadily in the company since you started working "          "here as a paper boy.");    print("If you work like a dog for the next twenty years, you MIGHT be one "          "of the top dogs around here!");    print("Anyone else in town would love to have your job, but at times you "          "wonder if you want to do this for the rest of your life.");    }      [ middle room, left side, upper floor  if (posn(ego, 17, 62, 38, 68))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [  middle room, right side, upper floor  if (posn(ego, 115, 61, 134, 69))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ farthest room, left side, upper floor  if (posn(ego, 29, 52, 43, 58))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ farthest room, right side, upper floor  if (posn(ego, 110, 52, 123, 58))    {    [ don't show the generic 'look' response    set(fSkipMessage);    print("This is not your office!");    }      [ if no specific message was shown  if (!isset(fSkipMessage))    {    [ show the generic message    print("This is the Brooklyn Evening Star business office. The family trade "          "was carpentry, but this is the business that has always been "          "interesting to you.");    print("You have your own office, make a descent wage, the boss is pleased "          "with your work and you like the people you work with.");    print("What more could a person want?");    }  }  [ look deskif (said("examine", "desk"))  {  [ response depends on which desk Jerrod is closest to; use  [ the 'skip message' flag to show a generic message if a  [ specific response is not given  reset(fSkipMessage);    [ boss's desk  if (posn(ego, 1, 138, 31, 166))    {    set(fSkipMessage);    print("This is your boss' desk. He has a very nice desk.");    }  [ Lois' desk  if (posn(ego, 51, 105, 107, 143))    {    set(fSkipMessage);    print("This is, by far, the largest desk of any in the building.");    print("But she does, by far, the most work of anyone in the building!");    }  [ Jerrod's desk  if (posn(ego, 122, 73, 152, 86))    {    set(fSkipMessage);    [ mention the blotter - it's a clue to look under it    print("It is a plain desk with a blotter on it.");    }  [ if in any other office  if ((posn(ego, 122, 138, 153, 166) ||       posn(ego, 18, 120, 37, 129) ||       posn(ego, 25, 100, 42, 114) ||       posn(ego, 111, 100, 153, 114) ||       posn(ego, 1, 73, 31, 86) ||       posn(ego, 17, 62, 38, 68) ||       posn(ego, 115, 61, 134, 68) ||       posn(ego, 29, 52, 43, 58) ||       posn(ego, 110, 52, 123, 58)))    {    set(fSkipMessage);    print("It is very nice, but nothing special.");    }  [ if not near a desk  if (!isset(fSkipMessage))    {    print("You are not close enough to a desk.");    }  }  [ open deskif ((said("open", "desk") ||     said("examine", "drawer") ||     said("open", "drawer") ||     said("examine", "in", "desk") ||     said("examine", "in", "drawer")))  {  [ if in any of the other offices  if ((posn(ego, 51, 105, 107, 143) ||       posn(ego, 1, 138, 31, 166) ||       posn(ego, 122, 138, 153, 166) ||       posn(ego, 18, 120, 37, 129) ||       posn(ego, 25, 100, 42, 114) ||       posn(ego, 111, 100, 153, 114) ||       posn(ego, 1, 73, 31, 86) ||       posn(ego, 17, 62, 38, 68) ||       posn(ego, 115, 61, 134, 68) ||       posn(ego, 29, 52, 43, 58) ||       posn(ego, 110, 52, 123, 58)))    {    print("This is not your desk!");    }  else    {    [ if Jerrod is in his office    if (posn(ego, 122, 73, 152, 86))      {      print("There is nothing important in your desk.");      }    else      {      print("You are not close enough to a desk.");      }    }  }[ look bookcase/look bookif ((said("examine", "bookcase") ||     said("examine", "book")))  {  [ use 'skip messge' flag for a generic message if not near  [ a bookshelf  reset(fSkipMessage);  if (posn(ego, 1, 138, 31, 166))    {    set(fSkipMessage);    print("You look at the books in the bookshelf, but see nothing of interest.");    }  if (!isset(fSkipMessage))    {    print("You are not close enough.");    }  }  [ look windowif (said("examine", "glass"))  {  [ if near a window  if ((posn(ego, 122, 138, 153, 166) ||       posn(ego, 116, 120, 153, 129) ||       posn(ego, 111, 100, 153, 114) ||       posn(ego, 122, 73, 152, 86) ||       posn(ego, 115, 61, 134, 69) ||       posn(ego, 110, 52, 123, 58)))    {    print("What a view!!");    }  else    {    print("You are not close enough.");    }  }  [ look chairif (said("examine", "chair"))  {  [ if near a chair  if ((posn(ego, 1, 138, 31, 166) ||       posn(ego, 122, 138, 153, 166) ||       posn(ego, 111, 100, 153, 114) ||       posn(ego, 115, 61, 134, 69)))    {    print("It is very nice, but nothing special.");    }  else    {    [ in Jerrod's office    if (posn(ego, 122, 73, 152, 86))      {      print("You are so busy you don't even have a chair!");      }    else      {      [ even if not near a chair, same message is shown; if       [ this is intentional, then there is no need to do the      [ location checks at beginning of this block; only       [ check that matters is whether Jerrod is in his own      [ office or not      print("It is very nice, but nothing special.");      }    }  }  [ look suppliesif (said("examine", "provisions"))  {  [ if in supply room (middle room, ground floor, right      [ side)  if (posn(ego, 116, 120, 153, 129))    {    print("There is nothing very interesting about these supplies!");    }  else    {    print("There are no supplies right here.");    }  }  [ look newspaperif ((said("examine", "newspaper") ||     said("examine", "news") ||     said("acquire", "newspaper") ||     said("acquire", "news")))  {  print("You don't need a newspaper.");  }  [ read newspaperif ((said("read", "newspaper") ||     said("read", "news")))  {  print("You don't need to read a newspaper.");  }  [ look blotterif (said("examine", "blotter"))  {  [ if near Jerrod's desk  if (posn(ego, 122, 73, 152, 86))    {    [ give clue about the clippings    print("Around the edge of your blotter you see a corner of the newspaper "          "clippings you keep under it.");    }  else    {    print("There is not an important blotter right here.");    }  }  [ take blotterif (said("acquire", "blotter"))  {  [ if near Jerrod's desk  if (posn(ego, 122, 73, 152, 86))    {    [ give clue about the clippings    print("You lift the blotter, only to see those old newspaper clippings "          "about your brother, Jake. Not needing the blotter, you put it back "          "on the desk.");    }  else    {    print("There is not an important blotter right here.");    }  }  [ lift blotterif ((said("lift", "blotter") || said("examine", "below", "blotter")))  {  if (posn(ego, 122, 73, 152, 86))    {    [ give clue about the clippings    print("Beneath the blotter you find the newspaper clippings you treasure.");    }  else    {    print("There is not an important blotter right here.");    }  }  [ look clippings/read clippingsif ((said("examine", "clipping") ||     said("read", "clipping") ||     said("examine", "newspaper", "clipping") ||     said("read", "newspaper", "clipping") ||     said("examine", "news", "clipping") ||     said("read", "news", "clipping")))  {  [ if near Jerrod's desk  if (posn(ego, 122, 73, 152, 86))    {    [ play sad music    sound(m.SadSong, fSoundDone);    print("These clippings are very important to you. You find yourself reading "          "them often, wondering where your brother is and what he is doing.");    print("These clippings describe the complicated episode of your only "          "brother, Jake.");    print("Jake was falsely accused of a crime he didn't commit.");    print("Although Jake was promised a \"fair\" trial, the townspeople weren't "          "interested in justice. The result would have been a foregone "          "conclusion.");    print("Jake's only alternative was to leave town and never come back.");    print("When he left Brooklyn you wanted to go with him. Jake told you to "          "stay because it may be dangerous.");    print("But he did promise that he would contact you if something important "          "happened.");    [ if Jerrod has Jake's letter    if ((JakesLetter == JL_DELIVERED ||         JakesLetter == JL_OPENED))      {      print("He left eleven years ago. You know something very important must "            "have happened or he wouldn't have written to you.");      }    else      {      print("He left eleven years ago and you haven't heard from him since.");      }    [ if not already scored    if (!isset(ScoreClippings))      {      [ score 3 points for reading the clippings      set(ScoreClippings);      currentScore  += 3;      }    }  else    {    print("You are not close enough to the clippings.");    }  }  [ take clippingsif ((said("acquire", "clipping") ||     said("acquire", "newspaper", "clipping") ||     said("acquire", "news", "clipping")))  {  [ if near Jerrod's desk  if (posn(ego, 122, 73, 152, 86))    {    print("You don't need the clippings. You read them so often you know them "          "word for word.");    }  else    {    print("You are not close enough to the clippings.");    }  }  [ sit/sit in chairif ((said("sit") ||     said("sit", "chair") ||     said("sit", "in", "chair") ||     said("sit", "anyword")))  {  [ in Jerrod's office, there is no chair; a different  [ message for that location would have made sense  print("There's no time for that!");  }  [ look floorif (said("examine", "deck"))  {  print("Nothing special down here!");  }  [ quit/quit jobif ((said("quit") ||     said("quit", "job") ||     said("exit", "job")))  {  [ if in boss' office  if (posn(ego, 1, 138, 31, 166))    {    [ if Jerrod already quit his job    if (isset(QuitJob))      {      print("You have already quit your job.");      }    else      {      [ quit job, heading to California      print("Your boss is shocked by your decision! He says, \"But Jerrod, you "            "are one of the best!\"");      print("He continues, \"But a man has to do what a man has to do. I wish "            "you the very best, Jerrod. We'll miss you around here.\"");      set(QuitJob);      [ score 2 points      currentScore  += 2;      sound(s.AddToScore, fSoundDone);      }    }  else    {    [ have to be in boss' office to quit    print("You better talk to your boss face to face about that!");    }  }  [ get paycheckif ((said("acquire", "check", "rol") ||     said("acquire", "anyword", "check") ||     said("lift", "check", "rol") ||     said("lift", "anyword", "check") ||     said("acquire", "paycheck", "rol") ||     said("acquire", "anyword", "paycheck") ||     said("lift", "paycheck", "rol") ||     said("lift", "anyword", "paycheck")))  {  print("You have already been paid. There is no paycheck here.");  }  Done:return();[ **************************************[ MESSAGES[ **************************************#message 1 "There's no time for that!"#message 2 "This is your boss' desk. He has a very nice desk."#message 3 "You are not close enough to a desk."#message 4 "You are so busy you don't even have a chair!"#message 5 "When he left Brooklyn you wanted to go with him. Jake told you to stay because it may be dangerous."#message 6 "But he did promise that he would contact you if something important happened."#message 7 "This is not your desk!"#message 8 "You lift the blotter, only to see those old newspaper clippings about your brother, Jake. Not needing the blotter, you put it back on the desk."#message 9 "You don't need the clippings. You read them so often you know them word for word."#message 10 "Jake's only alternative was to leave town and never come back."#message 11 "You have already quit your job."#message 12 "She can't hear you from here!"#message 13 "With a sweet voice Lois says, \"It is so nice to see you again, Jerrod. Don't be such a stranger! You work so much I worry about you!\""#message 14 "This is your boss' office."#message 15 "When there is work to do, this man is eager to help. Lately, there haven't been any big stories."#message 17 "This room is full of office supplies."#message 18 "Mr. Weest, Jr. can't hear you from here."#message 19 "There is nothing important in your desk."#message 20 "This is the office of the company economist. He keeps you updated on the current conditions of the economy."#message 21 "This is your office and it is a nice office. The company likes to take care of its best performing employees."#message 22 "You have moved up steadily in the company since you started working here as a paper boy."#message 23 "You don't need to read a newspaper."#message 24 "Anyone else in town would love to have your job, but at times you wonder if you want to do this for the rest of your life."#message 25 "You reply, \"I'm ready, go ahead!\""#message 26 "...now as you look around, you see only a few familiar faces. Very few."#message 27 "As a result of a series of fast-moving events, the business has changed hands. Unfortunately, the boss you worked so hard for, and respected so much, is no longer here."#message 28 "But now, as a lowly paper-filer, you see a lovely lady who has been trying to get through to you. But you were too busy climbing the corporate ladder."#message 29 "This is where all the newspapers are stacked before they are filed in the basement."#message 30 "Now this is your office."#message 31 "It is a small, windowless, dimly lit room with a door leading to the basement. There is a small desk in the corner where you are expected to work."#message 32 "You are not close enough."#message 33 "There are no supplies right here."#message 34 "There is not an important blotter right here."#message 35 "You are not close enough to the clippings."#message 36 "Perhaps you let a good thing get away."#message 37 "Nothing special down here!"#message 38 "At least when the boss is around."#message 39 "If you work like a dog for the next twenty years, you MIGHT be one of the top dogs around here!"#message 40 "You better talk to your boss face to face about that!"#message 41 "Your boss is shocked by your decision! He says, \"But Jerrod, you are one of the best!\""#message 42 "You don't need the %w2."#message 43 "He continues, \"But a man has to do what a man has to do. I wish you the very best, Jerrod. We'll miss you around here.\""#message 45 "It is a plain desk with a blotter on it."#message 46 "It is very nice, but nothing special."#message 47 "You have already been paid. There is no paycheck here."#message 48 "This is, by far, the largest desk of any in the building."#message 49 "But she does, by far, the most work of anyone in the building!"#message 51 "There are newspapers around here, of course, but not right here!"#message 57 "What a view!!"#message 64 "Around the edge of your blotter you see a corner of the newspaper clippings you keep under it."#message 65 "There is nothing very interesting about these supplies!"#message 71 "Beneath the blotter you find the newspaper clippings you treasure."#message 72 "These clippings are very important to you. You find yourself reading them often, wondering where your brother is and what he is doing."#message 74 "These clippings describe the complicated episode of your only brother, Jake."#message 75 "Jake was falsely accused of a crime he didn't commit."#message 76 "Although Jake was promised a \"fair\" trial, the townspeople weren't interested in justice. The result would have been a foregone conclusion."#message 77 "He left eleven years ago and you haven't heard from him since."#message 78 "He left eleven years ago. You know something very important must have happened or he wouldn't have written to you."#message 79 "You look at the books in the bookshelf, but see nothing of interest."#message 80 "\"Lois, is that report done yet?!!\""#message 81 "\"Cancel all my appointments for the day!!\""#message 82 "\"I'm not to be interrupted. By anyone!!\""#message 83 "\"I could sure use some fresh coffee!!!\""#message 84 "This is the Brooklyn Evening Star business office. The family trade was carpentry, but this is the business that has always been interesting to you."#message 85 "You have your own office, make a descent wage, the boss is pleased with your work and you like the people you work with."#message 86 "What more could a person want?"#message 100 "You don't need a newspaper."#message 101 "This is Lois, and she is a sweetheart. You sense that she is attracted to you, but you're not sure why. It's NOT because of your money!"#message 102 "This is the kind of lady you'd like to settle down with. But on your salary, you couldn't take care of her the way she deserves."#message 104 "Your boss is a great guy to work for. You've never had a single problem with him."#message 105 "The boss says, \"You are a very ambitious young man, Jerrod. You are going to go places in this company!\""#message 106 "You were making fast-track progress in the company; you were the envy of the office; you were top-notch; you were one of the best; you were number one!!"#message 107 "Then one day it happened."#message 108 "Mr. Weest, Sr. bought the company, which started a complete upheaval in the lives of its employees. Mr. Weest, Jr., being Daddy's pet, got the luxurious duty of managing the office."#message 109 "This man has been spoiled to the core. All of his life whatever he has asked for, he has received. It is just about to make you sick!"#message 110 "And with Mr. Weest, Jr., came an almost entirely new staff! To add injury to insult, he offered you a job as a paper filer."#message 111 "The man says, \"I've got stories coming out of my ears about the gold rush in California!\""#message 117 "Ever since the gold rush, this man has been working furiously."#message 118 "This office is kept very tidy."#message 119 "This man is an expert on the Brooklyn economy."#message 128 "There is no one close enough."#message 129 "The man says, \"Good day, Mr. Wilson. Are you ready for today's economy update?\""#message 130 "\"The Brooklyn economy is strong. Property is holding its value. If nothing out of the ordinary happens, this will continue.\""#message 131 "\"However, there have been rumors of the discovery of gold in California. If there is any truth to these rumors, it could have a profound effect on the local economy.\""#message 132 "\"Since the discovery of gold in California has become a fact of life on the east coast, property values have fallen and the cost of transportation has skyrocketed! A few local businesses have ceased operations.\""#message 133 "This is not your office!"#message 134 "\"These stories are exciting! People are finding more gold in one day than I make in one year!\""#message 135 "\"If I had any guts at all, I'd head west myself!\""#message 136 "The man says, \"Things have been hum-drum around here lately. I haven't had much to do.\""