[***********************************************************[[ rm.ColomaWest[[ This is the west edge of Coloma. Nothing happens in this[ room.[[***********************************************************[ **************************************[ FIRST CYCLE ONLY[ **************************************if (isset(newRoom))  {  [ load the mule logic  load.logics(lgc.Mule);    [ load the view used in the room  load.view(vw.JerrodCA);    [ load and draw current room picture  load.pic(currentRoom);  draw.pic(currentRoom);    [ set horizon  set.horizon(80);    [ Jerrod, in normal California attire  animate.obj(ego);  set.view(ego, vw.JerrodCA);    [ if Jerrod is coming from rm.ColomaNW and was on the road  if (posn(ego, 64, 70, 110, 90))    {    [ move him to center of the road    position(ego, 62, 82);    }  draw(ego);    [ if Jerrod has a mule  if ((has(LazyMule) || has("James' ol' mule")))    {    [ do mule initialization steps    call(lgc.Mule);    }      [ now show the picture  show.pic();    [ clear the custom status line  clear.lines(24, 24, BLACK);    [ not necessary to reset this flag; AGI resets it  [ automatically  reset(newRoom);  }  [ **************************************[ EVERY CYCLE[ **************************************[ nothing to do in this room[ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input no need to do said testsif (!isset(haveInput))  {  goto(CheckExits);  }  [ look around/lookif ((said("examine", "around") || said("examine")))  {  print("This is the west edge of town. The Green Pastures Hotel is to the "        "east.");  }  [ look grassif (said("examine", "grass"))  {  print("This is just wild grass.");  }  [ look treeif (said("examine", "forest"))  {  print("This is just one of the mighty trees found in these parts.");  }  [ look rockif (said("examine", "rock"))  {  print("There's no rock in sight!");  }  [ look riverif ((said("examine", "creek") ||     said("examine", "water") ||     said("examine", "american", "creek")))  {  print("The American River is on the north edge of town.");  }  [ look roadif ((said("examine", "path") ||     said("examine", "bridge", "path") ||     said("examine", "back", "path") ||     said("examine", "main", "path")))  {  print("Main Street is in the distance; Bridge Street runs north and south. "        "Back Street leads to the hotel.");  }  [ look buildingsif ((said("examine", "building") ||     said("examine", "home") ||     said("examine", "church") ||     said("examine", "shop")))  {  print("Of all the buildings in town, the hotel is the most prevalent.");  }  [ look bushif (said("examine", "bush"))  {  print("This is a typical California bush.");  }  [ look wagonif (said("examine", "cart"))  {  print("Just past Main Street ya can see a wagon.");  }  [ get wagonif (said("acquire", "cart"))  {  print("It's not yer wagon.");  }  [ look sidewalk/look boardwalkif ((said("examine", "sidewalk") ||     said("examine", "boardwalk")))  {  print("The boardwalk runs down Back Street in front of the hotel.");  }  [ look fenceif ((said("examine", "rail") || said("examine", "fence")))  {  print("A fence is attached to the boardwalk.");  }  [ look window/look in windowif ((said("examine", "glass") ||     said("examine", "in", "glass")))  {  print("Ya see nothin' of interest through the window.");  }  [ look doorif (said("examine", "door"))  {  print("Ya see no interestin' door here.");  }  [ open door/unlock doorif ((said("open", "door") ||     said("unlock", "door") ||     said("use", "house key")))  {  print("There's no reason to open this door.");  }  [ use shovel/dig for goldif ((said("use", "shovel") ||     said("dig", "gold") ||     said("dig") ||     said("dig", "hole")))  {  [ if Jerrod has a shovel  if (has("Shovel"))    {    print("Don't dig up the town! Do that somewhere else!!");    }  else    {    print("No shovel, no diggin'!");    }  }[ use pan/pan for goldif ((said("use", "pan") ||     said("pan", "gold") ||     said("pan")))  {  print("Ya need to be in the water!");  }  [ look hotelif ((said("examine", "hotel") ||     said("examine", "green", "pasture", "hotel") ||     said("examine", "green", "pasture") ||     said("examine", "coloma") ||     said("examine", "city")))  {  print("The Green Pastures Hotel is the main attraction in Coloma.");  }  [ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************[ (unlike most other logics, the check for exit condition[ happens LAST in this room)CheckExits:[ if Jerrod has a muleif ((has(LazyMule) || has("James' ol' mule")))  {  [ process mule related commands before checking exits  call(lgc.Mule);  }  if (edgeEgoHit != NOT_HIT)  {  if (edgeEgoHit == TOP_EDGE)    {    --WildernessY;    new.room(rm.ColomaNW); [ ##LE001##    }  if (edgeEgoHit == LEFT_EDGE)    {    --WildernessX;    new.room(lgc.Wilderness); [ ##LE002##    }  if (edgeEgoHit == RIGHT_EDGE)    {    ++WildernessX;    new.room(rm.GreenPastures); [ ##LE003##    }  if (edgeEgoHit == BOTTOM_EDGE)    {    ++WildernessY;    new.room(rm.ColomaSouth); [ ##LE004##    }  }  return();[ **************************************[ MESSAGES[ **************************************#message 1 "This is the west edge of town. The Green Pastures Hotel is to the east."#message 2 "This is just wild grass."#message 3 "This is just one of the mighty trees found in these parts."#message 4 "There's no rock in sight!"#message 5 "The American River is on the north edge of town."#message 6 "Main Street is in the distance; Bridge Street runs north and south. Back Street leads to the hotel."#message 7 "Of all the buildings in town, the hotel is the most prevalent."#message 8 "This is a typical California bush."#message 9 "Just past Main Street ya can see a wagon."#message 10 "It's not yer wagon."#message 11 "The boardwalk runs down Back Street in front of the hotel."#message 12 "A fence is attached to the boardwalk."#message 13 "Ya see nothin' of interest through the window."#message 14 "Ya see no interestin' door here."#message 16 "There's no reason to open this door."#message 17 "The Green Pastures Hotel is the main attraction in Coloma."#message 40 "Don't dig up the town! Do that somewhere else!!"#message 41 "No shovel, no diggin'!"#message 42 "Ya need to be in the water!"