#define aLetter1        o1#define aLetter2        o2#define aLetter3        o3#define aLetter4        o4#define aLetter5        o5#define aLetter6        o6#define aHalfDome       o7#define aHands          o9#define aMonitor        o10#define demoPage        v220#define logoDone        f220#define demoGuyDone     f221#define selectedADemo   f223#define pressedHelp    f225#define notTandy        f226#define turnedPage      f227if ((newRoom || f47))  {  reset(f47);  if (showOpeningLogo)    {    load.view(vDemoGuy);    load.view(vDemoPage1);    load.view(vDemoPage2);    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);    load.view(vDemoTalkBubble);    load.view(vSierra);    load.view(vTandy);    show.pic();    set(logoDone);    }  if (demoRestarted)    {    load.view(vDemoGuy);    load.view(vDemoPage1);    load.view(vDemoPage2);    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);    load.view(vDemoTalkBubble);    if (isset(f63))      {      graphics();      reset(f63);      }    add.to.pic(vDemoGuy, 0, 3, 52, 153, 7, 4);    add.to.pic(vDemoGuy, 1, 0, 72, 118, 7, 4);    show.pic();    set(demoGuyDone);    }  }if (showOpeningLogo)  {  if (logoDone)    {    reset(logoDone);    animationInterval = 0;    add.to.pic(vDemoGuy, 0, 3, 52, 153, 7, 4);    add.to.pic(vDemoGuy, 1, 0, 72, 118, 7, 4);    animate.obj(aHalfDome);    set.view(aHalfDome, vSierra);    set.loop(aHalfDome, 5);    set.cel(aHalfDome, 0);    position(aHalfDome, 0, 53);    draw(aHalfDome);    animate.obj(aLetter1);    set.view(aLetter1, vSierra);    set.loop(aLetter1, 0);    set.cel(aLetter1, 0);    ignore.objs(aLetter1);    draw(aLetter1);    animate.obj(aLetter2);    set.view(aLetter2, vSierra);    set.loop(aLetter2, 1);    set.cel(aLetter2, 0);    ignore.objs(aLetter2);    draw(aLetter2);    animate.obj(aLetter3);    set.view(aLetter3, vSierra);    set.loop(aLetter3, 2);    set.cel(aLetter3, 0);    ignore.objs(aLetter3);    draw(aLetter3);    animate.obj(aLetter4);    set.view(aLetter4, vSierra);    set.loop(aLetter4, 3);    set.cel(aLetter4, 0);    ignore.objs(aLetter4);    draw(aLetter4);    animate.obj(aLetter5);    set.view(aLetter5, vSierra);    set.loop(aLetter5, 3);    set.cel(aLetter5, 0);    ignore.objs(aLetter5);    draw(aLetter5);    animate.obj(aLetter6);    set.view(aLetter6, vSierra);    set.loop(aLetter6, 4);    set.cel(aLetter6, 0);    ignore.objs(aLetter6);    position(aLetter6, 107, 42);    draw(aLetter6);    set(notTandy);    }  current.cel(aLetter1, work);  if (work == 0)    {    set.text.attribute(BLACK, BLACK);    normal.cycle(aHalfDome);    normal.cycle(aLetter1);    normal.cycle(aLetter2);    normal.cycle(aLetter3);    normal.cycle(aLetter4);    normal.cycle(aLetter5);    normal.cycle(aLetter6);    if (notTandy)      {      set.view(aLetter1, vSierra);      set.view(aLetter2, vSierra);      set.view(aLetter3, vSierra);      set.view(aLetter4, vSierra);      set.view(aLetter5, vSierra);      set.loop(aLetter5, 3);      reposition.to(aLetter1, 37, 42);      reposition.to(aLetter2, 53, 42);      reposition.to(aLetter3, 59, 42);      reposition.to(aLetter4, 75, 42);      reposition.to(aLetter5, 91, 42);      draw(aHalfDome);      draw(aLetter6);      }    else      {      erase(aHalfDome);      erase(aLetter6);      set.view(aLetter1, vTandy);      set.view(aLetter2, vTandy);      set.view(aLetter3, vTandy);      set.view(aLetter4, vTandy);      set.view(aLetter5, vTandy);      set.loop(aLetter5, 4);      reposition.to(aLetter1, 37, 42);      reposition.to(aLetter2, 55, 42);      reposition.to(aLetter3, 71, 42);      reposition.to(aLetter4, 90, 42);      reposition.to(aLetter5, 108, 42);      }    }  if (notTandy)    {    if (work == 1)      {      set.text.attribute(BLUE, BLACK);      }    if (work == 2)      {      set.text.attribute(LT_BLUE, BLACK);      }    if (work == 3)      {      set.text.attribute(CYAN, BLACK);      }    if (work == 4)      {      set.text.attribute(LT_CYAN, BLACK);      }    }  else    {    if (work == 1)      {      set.text.attribute(RED, BLACK);      }    if (work == 2)      {      set.text.attribute(BROWN, BLACK);      }    if (work == 3)      {      set.text.attribute(LT_RED, BLACK);      }    if (work == 4)      {      set.text.attribute(YELLOW, BLACK);      }    }  if (work == 5)    {    reverse.cycle(aHalfDome);    reverse.cycle(aLetter1);    reverse.cycle(aLetter2);    reverse.cycle(aLetter3);    reverse.cycle(aLetter4);    reverse.cycle(aLetter5);    reverse.cycle(aLetter6);    set.text.attribute(WHITE, BLACK);    }  display(24, 22, "Press any key...");  if (have.key())    {    set(demoRestarted);    set(demoGuyDone);    reset(showOpeningLogo);    clear.text.rect(0, 0, 9, 39, BLACK);    clear.lines(24, 24, BLACK);    erase(aHalfDome);    erase(aLetter1);    erase(aLetter2);    erase(aLetter3);    erase(aLetter4);    erase(aLetter5);    erase(aLetter6);    discard.view(vTandy);    discard.view(vSierra);    }  }if (demoRestarted)  {  if (demoGuyDone)    {    reset(demoGuyDone);    animationInterval = 1;    add.to.pic(vDemoTalkBubble, 0, 0, 0, 88, 7, 4);    discard.view(vDemoTalkBubble);    set.text.attribute(BLACK, WHITE);    display(7, 1, "Hi.  Which of our games");    display(8, 1, " would you like to see?");    set.text.attribute(YELLOW, BLACK);    display(0, 1, "Press number of demo to select/deselect");    display(1, 1, "    then ENTER to Run.");    display(3, 1, "Need help? Press H");    add.to.pic(vDemoPage1, 0, 0, 101, 47, 0, 4);    add.to.pic(vDemoPage1, 0, 1, 101, 87, 0, 4);    add.to.pic(vDemoPage1, 0, 2, 101, 127, 0, 4);    display(6, 39, "1");    display(11, 39, "2");    display(16, 39, "3");    display(18, 25, "Last page: F9");    display(19, 25, "Next page: F10");    reset(pressed1);    reset(pressed2);    reset(pressed3);    reset(pressed4);    reset(pressed5);    reset(pressed6);    reset(pressed7);    reset(pressed8);    reset(pressed9);    reset(pressed0);    reset(turnedPage);    demoPage = 1;    }  if (controller(cNum1))    {    toggle(pressed1);    }  if (controller(cNum2))    {    toggle(pressed2);    }  if (controller(cNum3))    {    toggle(pressed3);    }  if (controller(cNum4))    {    toggle(pressed4);    }  if (controller(cNum5))    {    toggle(pressed5);    }  if (controller(cNum6))    {    toggle(pressed6);    }  if (controller(cRunContinuously))    {    set(willRunContinuously);    }  if ((willRunContinuously || controller(cReturn)))    {    if ((pressed1 || pressed2 || pressed3 || pressed4 ||         pressed5 || pressed6 || pressed7 || pressed8 ||         pressed9 || pressed0))      {      set(selectedADemo);      set(scriptDone);      script = 0;      reset(demoRestarted);      numSelections = 0;      }    }  if (controller(cPrevPage))    {    if (demoPage == 1)      {      demoPage = 2;      }    else      {      --demoPage;      }    set(turnedPage);    }  if (controller(cNextPage))    {    if (demoPage == 2)      {      demoPage = 1;      }    else      {      ++demoPage;      }    set(turnedPage);    }  if (turnedPage)    {    reset(turnedPage);    if (demoPage == 1)      {      add.to.pic(vDemoPage1, 0, 0, 100, 47, 15, 4);      add.to.pic(vDemoPage1, 0, 1, 100, 87, 15, 4);      add.to.pic(vDemoPage1, 0, 2, 100, 127, 15, 4);      display(6, 39, "1");      display(11, 39, "2");      display(16, 39, "3");      }    if (demoPage == 2)      {      add.to.pic(vDemoPage2, 0, 0, 100, 47, 15, 4);      add.to.pic(vDemoPage2, 0, 1, 100, 87, 15, 4);      add.to.pic(vDemoPage2, 0, 2, 100, 127, 15, 4);      display(6, 39, "4");      display(11, 39, "5");      display(16, 39, "6");      }    }  if (pressed1)    {    display(23, 0, "1");    }  else    {    display(23, 0, " ");    }  if (pressed2)    {    display(23, 2, "2");    }  else    {    display(23, 2, " ");    }  if (pressed3)    {    display(23, 4, "3");    }  else    {    display(23, 4, " ");    }  if (pressed4)    {    display(23, 6, "4");    }  else    {    display(23, 6, " ");    }  if (pressed5)    {    display(23, 8, "5");    }  else    {    display(23, 8, " ");    }  if (pressed6)    {    display(23, 10, "6");    }  else    {    display(23, 10, " ");    }  if (pressed7)    {    display(23, 12, "7");    }  else    {    display(23, 12, " ");    }  if (pressed8)    {    display(23, 14, "8");    }  else    {    display(23, 14, " ");    }  if (pressed9)    {    display(23, 16, "9");    }  else    {    display(23, 16, " ");    }  if (pressed0)    {    display(23, 18, "0");    }  else    {    display(23, 18, " ");    }  if (controller(cHelp))    {    set(pressedHelp);    clear.text.rect(0, 0, 5, 24, BLACK);    clear.lines(0, 0, BLACK);    display(0, 0, "Help:");    display(1, 0, "     C - run continuously");    display(2, 0, "     F2 - toggle sound");    display(3, 0, "     Alt-Z - quit");    display(4, 0, "Press any key to continue");    }  if (pressedHelp && have.key())    {    clear.text.rect(0, 0, 5, 24, BLACK);    reset(pressedHelp);    set.text.attribute(YELLOW, BLACK);    display(0, 1, "Press number of demo to select/deselect");    display(1, 1, "    then ENTER to Run.");    display(3, 1, "Need help? Press H");    }  }if (selectedADemo)  {  if (scriptDone)    {    reset(scriptDone);    ++script;    if (script == 1)      {      animate.obj(aHands);      set.view(aHands, vDemoGuy);      set.loop(aHands, 0);      set.cel(aHands, 0);      position(aHands, 52, 153);      draw(aHands);      animate.obj(aMonitor);      set.view(aMonitor, vDemoGuy);      set.loop(aMonitor, 1);      set.cel(aMonitor, 0);      position(aMonitor, 72, 118);      stop.cycling(aMonitor);      draw(aMonitor);      scriptTimer = 3;      }    if (script == 2)      {      stop.cycling(aHands);      end.of.loop(aMonitor, scriptDone);      }    if (script == 3)      {      add.to.pic(vDemoGuy, 1, 2, 72, 118, 15, 4);      scriptTimer = 3;      }    if (script == 4)      {      script = 0;      reset(selectedADemo);      set(demoIsRunning);      }    }  }if (demoIsRunning)  {  ++numSelections;  erase(aHands);  erase(aMonitor);  clear.text.rect(0, 0, 24, 39, BLACK);  reset(soundDone);  if (numSelections == 1 && pressed1)    {    new.room(rmHelicopter);    }  if (numSelections == 2 && pressed2)    {    new.room(rmPQ);    }  if (numSelections == 3 && pressed3)    {    new.room(rmThexder);    }  if (numSelections == 4 && pressed4)    {    new.room(rmSQ2);    }  if (numSelections == 5 && pressed5)    {    new.room(rmMGStart);    }  if (numSelections == 6 && pressed6)    {    new.room(rmLSL);    }  if (numSelections == 7 && pressed7)    {    new.room(rmDemoSelect);    }  if (numSelections == 8 && pressed8)    {    new.room(rmDemoSelect);    }  if (numSelections == 9 && pressed9)    {    new.room(rmDemoSelect);    }  if (numSelections == 10 && pressed0)    {    new.room(rmDemoSelect);    }  if (numSelections == 11)    {    if (!willRunContinuously)      {      set(showOpeningLogo);      set(f47);      reset(demoIsRunning);      }    else      {      numSelections = 0;      }    }  }return();[ Messages#message 1 "1"#message 2 "2"#message 3 "3"#message 4 "4"#message 5 "5"#message 6 "6"#message 7 "7"#message 8 "8"#message 9 "9"#message 10 "0"#message 11 "Hi.  Which of our games"#message 12 " would you like to see?"#message 13 "Press number of demo to select/deselect"#message 14 "    then ENTER to Run."#message 15 "Need help? Press H"#message 20 "Help:"#message 21 "     C - run continuously"#message 22 "     F2 - toggle sound"#message 23 "     Alt-Z - quit"#message 24 "Press any key to continue"#message 30 "Last page: F9"#message 31 "Next page: F10"#message 40 "Press any key..."#message 100 " "