#define a.wolf  o1#define wolf.in.room f20#define wolf.left   f22#define wolf.will.come  f23#define wolf.step v30if (newRoom)  {  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);  set.horizon(46);  if (goat.following)    {    load.logics(lgc.goat);    }  if (dead.goat.room == currentRoom)    {    add.to.pic(View62, 0, 0, 83, 142, 0, 0);    }  random(0, 250, work);  if (work < 185)    {    wolf.step = 4;    step.size(a.wolf, wolf.step);    set(wolf.will.come);    load.view(v.wolf);    load.view(View96);    load.sound(m.badguy);    animate.obj(a.wolf);    set.view(a.wolf, v.wolf);    }  if (wolf.will.come)    {Label1:    random(0, 250, work.2);    if (work.2 > 90)      {      goto(Label1);      }    }  if ((previousRoom == 20 ||       previousRoom == 4))    {    if (onWater)      {      set.view(ego, View0);      reset(keep.cycling);      drown.swim = 0;      }    }  draw(ego);  show.pic();  }--work.2;if (work.2 == 1)  {  set(wolf.in.room);  position(a.wolf, 7, 68);  set(ego.stunned);  sound(m.badguy, sound.done);  draw(a.wolf);  if (!goat.following)    {    print("Look out for that wolf -- he can run very fast!   Don't let him "          "catch you!");    follow.ego(a.wolf, 12, menace.caught.ego);    }  if (goat.following)    {    wander(a.wolf);    set(wolf.left);    print("Look out for that wolf -- he can run very fast!   Don't let him "          "catch you!");    print("The wolf sees that menacing goat by your side and decides to keep "          "his distance.");    }  }if (sound.done)  {  reset(sound.done);  reset(ego.stunned);  }if (!wolf.in.room)  {  if (said("anyword", "wolf"))    {    print("There's no wolf here.");    }  }if (wolf.in.room)  {  if (said("check", "wolf"))    {    print("Yes, it's a wolf and it's very fast.  Now do something!");    }  if (said("kill", "wolf"))    {    print("You don't have time to do that right now!");    }  if ((said("pet", "wolf") ||       said("speak", "wolf")))    {    print("Are you crazy?");    }  if ((said("hello") ||       said("say", "hello")))    {    print("The wolf is in no mood for conversion.");    }  }if (menace.caught.ego)  {  reset(menace.caught.ego);  if (protected.spell)    {    print("You are very fortunate that your protective spell is still working.");    wander(a.wolf);    set(wolf.left);    }  else    {    if (ego.invisible)      {      print("Fortunately, you are invisible and the wolf can't see you.");      wander(a.wolf);      set(wolf.left);      }    else      {      if (have.shield)        {        print("You, fortunately, have the magic shield which will protect you.");        wander(a.wolf);        set(wolf.left);        }      else        {        program.control();        print("It seems the wolf caught up with you and is discussing dinner "              "arrangements.");        erase(a.wolf);        set.view(ego, View96);        start.cycling(ego);        set(keep.cycling);        set(certain.death);        }      }    }  }if (wolf.left &&     edgeObjHit != NOT_HIT)  {  reset(wolf.left);  reset(wolf.in.room);  erase(a.wolf);  }if (certain.death)  {  goto(Label2);  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic20);  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic14);  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic12);  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic4);  }if (goat.following)  {  call(lgc.goat);  }Label2:return();[ Messages#message 1 "Look out for that wolf -- he can run very fast!   Don't let him catch you!"#message 2 "You are very fortunate that your protective spell is still working."#message 3 "Fortunately, you are invisible and the wolf can't see you."#message 4 "The wolf sees that menacing goat by your side and decides to keep his distance."#message 5 "You, fortunately, have the magic shield which will protect you."#message 6 "Yes, it's a wolf and it's very fast.  Now do something!"#message 7 "You don't have time to do that right now!"#message 8 "It seems the wolf caught up with you and is discussing dinner arrangements."#message 9 "Are you crazy?"#message 10 "There's no wolf here."#message 11 "Now that the goat is gone, you'll have to take care of yourself!"#message 12 "The wolf is in no mood for conversion."