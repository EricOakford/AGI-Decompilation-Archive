#define a.flags o1#define gator.1.catch.ego   f20#define gator.2.catch.ego   f21#define gators.attack       f22#define fell.in.moat        f23#define gator.death.timer v34if (newRoom)  {  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);  load.logics(lgc.swim);  set.horizon(50);  if (goat.following)    {    load.logics(lgc.goat);    }  if (dead.goat.room == currentRoom)    {    add.to.pic(View62, 0, 0, 95, 72, 0, 0);    }  load.view(View107);  load.view(View97);  animate.obj(a.gator.1);  animate.obj(a.gator.2);  animate.obj(a.flags);  set.view(a.gator.1, View107);  set.view(a.gator.2, View107);  set.view(a.flags, View97);  position(a.gator.1, 121, 161);  position(a.gator.2, 73, 166);  ignore.horizon(a.flags);  position(a.flags, 5, 17);  set.priority(a.flags, 15);  set(deadly.water);  object.on.water(a.gator.1);  object.on.water(a.gator.2);  ignore.blocks(ego);  draw(a.gator.1);  draw(a.gator.2);  draw(a.flags);  if ((previousRoom == 0 ||       previousRoom == 83))    {    position(ego, 110, 100);    }  wander(a.gator.1);  wander(a.gator.2);  if (previousRoom == 8)    {    get.posn(ego, temp.x, temp.y);    if (temp.y > 150)      {      position(ego, 148, 150);      }    }  draw(ego);  call(lgc.swim);  show.pic();  status.line.on();  accept.input();  }if (said("check", "room"))  {  print("You are standing outside a castle surrounded by an alligator filled "        "moat.");  }if (said("pet", "alligator"))  {  print("What!  Are you crazy?");  }if (said("check", "bridge"))  {  print("It is a very small,  wooden barrel bridge.");  }if (said("check", "banner"))  {  print("King Edward's banners are waving in the strong breeze.");  }if (said("check", "building"))  {  print("This is the castle of King Edward the Benevolent.");  }if (said("check", "moat"))  {  print("It looks deep and dangerous.  You can see alligators  floating in the "        "water.");  }if (said("check", "water"))  {  print("The water in the moat is not conducive to swimming.");  }if (said("check", "blossom"))  {  print("They are absolutely gorgeous!");  }if ((said("acquire", "blossom") ||     said("steal", "blossom")))  {  print("King Edward does not allow anyone to take his flowers.");  }if (said("check", "alligator"))  {  print("The alligators are swimming in the moat.");  }if (said("drink", "water") &&     !have.water && !drank.water)  {  if ((posn(ego, 0, 146, 159, 167) ||       posn(ego, 87, 110, 117, 145)))    {    print("There are alligators in this water.  I don't think you want to try "          "drinking it.");    }  else    {    print("There is water nearby.");    }  }if (have.bucket && !have.water)  {  if (said("acquire", "water"))    {    if ((posn(ego, 0, 146, 159, 167) ||         posn(ego, 87, 110, 117, 145)))      {      reset(drank.water);      print("You fill the bucket with the murky water from the moat.");      get("water");      set(have.water);      if (!points.water)        {        set(points.water);        currentScore  += 2;        }      }    else      {      print("You need to get closer to the water.");      }    }  }if (egoHitSpecial)  {  set(onWater);  }if (drown.swim <= 0 && onWater)  {  delta.x = 255;  ignore.objs(ego);  if (posn(ego, 0, 158, 28, 166))    {    delta.x = 2;    delta.y = 166;    }  if (posn(ego, 29, 158, 56, 166))    {    delta.x = 30;    delta.y = 166;    }  if (posn(ego, 57, 158, 84, 166))    {    delta.x = 58;    delta.y = 166;    }  if (posn(ego, 85, 158, 111, 166))    {    delta.x = 86;    delta.y = 166;    }  if (posn(ego, 89, 117, 108, 146))    {    set.priority(ego, 5);    delta.x = 90;    delta.y = 133;    }  if (posn(ego, 112, 136, 159, 167))    {    delta.x = 122;    delta.y = 166;    }  if (delta.x == 255)    {    delta.x = 0;    }  else    {    get.posn(ego, temp.x, temp.y);    delta.x -= temp.x;    delta.y -= temp.y;    set(override.splash.loc);    }  }if (onWater)  {  if ((said("get out", "moat") ||       said("exit", "moat")))    {    print("The moats slippery sides prevent you from getting out.");    }  }if (onWater && !fell.in.moat)  {  program.control();  stop.motion(ego);  follow.ego(a.gator.1, 18, gator.1.catch.ego);  follow.ego(a.gator.2, 18, gator.2.catch.ego);  set(fell.in.moat);  }if (posn(ego, 89, 132, 91, 134) && !gators.attack)  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(gators.attack);  gator.death.timer = 45;  }if (gator.1.catch.ego && !gators.attack)  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(gators.attack);  gator.death.timer = 45;  }if (gator.2.catch.ego && !gators.attack)  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(gators.attack);  gator.death.timer = 45;  }if (gators.attack &&     gator.death.timer == 1)  {  gator.death.timer = 0;  erase(ego);  if (gator.1.catch.ego)    {    erase(a.gator.1);    }  if (gator.2.catch.ego)    {    erase(a.gator.2);    }  set(certain.death);  }--gator.death.timer;if (edgeEgoHit != NOT_HIT)  {  reset(deadly.water);  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic16);  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic8);  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic2);  }if (goat.following)  {  call(lgc.goat);  }call(lgc.swim);return();[ Messages#message 1 "Misfortune strikes and you have fallen into the moat. Your struggles and cries have attracted hungry alligators.  They do not want to let you go."#message 2 "King Edward's banners are waving in the strong breeze."#message 3 "This is the castle of King Edward the Benevolent."#message 4 "It looks deep and dangerous.  You can see alligators  floating in the water."#message 5 "The water in the moat is not conducive to swimming."#message 6 "They are absolutely gorgeous!"#message 7 "It is a very small,  wooden barrel bridge."#message 8 "The alligators are swimming in the moat."#message 9 "There are alligators in this water.  I don't think you want to try drinking it."#message 10 "You fill the bucket with the murky water from the moat."#message 11 "There is water nearby."#message 12 "You need to get closer to the water."#message 13 "King Edward does not allow anyone to take his flowers."#message 14 "The moats slippery sides prevent you from getting out."#message 15 "What!  Are you crazy?"#message 16 "You are standing outside a castle surrounded by an alligator filled moat."