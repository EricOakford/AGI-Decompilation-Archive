#define aFlags  o1#define aGator1 o11#define aGator2 o12if (newRoom)  {  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);  load.logics(lgc.swim);  set.horizon(50);  if (goat.following)    {    load.logics(lgc.goat);    }  if (dead.goat.room == currentRoom)    {    add.to.pic(View62, 0, 0, 95, 72, 0, 0);    }  load.view(View107);  load.view(View97);  animate.obj(aGator1);  animate.obj(aGator2);  animate.obj(aFlags);  set.view(aGator1, View107);  set.view(aGator2, View107);  set.view(aFlags, View97);  position(aGator1, 121, 161);  position(aGator2, 73, 166);  ignore.horizon(aFlags);  position(aFlags, 5, 17);  set.priority(aFlags, 15);  set(f68);  object.on.water(aGator1);  object.on.water(aGator2);  ignore.blocks(ego);  draw(aGator1);  draw(aGator2);  draw(aFlags);  if ((previousRoom == 0 ||       previousRoom == 83))    {    position(ego, 110, 100);    }  wander(aGator1);  wander(aGator2);  if (previousRoom == 8)    {    get.posn(ego, goat.x, goat.y);    if (goat.y > 150)      {      position(ego, 148, 150);      }    }  draw(ego);  call(lgc.swim);  show.pic();  status.line.on();  accept.input();  }if (said("check", "room"))  {  print("You are standing outside a castle surrounded by an alligator filled "        "moat.");  }if (said("pet", "alligator"))  {  print("What!  Are you crazy?");  }if (said("check", "bridge"))  {  print("It is a very small,  wooden barrel bridge.");  }if (said("check", "banner"))  {  print("King Edward's banners are waving in the strong breeze.");  }if (said("check", "building"))  {  print("This is the castle of King Edward the Benevolent.");  }if (said("check", "moat"))  {  print("It looks deep and dangerous.  You can see alligators  floating in the "        "water.");  }if (said("check", "water"))  {  print("The water in the moat is not conducive to swimming.");  }if (said("check", "blossom"))  {  print("They are absolutely gorgeous!");  }if ((said("acquire", "blossom") ||     said("steal", "blossom")))  {  print("King Edward does not allow anyone to take his flowers.");  }if (said("check", "alligator"))  {  print("The alligators are swimming in the moat.");  }if (said("drink", "water") && !have.water && !drank.water)  {  if ((posn(ego, 0, 146, 159, 167) ||       posn(ego, 87, 110, 117, 145)))    {    print("There are alligators in this water.  I don't think you want to try "          "drinking it.");    }  else    {    print("There is water nearby.");    }  }if (have.bucket && !have.water)  {  if (said("acquire", "water"))    {    if ((posn(ego, 0, 146, 159, 167) ||         posn(ego, 87, 110, 117, 145)))      {      reset(drank.water);      print("You fill the bucket with the murky water from the moat.");      get("water");      set(have.water);      if (!points.water)        {        set(points.water);        currentScore  += 2;        }      }    else      {      print("You need to get closer to the water.");      }    }  }if (egoHitSpecial)  {  set(onWater);  }if (drown.swim <= 0 && onWater)  {  v76 = 255;  ignore.objs(ego);  if (posn(ego, 0, 158, 28, 166))    {    v76 = 2;    v77 = 166;    }  if (posn(ego, 29, 158, 56, 166))    {    v76 = 30;    v77 = 166;    }  if (posn(ego, 57, 158, 84, 166))    {    v76 = 58;    v77 = 166;    }  if (posn(ego, 85, 158, 111, 166))    {    v76 = 86;    v77 = 166;    }  if (posn(ego, 89, 117, 108, 146))    {    set.priority(ego, 5);    v76 = 90;    v77 = 133;    }  if (posn(ego, 112, 136, 159, 167))    {    v76 = 122;    v77 = 166;    }  if (v76 == 255)    {    v76 = 0;    }  else    {    get.posn(ego, goat.x, goat.y);    v76 -= goat.x;    v77 -= goat.y;    set(f134);    }  }if (onWater)  {  if ((said("get out", "moat") ||       said("exit", "moat")))    {    print("The moats slippery sides prevent you from getting out.");    }  }if (onWater && !f23)  {  program.control();  stop.motion(ego);  follow.ego(aGator1, 18, f20);  follow.ego(aGator2, 18, f21);  set(f23);  }if (posn(ego, 89, 132, 91, 134) &&     !isset(f22))  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(f22);  v34 = 45;  }if (isset(f20) &&     !isset(f22))  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(f22);  v34 = 45;  }if (isset(f21) &&     !isset(f22))  {  print("Misfortune strikes and you have fallen into the moat. Your struggles "        "and cries have attracted hungry alligators.  They do not want to let "        "you go.");  set(f22);  v34 = 45;  }if (isset(f22) &&     v34 == 1)  {  v34 = 0;  erase(ego);  if (isset(f20))    {    erase(aGator1);    }  if (isset(f21))    {    erase(aGator2);    }  set(certain.death);  }--v34;if (edgeEgoHit != NOT_HIT)  {  reset(f68);  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic16);  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic8);  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic2);  }if (isset(goat.following))  {  call(lgc.goat);  }call(lgc.swim);return();[ Messages#message 1 "Misfortune strikes and you have fallen into the moat. Your struggles and cries have attracted hungry alligators.  They do not want to let you go."#message 2 "King Edward's banners are waving in the strong breeze."#message 3 "This is the castle of King Edward the Benevolent."#message 4 "It looks deep and dangerous.  You can see alligators  floating in the water."#message 5 "The water in the moat is not conducive to swimming."#message 6 "They are absolutely gorgeous!"#message 7 "It is a very small,  wooden barrel bridge."#message 8 "The alligators are swimming in the moat."#message 9 "There are alligators in this water.  I don't think you want to try drinking it."#message 10 "You fill the bucket with the murky water from the moat."#message 11 "There is water nearby."#message 12 "You need to get closer to the water."#message 13 "King Edward does not allow anyone to take his flowers."#message 14 "The moats slippery sides prevent you from getting out."#message 15 "What!  Are you crazy?"#message 16 "You are standing outside a castle surrounded by an alligator filled moat."