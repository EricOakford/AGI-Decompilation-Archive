#define aRock   o1#define aHole    o2if (newRoom)  {  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);  set.horizon(46);  if (goat.following)    {    load.logics(lgc.goat);    }  if (dead.goat.room == currentRoom)    {    add.to.pic(View62, 0, 0, 32, 75, 0, 0);    }  load.view(View10);  animate.obj(aRock);  set.view(aRock, View10);  if (!moved.rock)    {    position(aRock, 118, 133);    }  else    {    position(aRock, 118, 145);    }  load.view(View112);  animate.obj(aHole);  set.view(aHole, View112);  position(aHole, 122, 124);  ignore.objs(aHole);  load.view(View114);  draw(aRock);  if (moved.rock)    {    draw(aHole);    }  draw(ego);  show.pic();  }if (said("check", "room"))  {  print("You are in a forest clearing.  There is a large rock here.");  }if (moved.rock)  {  ignore.blocks(ego);  }else  {  observe.blocks(ego);  }if (!haveMatch)  {  if (said("check", "tree"))    {    print("There are numerous white birch trees reaching to the sky.");    }  distance(ego, aRock, work);  if (said("check", "boulder"))    {    if (!moved.rock)      {      if (work > 50)        {        print("There is a rock in the distance.");        }      else        {        print("You see a large, grey rock.");        }      }    else      {      print("It is a large rock with a hole next to it.");      }    }  if (said("acquire", "boulder"))    {    if (work < 20)      {      print("This rock is far too heavy for you to carry.");      }    else      {      print("You are much too far away to even attempt getting the rock.");      }    }  }if (said("move", "boulder"))  {  if (!moved.rock && !done1)    {    if (!posn(ego, 115, 114, 133, 133) &&         !posn(ego, 118, 134, 133, 148))      {      print("It will be very difficult to move the rock from here.");      }    if (posn(ego, 115, 114, 133, 133))      {      draw(aHole);      stop.update(aHole);      move.obj(aRock, 118, 145, 0, moved.rock);      print("With a heave and a ho, you manage to move the rock... revealing a "            "dark hole underneath it.");      currentScore  += 2;      set(done1);      }    if (posn(ego, 118, 134, 133, 148))      {      ignore.objs(aRock);      draw(aHole);      stop.update(aHole);      set(done2);      set.priority(aRock, 15);      move.obj(aRock, 118, 145, 0, moved.rock);      print("This moving rock rolls downhill and you, unfortunately,  are in "            "the way.");      program.control();      set(certain.death);      erase(ego);      set.view(ego, View114);      position(ego, 115, 140);      draw(ego);      }    }  if (moved.rock)    {    print("After moving that rock once, even thinking about it should make you "          "tired.");    }  }if ((said("check", "doorway") ||     said("look in", "doorway")))  {  distance(ego, aHole, dist.to.obj);  if (moved.rock &&       dist.to.obj < 15)    {    if (!took.dagger)      {      print("There is an intricately carved dagger in the hole.");      }    else      {      print("There is nothing in this hole but dirt.");      }    }  if (moved.rock && dist.to.obj > 14)    {    print("You are too far from the hole to see in it.");    }  if (!moved.rock)    {    print("There is no hole here.");    }  }if (said("check", "dagger"))  {  if (!took.dagger && moved.rock)    {    print("You could see it better if you picked it up.");    }  if (!moved.rock)    {    print("You do not have a dagger to look at.");    }  }if (said("acquire", "dagger"))  {  if (moved.rock && !took.dagger)    {    if (posn(ego, 112, 108, 134, 133))      {      print("You reach into the hole and grasp the dagger, being careful not to "            "cut yourself.");      get("dagger");      currentScore  += 5;      set(took.dagger);      set(have.dagger);      }    else      {      print("You are too far away to get the dagger.");      }    }  if (!moved.rock && !took.dagger)    {    print("There is no dagger here.");    }  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic14);  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic2);  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic4);  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic46);  }if (goat.following)  {  call(lgc.goat);  }return();[ Messages#message 1 "There are numerous white birch trees reaching to the sky."#message 2 "After moving that rock once, even thinking about it should make you tired."#message 3 "There is no hole here."#message 4 "There is an intricately carved dagger in the hole."#message 5 "There is nothing in this hole but dirt."#message 6 "There is no dagger here."#message 7 "You are too far away to get the dagger."#message 8 "You reach into the hole and grasp the dagger, being careful not to cut yourself."#message 10 "This rock is far too heavy for you to carry."#message 11 "It will be very difficult to move the rock from here."#message 12 "You are much too far away to even attempt getting the rock."#message 13 "With a heave and a ho, you manage to move the rock... revealing a dark hole underneath it."#message 14 "This moving rock rolls downhill and you, unfortunately,  are in the way."#message 15 "You see a large, grey rock."#message 16 "It is a large rock with a hole next to it."#message 17 "There is a rock in the distance."#message 18 "You could see it better if you picked it up."#message 19 "You do not have a dagger to look at."#message 20 "You are too far from the hole to see in it."#message 21 "You are in a forest clearing.  There is a large rock here."