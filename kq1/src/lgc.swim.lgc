if (newRoom)  {  load.view(View93);  load.view(View70);  load.sound(Sound13);  set(in.swim.room);  reset(f147);  }if ((isset(f174) ||     certain.death))  {  goto(Label1);  }if (deadly.water &&     drown.swim == 1)  {  set(lf24);  if ((said("swim") ||       said("enter", "swim") ||       said("swim", "anyword") ||       controller(c.swim)))    {    if ((currentRoom == 1 ||         currentRoom == 2))      {      print("Unfortunately, with the moat population swimming is not possible.");      }    else      {      print("The swift current does not allow for swimming.");      }    }  }if (drown.swim == 1)  {  if (!isset(lf25))    {    set(lf25);    sound(Sound13, f46);    }  if (isset(f46))    {    reset(f46);    reset(lf25);    }  }if (onWater)  {  if (drown.swim == 0)    {    set(keep.cycling);    stop.motion(ego);    splash.timer = 250;    drown.swim = 1;    if (override.splash.loc)      {      reposition(ego, delta.x, delta.y);      }    else      {      object.on.water(ego);      }    get.posn(ego, delta.x, delta.y);    if (delta.x > 139)      {      erase(ego);      set.view(ego, View93);      draw(ego);      if (ego.shrunk)        {        reset(ego.shrunk);        shrink.timer = 0;        print("It appears you have become normal size again.");        }      if (ego.invisible)        {        invisible.timer.1 = 0;        invisible.timer.2 = 0;        reset(ego.invisible);        reset(have.ring);        reset(wearing.ring);        set(lost.ring);        drop("magic ring");        currentScore -= 3;        print("Thrashing around in the water has caused you to lose the magic "              "ring and become visible again.");        }      }    else      {      set.view(ego, View93);      if (ego.shrunk)        {        reset(ego.shrunk);        shrink.timer = 0;        print("It appears you have become normal size again.");        }      if (ego.invisible)        {        invisible.timer.1 = 0;        invisible.timer.2 = 0;        reset(ego.invisible);        reset(have.ring);        reset(wearing.ring);        set(lost.ring);        drop("magic ring");        currentScore -= 3;        print("Thrashing around in the water has caused you to lose the magic "              "ring and become visible again.");        }      }    if (deadly.water)      {      drown.timer = 50;      }    }  else    {    if (!deadly.water &&         drown.swim != 2 &&         !isset(lf24))      {      if ((said("swim") ||           said("enter", "swim") ||           said("swim", "anyword") ||           controller(c.swim)))        {        set.view(ego, View70);        start.motion(ego);        stop.sound();        drown.swim = 2;        goto(Label1);        }      }    }  }if (!isset(f147) &&     !isset(lf24))  {  if ((said("swim") ||       said("enter", "swim") ||       said("swim", "anyword") ||       controller(c.swim)))    {    set(f147);    if (!onWater)      {      print("You need to be in the water in order to swim.");      }    else      {      if (onWater &&           drown.swim == 2)        {        print("You are already swimming!");        }      }    }  }else  {  if (!controller(c.swim))    {    reset(f147);    }  }if (drown.swim == 1 &&     drown.timer <= 0)  {  if (splash.timer == 0)    {    set(lf24);    print("You splash around in the water for a while but seem  to have "          "forgotten how to swim. Unfortunately, you drown.");    drown.timer = 50;    }  else    {    --splash.timer;    }  }if (!onWater &&     drown.swim == 2)  {  reset(keep.cycling);  drown.swim = 0;  set.view(ego, View0);  if (isset(f136))    {    reposition(ego, delta.x, delta.y);    }  else    {    object.on.land(ego);    }  }reset(override.splash.loc);reset(f136);delta.x = 0;delta.y = 0;--drown.timer;if (drown.timer == 1)  {  erase(ego);  stop.sound();  set(certain.death);  }Label1:return();[ Messages#message 1 "You splash around in the water for a while but seem  to have forgotten how to swim. Unfortunately, you drown."#message 2 "Unfortunately, with the moat population swimming is not possible."#message 3 "You need to be in the water in order to swim."#message 4 "You are already swimming!"#message 5 "The swift current does not allow for swimming."#message 6 "Thrashing around in the water has caused you to lose the magic ring and become visible again."#message 7 "It appears you have become normal size again."