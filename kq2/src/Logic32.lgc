#define a.ghoul o3#define can.enter.boat  f31#define go.to.castle    f32#define go.to.shore f34#define ghoul.in.room   f36if (newRoom)  {  if (read.inscription.3)    {    load.view(View24);    load.view(View23);    }  load.view(View92);  load.view(View104);  load.view(View91);  if ((has("Oil Lamp") ||       has("Carpet")))    {    load.view(View65);    load.view(View98);    }  set(poisoned.water);  load.logics(lgc.poison.lake);  load.logics(lgc.swim);  load.pic(currentRoom);  draw.pic(currentRoom);  call(lgc.poison.lake);  call(lgc.swim);  if (read.inscription.3)    {    if ((previousRoom == 25 || !got.gold.key.3))      {      animate.obj(a.ghoul);      }    }  work = 3;  cycle.time(a.ghoul, work);  ignore.blocks(ego);  if (previousRoom == 25)    {    drown.swim = 2;    position(ego, 88, 140);    set.view(a.ghoul, View23);    position(a.ghoul, 69, 70);    set(in.boat);    move.obj(a.ghoul, 88, 126, 0, go.to.shore);    set.view(ego, View104);    work = 2;    cycle.time(ego, work);    set.loop(a.ghoul, 0);    set.priority(a.ghoul, 4);    draw(a.ghoul);    goto(Label1);    }  else    {    set(f35);    }  if (read.inscription.3 && !got.gold.key.3)    {    set(ghoul.in.room);    set.view(a.ghoul, View24);    set.loop(a.ghoul, 0);    set.cel(a.ghoul, 0);    position(a.ghoul, 88, 126);    draw(a.ghoul);    stop.update(a.ghoul);    }Label1:  if (previousRoom != 25)    {    draw(ego);    }  show.pic();  }if (!onWater)  {  if ((posn(ego, 0, 62, 38, 121) ||       posn(ego, 126, 77, 156, 118)))    {    set(onWater);    set(override.splash.loc);    }  }if ((!isset(f35) || !haveInput || haveMatch))  {  goto(Label4);  }if ((said("check out", "area") ||     said("check out")))  {  if (ghoul.in.room)    {    print("%m18 A shrouded figure stands silent.");    }  else    {    print("The lake is foul and stinking! It may be poisoned. All vegetation "          "looks dead around it. There is a desolate island in the middle of "          "the poisoned lake.");    }  }if (!ghoul.in.room)  {  goto(Label3);  }if (said("check out", "boat"))  {  print("The small wooden rowboat looks old and rotted from traversing the "        "poisoned lake.");  }if (said("check out", "count dracula"))  {  print("The shrouded ghoul looks very frightening. His hands are little more "        "than claws, and his face is completely hidden inside the hood of the "        "shroud. He is standing in a small boat.");  }if (gave.treasure.to.ghoul)  {  set(can.enter.boat);  }if (wearing.ring && wearing.cloak)  {  set(can.enter.boat);  }if (!can.enter.boat &&     (said("enter", "boat") ||     said("climb", "boat") ||     said("get in", "boat") ||     said("board", "boat") ||     said("get on", "boat")))  {  print("The spooky fiend holds out a bony claw, as if in request for a payment "        "of some kind.");  }if (can.enter.boat &&     (said("enter", "boat") ||     said("climb", "boat") ||     said("get in", "boat") ||     said("board", "boat") ||     said("get on", "boat")))  {  distance(ego, a.ghoul, work);  if (work > 15)    {    print("You are too far away.");    }  else    {    if (wearing.cloak && wearing.ring)      {      print("The shrouded ghoul looks at the ruby ring on your finger and the "            "black cloak around your neck. He motions for you to enter the "            "boat, which you do. You must have fooled him into thinking you "            "were someone else.");      }    else      {      print("You climb carefully into the old boat. The shrouded ghoul paddles "            "it across the lake to the ominous island.");      }    reset(f35);    set(in.boat);    erase(ego);    program.control();    start.update(a.ghoul);    set.view(a.ghoul, View23);    set.loop(a.ghoul, 1);    start.cycling(a.ghoul);    set(handsOff);    move.obj(a.ghoul, 69, 74, 0, go.to.castle);    }  }if ((said("speak", "count dracula") ||     said("hello", "anyword") ||     said("anyword", "hello")))  {  print("You are greeted by stony silence from the frightening ghoul.");  }if (said("acquire", "boat"))  {  print("The ghoul will not let you take the boat.");  }if (said("kill", "count dracula"))  {  print("You can't kill something that is already dead.");  }if ((said("acquire", "count dracula") ||     said("capture", "count dracula")))  {  print("It is impossible to catch a ghoul.");  }if ((said("give", "treasure", "count dracula") ||     said("give", "count dracula", "treasure") ||     said("give", "treasure")))  {  print("Which treasure would you like to give the ghoul?");  }else  {  if ((said("give", "diamond and sapphire necklace", "count dracula") ||       said("give", "count dracula", "diamond and sapphire necklace")))    {    if (has("Necklace"))      {      drop("Necklace");      goto(Label2);      }    else      {      print("You don't have it.");      goto(Label4);      }    }  if ((said("give", "bracelet", "count dracula") ||       said("give", "count dracula", "bracelet")))    {    if (has("Bracelet"))      {      drop("Bracelet");      goto(Label2);      }    else      {      print("You don't have it.");      goto(Label4);      }    }  if ((said("give", "diamond and sapphire tiara", "count dracula") ||       said("give", "count dracula", "diamond and sapphire tiara")))    {    if (has("Tiara"))      {      drop("Tiara");      goto(Label2);      }    else      {      print("You don't have it.");      goto(Label4);      }    }  if ((said("give", "earrings", "count dracula") ||       said("give", "count dracula", "earrings")))    {    if (has("Earrings"))      {      drop("Earrings");      goto(Label2);      }    else      {      print("You don't have it.");      goto(Label4);      }    }  if ((said("give", "brooch", "count dracula") ||       said("give", "count dracula", "brooch")))    {    if (has("Brooch"))      {      drop("Brooch");      goto(Label2);      }    else      {      print("You don't have it.");      goto(Label4);      }    }  if ((said("give", "diamond and sapphire tiara") ||       said("give", "bracelet") ||       said("give", "earrings") ||       said("give", "brooch") ||       said("give", "diamond and sapphire necklace")))    {    print("You must specify who you wish to give it to.");    }  else    {    if ((said("give", "anyword", "count dracula") ||         said("give", "count dracula", "anyword")))      {      print("The silent fiend slowly shakes his head. He is not interested in "            "it.");      }    goto(Label3);Label2:    print("The shrouded ghoul takes your treasure. Silently, he gestures toward "          "the boat.");    start.update(a.ghoul);    end.of.loop(a.ghoul, f33);    set(gave.treasure.to.ghoul);    currentScore -= 7;    }Label3:  if ((said("check out") ||       said("check out", "area")))    {    [ WARNING: this block contains no commands    }  }Label4:if (go.to.shore)  {  drown.swim = 0;  reset(in.boat);  reset(go.to.shore);  set.view(a.ghoul, View24);  position(a.ghoul, 88, 126);  set.loop(a.ghoul, 0);  set.cel(a.ghoul, 0);  work = 1;  cycle.time(ego, work);  set.view(ego, View0);  draw(ego);  set(f35);  set(ghoul.in.room);  stop.cycling(a.ghoul);  reset(gave.treasure.to.ghoul);  }if (go.to.castle)  {  reset(handsOff);  release.priority(a.ghoul);  new.room(Logic25); [ ##LE001##  }if (isset(f33))  {  reset(f33);  reverse.loop(a.ghoul, done);  }if (edgeEgoHit != NOT_HIT)  {  reset(poisoned.water);  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic25); [ ##LE002##  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic33); [ ##LE003##  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic31); [ ##LE004##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic39); [ ##LE005##  }call(lgc.poison.lake);call(lgc.swim);return();[ Messages#message 2 "The small wooden rowboat looks old and rotted from traversing the poisoned lake."#message 4 "The shrouded ghoul looks very frightening. His hands are little more than claws, and his face is completely hidden inside the hood of the shroud. He is standing in a small boat."#message 5 "The spooky fiend holds out a bony claw, as if in request for a payment of some kind."#message 6 "You climb carefully into the old boat. The shrouded ghoul paddles it across the lake to the ominous island."#message 7 "You are greeted by stony silence from the frightening ghoul."#message 8 "The ghoul will not let you take the boat."#message 9 "You can't kill something that is already dead."#message 10 "It is impossible to catch a ghoul."#message 11 "Which treasure would you like to give the ghoul?"#message 12 "The shrouded ghoul takes your treasure. Silently, he gestures toward the boat."#message 13 "The silent fiend slowly shakes his head. He is not interested in it."#message 14 "You are too far away."#message 15 "You don't have it."#message 16 "The shrouded ghoul looks at the ruby ring on your finger and the black cloak around your neck. He motions for you to enter the boat, which you do. You must have fooled him into thinking you were someone else."#message 17 "You must specify who you wish to give it to."#message 18 "The lake is foul and stinking! It may be poisoned. All vegetation looks dead around it. There is a desolate island in the middle of the poisoned lake."#message 19 "%m18 A shrouded figure stands silent."