#include beach.h#define room.timer.1    v30#define room.timer.2    v31#define first.action f32if (newRoom)  {  load.pic(currentRoom);  load.view(View1);  load.view(View97);  load.view(View104);  if ((has("Oil Lamp") ||       has("Carpet")))    {    load.view(View65);    load.view(View98);    }  load.sound(Sound25);  load.logics(lgc.beach);  load.logics(lgc.swim);  draw.pic(currentRoom);  position(a.wave, 0, 50);  call(lgc.beach);  call(lgc.swim);  if ((gameRestarted ||       previousRoom > 96))    {    position(ego, 100, 100);    }  else    {    if (previousRoom == 43)      {      if (drown.swim != 0)        {        position(ego, 10, 60);        }      else        {        position(ego, 110, 40);        }      }    }  room.timer.1 = 0;  room.timer.2 = 3;  draw(ego);  show.pic();  status.line.on();  if (monitorType == MONO &&       machineType == PC)    {    goto(startGame);    }  clear.lines(22, 24, BLACK);startGame:  accept.input();  set(enableMenu);  }if (!first.action && haveInput)  {  set(first.action);  }if (!first.room.change && !first.action)  {  if (egoDir != STOPPED)    {    set(first.action);    }  else    {    --room.timer.1;    if (room.timer.1 == 0)      {      --room.timer.2;      room.timer.1 = 250;      if (room.timer.2 == 0 &&           room.timer.1 == 250)        {        status.line.off();        reset(enableMenu);        new.room(rm.title); [ ##LE001##        }      }    }  }if (onWater &&     drown.swim <= 0 &&     posn(ego, 15, 46, 40, 54))  {  set(override.splash.loc);  temp.x = 12;  temp.y = 54;  }if (edgeEgoHit != NOT_HIT)  {  set(first.room.change);  }if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic43); [ ##LE002##  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic2); [ ##LE003##  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic50); [ ##LE004##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic8); [ ##LE005##  }call(lgc.beach);call(lgc.swim);return();[ Messages