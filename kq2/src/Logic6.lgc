#define a.door  o3if (newRoom)  {  load.pic(currentRoom);  load.sound(Sound21);  load.view(View7);  if ((has("Oil Lamp") ||       has("Carpet")))    {    load.view(View65);    load.view(View98);    }  load.logics(lgc.trees);  load.logics(lgc.fairy);  call(lgc.fairy);  draw.pic(currentRoom);  animate.obj(a.door);  set.view(a.door, View7);  set.cel(a.door, 0);  ignore.blocks(a.door);  position(a.door, 64, 146);  set.priority(a.door, 13);  draw(a.door);  stop.update(a.door);  if (previousRoom == 48)    {    get.posn(ego, work.2, work.3);    if (work.3 > 12 &&         work.3 < 25)      {      work.3 = 25;      position.v(ego, work.2, work.3);      }    }  if (previousRoom == 71)    {    position(ego, 70, 150);    }  draw(ego);  show.pic();  }if ((said("check out", "antique shop") ||     said("check out")))  {  print("This is an old monastery. The monks living here often help travelers "        "in need.");  }if ((said("check out", "window") ||     said("look in", "window")))  {  if (posn(ego, 2, 140, 22, 160))    {    print("You can see inside when you look in the window. It is hard to see "          "details, though.");    }  else    {    print("You are too far away to see in the window.");    }  }if (said("break", "window"))  {  print("There is no need to do that. The door is unlocked.");  }if (said("check out", "door"))  {  print("The monastery door is made of very thick wood held together by iron "        "bars.");  }if ((ego.flying ||     genie.delay != 0 ||     !said("open", "door")))  {  goto(Label1);  }distance(ego, a.door, work);if (work > 20)  {  print("Your arms are too short to reach the door from here!");  }else  {  start.update(a.door);  sound(Sound21, done);  end.of.loop(a.door, monastery.door.open);  }Label1:if (monastery.door.open)  {  reset(monastery.door.open);  new.room(Logic71); [ ##LE001##  }if (!said("knock", "door"))  {  goto(Label2);  }distance(ego, a.door, work);if (work > 20)  {  print("Your arms are too short to reach the door from here!");  }else  {  print("It is not necessary to knock at a church door. All are welcome.");  }Label2:if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic48); [ ##LE002##  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic7); [ ##LE003##  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic5); [ ##LE004##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic13); [ ##LE005##  }call(lgc.trees);call(lgc.fairy);return();[ Messages#message 1 "There are not many flowers around here."#message 2 "This is an old monastery. The monks living here often help travelers in need."#message 3 "You can see inside when you look in the window. It is hard to see details, though."#message 4 "Have you nothing better to do than pick flowers?"#message 5 "There is no need to do that. The door is unlocked."#message 6 "The monastery door is made of very thick wood held together by iron bars."#message 7 "It is not necessary to knock at a church door. All are welcome."#message 8 "Your arms are too short to reach the door from here!"#message 9 "You are too far away to see in the window."