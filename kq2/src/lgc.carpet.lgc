#define to.edge f249if (newRoom)  {  if (flying.to.sky)    {    work = 2;    cycle.time(ego, work);    step.size(ego, work);    set.priority(ego, 15);    position(ego, 137, 65);    set.view(ego, View98);    draw(ego);    move.obj(ego, 0, 65, 0, to.edge);    }  return();  }if ((said("fly", "carpet") ||     said("get on", "carpet")))  {  if (currentRoom == 57 &&       right.posn(ego, 116, 76, 159, 104))    {    print("It wouldn't be safe to ride the carpet until you are all the way out "          "of the cave. Only wierd QA types do that.");    }  else    {    if (!snakeInAction &&         !egoFallingCliff &&         !ego.fell &&         !keep.cycling &&         !ego.flying)      {      set(flying.to.sky);      ignore.horizon(ego);      work = 2;      cycle.time(ego, work);      step.size(ego, work);      set.view(ego, View98);      set.loop(ego, 1);      set.priority(ego, 15);      program.control();      move.obj(ego, 0, 65, 0, to.edge);      set(ego.flying);      }    }  }if (to.edge)  {  release.priority(ego);  if (currentRoom == 55)    {    reset(flying.to.sky);    new.room(rm.sky); [ ##LE001##    }  else    {    work = currentRoom;    work -= 1;    new.room.v(work);    }  }return();[ Messages#message 1 "It wouldn't be safe to ride the carpet until you are all the way out of the cave. Only wierd QA types do that."