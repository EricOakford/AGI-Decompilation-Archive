#define a.ham   o2#define a.flame o3#define alternate.flames    f31if (newRoom)  {  set.horizon(0);  load.logics(lgc.dracula);  load.view(View134);  load.view(View56);  if (currentRoom == dracula.state)    {    load.view(View51);    load.view(View52);    load.view(View53);    }  load.pic(currentRoom);  draw.pic(currentRoom);  call(lgc.dracula);  if (!took.ham)    {    animate.obj(a.ham);    set.view(a.ham, View56);    set.priority(a.ham, 12);    position(a.ham, 65, 98);    stop.cycling(a.ham);    draw(a.ham);    }  animate.obj(a.flame);  set.view(a.flame, View134);  set.priority(a.flame, 9);  position(a.flame, 63, 26);  draw(a.flame);  start.cycling(a.flame);  if (previousRoom == 65)    {    position(ego, 128, 119);    }  else    {    if (previousRoom == 61)      {      position(ego, 25, 119);      }    else      {      position(ego, 80, 85);      set.loop(ego, 2);      set.cel(ego, 0);      }    }  ignore.objs(ego);  draw(ego);  show.pic();  }if (!alternate.flames)  {  position(a.flame, 63, 26);  set(alternate.flames);  }else  {  position(a.flame, 91, 26);  reset(alternate.flames);  }if (!haveInput)  {  goto(Label1);  }if ((said("check out") ||     said("check out", "antique shop") ||     said("check out", "swim")))  {  print("This is the dingy dining room of the drafty old castle. Ants crawl "        "among old bits of food. Dust covers a dilapidated table top.");  if (!took.ham)    {    print("A delicious-looking smoked ham is on the table.");    }  }if (said("check out", "stairs"))  {  print("The stairway appears to lead down into the dark depths of the castle.");  }if (said("check out", "chair"))  {  print("The chairs are old and worn.");  }if (said("check out", "table"))  {  print("The table top is completely covered with dust. Scratches scar the legs "        "of the table. Chairs with torn padding accompany it.");  if (!took.ham)    {    print("A delicious-looking smoked ham is on the table.");    }  }if ((said("sit", "table") ||     said("sit", "chair") ||     said("sit") ||     said("sit", "chair")))  {  print("The worn chairs look uninviting to sit upon.");  }if (said("acquire", "ham"))  {  if (!took.ham)    {    if (posn(ego, 50, 102, 108, 138))      {      print("OK.");      get("Ham");      set(took.ham);      erase(a.ham);      currentScore  += 2;      }    else      {      print("To do that, you will need to get closer.");      }    }  else    {    if (has("Ham"))      {      print("You don't see one here.");      }    else      {      print("You already have it.");      }    }  }Label1:if (egoHitSpecial &&     dracula.state != 5)  {  get.posn(ego, work.2, work.3);  if ((dracula.state == 1 ||       dracula.state == 3))    {    dracula.state = 0;    }  if (work.3 < 100)    {    new.room(Logic63); [ ##LE001##    }  else    {    if (work.2 > 80)      {      new.room(Logic65); [ ##LE002##      }    else      {      if (work.2 < 80)        {        new.room(Logic61); [ ##LE003##        }      }    }  }call(lgc.dracula);return();[ Messages#message 1 "This is the dingy dining room of the drafty old castle. Ants crawl among old bits of food. Dust covers a dilapidated table top."#message 2 "A delicious-looking smoked ham is on the table."#message 3 "The stairway appears to lead down into the dark depths of the castle."#message 4 "The table top is completely covered with dust. Scratches scar the legs of the table. Chairs with torn padding accompany it."#message 5 "The worn chairs look uninviting to sit upon."#message 6 "To do that, you will need to get closer."#message 7 "You don't see one here."#message 8 "You already have it."#message 9 "The chairs are old and worn."#message 10 "OK."