#define a.plank o2#define fall.offscreen    f30 #define fall.from.bridge    f31#define bridge.breaks       f32#define on.left.side        f34#define on.right.side       f35if (newRoom)  {  set.horizon(40);  load.logics(lgc.chasm);  load.logics(lgc.trees);  load.sound(Sound29);  load.view(View8);  load.view(View107);  if ((has("Oil Lamp") ||       has("Carpet")))    {    load.view(View65);    load.view(View98);    }  animate.obj(a.plank);  set.view(a.plank, View107);  set.cel(a.plank, 0);  ignore.blocks(a.plank);  load.pic(currentRoom);  draw.pic(currentRoom);  if (previousRoom == 6)    {    get.posn(ego, work.2, work.3);    if (work.2 > 90)      {      work.2 = 90;      position.v(ego, work.2, work.3);      }    }  get.posn(ego, work.2, work.3);  if (previousRoom == 41)    {    if (work.2 > 9 &&         work.2 < 32)      {      position(ego, 7, 41);      }    }  draw(ego);  position(a.plank, 92, 118);  set.priority(a.plank, 9);  draw(a.plank);  stop.update(a.plank);  show.pic();  }if (fall.offscreen)  {  reset(fall.offscreen);  print("Oh, dear! What a shame. The rickety old bridge collapses as you "        "attempt crossing it. You have fallen to your death.");  set(certain.death);  }else  {  if (!haveInput)    {    goto(Label1);    }  if (said("check out", "canyon"))    {    print("The deep gorge has a bridge spanning it. Oh, my! It's a long way "          "down, isn't it!");    }  if ((said("check out", "bridge") ||       said("check out", "area") ||       said("check out")))    {    print("The bridge spanning the chasm seems to be unstable and  tottery. Are "          "you entertaining thoughts of crossing it?");    }  if (said("y"))    {    print("Then go on, my brave fellow.");    }  if (said("no"))    {    print("That may be wise. You never know.");    }Label1:  if (ego.fell)    {    goto(Label2);    }  if (egoHitSpecial &&       posn(ego, 87, 91, 115, 122) &&       bridge.crossings > 6)    {    bridge.crossings = 0;    program.control();    start.update(a.plank);    end.of.loop(a.plank, bridge.breaks);    set.cel(a.plank, 1);    erase(ego);    set(f142);    }  if (on.left.side && on.right.side)    {    bridge.crossings  += 1;    currentScore  += 1;    reset(on.left.side);    reset(on.right.side);    }  if (posn(ego, 58, 97, 76, 119))    {    set(on.left.side);    }  if (posn(ego, 134, 84, 150, 96))    {    set(on.right.side);    }  if (bridge.breaks)    {    reset(bridge.breaks);    set.priority(ego, 7);    set.view(ego, View8);    work = 2;    cycle.time(ego, work);    work = 3;    step.size(ego, work);    position(ego, 100, 128);    draw(ego);    ignore.objs(ego);    sound(Sound29, done);    move.obj(ego, 100, 166, 2, fall.from.bridge);    }  if (fall.from.bridge)    {    erase(ego);    set(fall.offscreen);    }  }Label2:if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic41); [ ##LE001##  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic49); [ ##LE002##  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic47); [ ##LE003##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic6); [ ##LE004##  }call(lgc.chasm);call(lgc.trees);return();[ Messages#message 1 "The deep gorge has a bridge spanning it. Oh, my! It's a long way down, isn't it!"#message 2 "The bridge spanning the chasm seems to be unstable and  tottery. Are you entertaining thoughts of crossing it?"#message 3 "Oh, dear! What a shame. The rickety old bridge collapses as you attempt crossing it. You have fallen to your death."#message 4 "Then go on, my brave fellow."#message 5 "That may be wise. You never know."