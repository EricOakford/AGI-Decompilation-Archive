#define a.valanice  o2#define a.monk      o3#define a.fairy     o4#define going.home  f32#define fairy.sound.done    f33if (newRoom)  {  prevent.input();  set(fairy.sound.done);  timer.2 = 75;  load.sound(m.wedding);  load.sound(Sound33);  load.view(View75);  load.view(View105);  load.view(View106);  load.view(View180);  load.view(View181);  load.view(View182);  load.view(View183);  load.view(View184);  load.view(View185);  load.view(View186);  load.view(View117);  animate.obj(a.valanice);  animate.obj(a.monk);  animate.obj(a.fairy);  stop.cycling(a.monk);  stop.cycling(a.valanice);  ignore.objs(ego);  ignore.objs(a.valanice);  release.priority(ego);  set.view(a.fairy, View117);  set.view(a.monk, View75);  set.view(a.valanice, View106);  set.view(ego, View105);  work = 2;  cycle.time(ego, work);  position(a.valanice, 74, 150);  position(ego, 80, 90);  position(a.monk, 72, 79);  position(a.fairy, 67, 125);  set.priority(a.fairy, 15);  work = 71;  load.pic(work);  draw.pic(work);  discard.pic(work);  sound(m.wedding, done);  add.to.pic(View180, 0, 0, 95, 95, 10, 0);  add.to.pic(View181, 0, 0, 39, 107, 11, 0);  add.to.pic(View186, 0, 0, 26, 119, 12, 0);  add.to.pic(View184, 0, 0, 102, 119, 13, 0);  add.to.pic(View183, 0, 0, 26, 131, 15, 0);  add.to.pic(View185, 0, 0, 37, 95, 13, 0);  add.to.pic(View182, 0, 0, 106, 107, 11, 0);  set.loop(ego, 1);  set.loop(a.valanice, 1);  set.loop(a.fairy, 0);  draw(ego);  draw(a.valanice);  draw(a.monk);  show.pic();  move.obj(a.valanice, 72, 79, 0, done);  move.obj(a.valanice, 74, 150, 0, done);  stop.motion(ego);  stop.cycling(ego);  reset(keep.cycling);  program.control();  print("Congratulations, King Graham! You have won the hand of beautiful "        "Valanice. May you two live happily ever after!");  }program.control();if (!isset(f34))  {  set.loop(ego, 1);  move.obj(ego, 80, 90, 0, done);  }if (isset(f31))  {  reset(f31);  timer.1 = 175;  stop.cycling(a.valanice);  }if (timer.1 == 50)  {  print("The monk declares you man and wife.");  }--timer.1;if (timer.1 == 1)  {  set.loop(ego, 0);  set.loop(a.valanice, 0);  move.obj(a.valanice, 74, 166, 0, going.home);  move.obj(ego, 80, 166, 0, done);  start.cycling(a.valanice);  set(f34);  }--timer.2;if (timer.2 == 1)  {  end.of.loop(a.monk, done);  move.obj(a.valanice, 74, 90, 0, f31);  start.cycling(a.valanice);  }get.posn(ego, work.2, work.3);if (work.3 == 100)  {  draw(a.fairy);  }if (work.3 > 99 && fairy.sound.done)  {  sound(Sound33, fairy.sound.done);  }if (going.home)  {  new.room(rm.credits); [ ##LE001##  }return();[ Messages#message 1 "The monk declares you man and wife."#message 2 "Congratulations, King Graham! You have won the hand of beautiful Valanice. May you two live happily ever after!"