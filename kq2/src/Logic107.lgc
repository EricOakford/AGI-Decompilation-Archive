if (isset(newRoom))
  {  prevent.input();  set(f33);  v59 = 75;  load.sound(Sound1);  load.sound(Sound33);  load.view(View75);  load.view(View105);  load.view(View106);  load.view(View180);  load.view(View181);  load.view(View182);  load.view(View183);  load.view(View184);  load.view(View185);  load.view(View186);  load.view(View117);  animate.obj(o2);  animate.obj(o3);  animate.obj(o4);  stop.cycling(o3);  stop.cycling(o2);  ignore.objs(ego);  ignore.objs(o2);  release.priority(ego);  set.view(o4, View117);  set.view(o3, View75);  set.view(o2, View106);  set.view(ego, View105);  work = 2;  cycle.time(ego, work);  position(o2, 74, 150);  position(ego, 80, 90);  position(o3, 72, 79);  position(o4, 67, 125);  set.priority(o4, 15);  work = 71;  load.pic(work);  draw.pic(work);  discard.pic(work);  sound(Sound1, f169);  add.to.pic(View180, 0, 0, 95, 95, 10, 0);  add.to.pic(View181, 0, 0, 39, 107, 11, 0);  add.to.pic(View186, 0, 0, 26, 119, 12, 0);  add.to.pic(View184, 0, 0, 102, 119, 13, 0);  add.to.pic(View183, 0, 0, 26, 131, 15, 0);  add.to.pic(View185, 0, 0, 37, 95, 13, 0);  add.to.pic(View182, 0, 0, 106, 107, 11, 0);  set.loop(ego, 1);  set.loop(o2, 1);  set.loop(o4, 0);  draw(ego);  draw(o2);  draw(o3);  show.pic();  move.obj(o2, 72, 79, 0, f169);  move.obj(o2, 74, 150, 0, f169);  stop.motion(ego);  stop.cycling(ego);  reset(keep.cycling);  program.control();  print("Congratulations, King Graham! You have won the hand of beautiful "        "Valanice. May you two live happily ever after!");  }program.control();if (!isset(f34))
  {  set.loop(ego, 1);  move.obj(ego, 80, 90, 0, f169);  }if (isset(f31))
  {  reset(f31);  v58 = 175;  stop.cycling(o2);  }if (v58 == 50)
  {  print("The monk declares you man and wife.");  }--v58;if (v58 == 1)
  {  set.loop(ego, 0);  set.loop(o2, 0);  move.obj(o2, 74, 166, 0, f32);  move.obj(ego, 80, 166, 0, f169);  start.cycling(o2);  set(f34);  }--v59;if (v59 == 1)
  {  end.of.loop(o3, f169);  move.obj(o2, 74, 90, 0, f31);  start.cycling(o2);  }get.posn(ego, v105, v106);if (v106 == 100)
  {  draw(o4);  }if (v106 > 99 &&     isset(f33))
  {  sound(Sound33, f33);  }if (isset(f32))
  {  new.room(Logic106);  }return();[ Messages#message 1 "The monk declares you man and wife."#message 2 "Congratulations, King Graham! You have won the hand of beautiful Valanice. May you two live happily ever after!"