#define a.dwarf o2#define dwarf.leaves    f37#define catch.ego   f38#define dwarf.will.come f40#define stole.something f41#define chasing.ego f42#define is.dwarf.room f231if (!is.dwarf.room && newRoom)  {  set(is.dwarf.room);  reset(dwarf.in.room);  random(0, 255, work);  if ((work < 80 || work.f))    {    set(dwarf.will.come);    load.view(View28);    load.view(View115);    load.sound(m.badguy);    animate.obj(a.dwarf);    set.view(a.dwarf, View28);    work = 3;    step.size(a.dwarf, work);    if (currentRoom == 41)      {      position(a.dwarf, 35, 45);      }    if (currentRoom == 46)      {      position(a.dwarf, 32, 56);      }    if (currentRoom == 47)      {      position(a.dwarf, 67, 95);      }    if (currentRoom == 39)      {      position(a.dwarf, 44, 79);      }    if (currentRoom == 40)      {      position(a.dwarf, 22, 89);      }    random(40, 255, timer.1);    random(0, 2, timer.2);    }  return();  }if (!dwarf.in.room && dwarf.will.come)  {  --timer.1;  if (timer.1 == 1)    {    --timer.2;    if (timer.2 == 0)      {      set(dwarf.in.room);      follow.ego(a.dwarf, 5, catch.ego);      set(chasing.ego);      sound(m.badguy, done);      print("You have come upon a quick little dwarf! Dwarves have a bad "            "reputation for stealing treasure.");   [ that's racist      draw(a.dwarf);      }    else      {      timer.1 = 250;      }    }  }if (!dwarf.in.room)  {  goto(notHere);  }if (!haveInput)  {  goto(Label1);  }if (said("check out", "count dracula"))  {  print("The dwarf is a very small fellow. For being so little, he is very "        "fast.");  }if ((said("acquire", "count dracula") ||     said("capture", "count dracula")))  {  print("The dwarf is too fast on his feet. You could never catch him.");  }if (said("speak", "count dracula"))  {  print("The dwarf doesn't have time to chat with you. He's too busy running "        "around; possibly with your treasure.");  }if ((said("hello", "anyword") ||     said("say", "hello")))  {  print("The dwarf doesn't have time to chat with you. He's too busy running "        "around; possibly with your treasure.");  }if (said("kill", "count dracula"))  {  print("The dwarf is too fast on his feet. You could never catch him.");  }Label1:goto(Label3);notHere:if (said("anyword", "count dracula"))  {  print("He's not here.");  }Label3:if ((egoHidden || ego.flying))  {  if (chasing.ego)    {    wander(a.dwarf);    reset(chasing.ego);    }  }else  {  if (!chasing.ego)    {    follow.ego(a.dwarf, 5, catch.ego);    set(chasing.ego);    }  }if (catch.ego)  {  set.view(a.dwarf, View115);  reset(dwarf.leaves);  end.of.loop(a.dwarf, dwarf.leaves);  reset(catch.ego);  if (fairy.spell.timer == 0 &&       fairy.spell.timer.2 == 0)    {    set(stole.something);    print("Oh, no! The dwarf caught you. You should check to see if he stole "          "anything....!");    }  else    {    print("The dwarf seems to have left you alone, thanks to your protective "          "spell!");    }  }if (dwarf.leaves)  {  erase(a.dwarf);  reset(dwarf.leaves);  reset(dwarf.in.room);  reset(dwarf.will.come);  }if (!stole.something)  {  goto(exit);  }if (has("Necklace"))  {  currentScore -= 7;  drop("Necklace");  set(dwarf.stole.necklace);  }else  {  if (has("Bracelet"))    {    currentScore -= 7;    drop("Bracelet");    set(dwarf.stole.bracelet);    }  else    {    if (has("Earrings"))      {      currentScore -= 7;      drop("Earrings");      set(dwarf.stole.earrings);      }    else      {      if (has("Tiara"))        {        currentScore -= 7;        drop("Tiara");        set(dwarf.stole.tiara);        }      else        {        if (has("Brooch"))          {          currentScore -= 7;          drop("Brooch");          set(dwarf.stole.brooch);          }        else          {          }        }      }    }  }reset(stole.something);exit:return();[ Messages#message 1 "You have come upon a quick little dwarf! Dwarves have a bad reputation for stealing treasure."#message 2 "The dwarf is a very small fellow. For being so little, he is very fast."#message 3 "The dwarf is too fast on his feet. You could never catch him."#message 4 "The dwarf doesn't have time to chat with you. He's too busy running around; possibly with your treasure."#message 5 "He's not here."#message 6 "The dwarf seems to have left you alone, thanks to your protective spell!"#message 7 "Oh, no! The dwarf caught you. You should check to see if he stole anything....!"