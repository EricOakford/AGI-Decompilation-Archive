#define a.hag  o2#define a.cauldron  o3#define a.cage  o4#define a.bird  o5#define death.timer v36#define hag.is.here f31#define catch.ego   f32#define ego.in.cauldron f36if (newRoom)  {  reset(hag.in.room);  load.view(View115);  load.view(View63);  load.view(View67);  load.view(View68);  load.view(View69);  load.view(View70);  load.view(View26);  load.view(View25);  load.view(View164);  load.view(View64);  load.sound(Sound22);  load.pic(currentRoom);  draw.pic(currentRoom);  animate.obj(a.hag);  work = 3;  cycle.time(a.hag, work);  step.size(a.hag, work);  animate.obj(a.cauldron);  start.cycling(a.cauldron);  work = 2;  cycle.time(a.cauldron, work);  animate.obj(a.cage);  if (previousRoom == 44)    {    position(ego, 1, 119);    }  if (isset(ego.in.hag.brew))    {    program.control();    set.view(a.hag, View115);    position(a.hag, 80, 115);    reverse.loop(a.hag, ego.in.cauldron);    draw(a.hag);    position(a.cauldron, 80, 120);    work = 2;    cycle.time(a.cauldron, work);    set.view(a.cauldron, View69);    draw(a.cauldron);    }  else    {    random(0, 255, timer.3);    if ((timer.3 > 205 ||         hag.in.room ||         fairy.spell.timer.2 > 0))      {      set.view(a.cauldron, View69);      position(a.cauldron, 80, 120);      draw(a.cauldron);      reset(hag.is.here);      reset(hag.in.room);      }    else      {      set(hag.is.here);      stop.motion(a.hag);      work = 2;      cycle.time(a.hag, work);      set.view(a.hag, View68);      position(a.hag, 80, 120);      draw(a.hag);      }    draw(ego);    }  position(a.cage, 100, 100);  if (!took.cage)    {    if (bird.state == 2)      {      set.view(a.cage, View70);      }    else      {      if (bird.released)        {        set.view(a.cage, View164);        }      else        {        work = 2;        cycle.time(a.cage, work);        set.view(a.cage, View63);        }      }    draw(a.cage);    }  show.pic();  }if (v33 == 1)  {  get.posn(a.bird, work.2, work.3);  if (work.2 < 53)    {    set.priority(a.bird, 10);    v33 = 2;    }  }if (!haveInput)  {  goto(Label1);  }if (!hag.is.here &&     said("anyword", "bitch"))  {  print("She's not here.");  }else  {  if ((said("kiss", "bitch") ||       said("embrace", "bitch")))    {    print("Smack, hug, woopie!, yuck, barf, gag.");    }  if ((said("check out", "cauldron") ||       said("look in", "cauldron") ||       said("check out", "cauldron") ||       said("look in", "cauldron")))    {    print("The iron cauldron is bubbling with a nasty smelling brew. A hot fire "          "burns underneath.");    }  if (said("check out", "brew"))    {    print("The brew in the iron cauldron is a sickly yellow color. Hot steam "          "rises from it. The odor is almost unbearable. You believe it to be a "          "broth made from human flesh and bone.");    }  if ((said("drink", "brew") ||       said("consume", "brew") ||       said("smell", "brew")))    {    print("Yuck!!! Don't do that!");    }  if (said("check out", "skull"))    {    print("There are many human skulls in Hagatha's cave. She has a taste for "          "human flesh.");    }  if (v33 > 0 &&       said("check out", "bird"))    {    print("The nightingale is flying toward the cave entrance.");    }  else    {    if (!took.cage &&         (said("check out", "bird") ||         said("check out", "bird cage")))      {      if (bird.released)        {        print("It's just an empty birdcage.");        }      else        {        print("The beautiful nightingale is in a gilded cage.");        }      }    }  if ((said("check out", "area") ||       said("look in", "area") ||       said("check out", "area") ||       said("check out")))    {    if (hag.is.here)      {      if (took.cage)        {        print("You look around this dreary cave. Fear grips you as you notice "              "human skulls lining the wall. Hagatha is busily stirring her "              "brew and muttering to herself. As she has very bad eyesight, she "              "hasn't noticed you.");        }      else        {        if (bird.released)          {          print("You look around this dreary cave. Fear grips you as you notice "                "human skulls lining the wall. Hagatha is busily stirring her "                "brew and muttering to herself. As she has very bad eyesight, "                "she hasn't noticed you. You see a gilded cage.");          }        else          {          print("You look around this dreary cave. Fear grips you as you notice "                "human skulls lining the wall. Hagatha is busily stirring her "                "brew and muttering to herself. As she has very bad eyesight, "                "she hasn't noticed you. You see a nightingale in a gilded "                "cage.");          }        }      }    else      {      if (took.cage)        {        print("You look around this dreary cave. Fear grips you as you notice "              "human skulls lining the wall. A cauldron with a bubbling brew "              "fills the cave with a putrid odor.");        }      else        {        if (bird.released)          {          print("You look around this dreary cave. Fear grips you as you notice "                "human skulls lining the wall. A cauldron with a bubbling brew "                "fills the cave with a putrid aroma. You see a gilded cage.");          }        else          {          print("You look around this dreary cave. Fear grips you as you notice "                "human skulls lining the wall. A cauldron with a bubbling brew "                "fills the cave with a putrid aroma. You see a nightingale in a "                "gilded cage.");          }        }      }    }  if (bird.state != 2 &&       !took.cage && !bird.released &&       said("listen", "bird"))    {    print("The nightingale flits about in the gilded cage; not making a sound.");    }  if (said("check out", "bitch"))    {    print("This is the ugliest old lady you have ever seen. She's toothless, "          "with warts all over her face, and she has matted gray hair. She "          "stirs her brew with a stick held by clawlike hands.");    }  if ((isset(ego.in.hag.brew) ||       isset(catch.ego)))    {    goto(Label1);    }  if (v34 <= 0 &&       has("Caged Nightingale") &&       hag.is.here &&       bird.state != 2 &&       (said("check out", "bird") ||       said("check out", "bird cage")))    {    print("Unfortunately, this alerts the hag to your presence.");    v34 = 1;    }  if (!took.cage &&       (said("acquire", "bird") ||       said("acquire", "bird cage")))    {    distance(ego, a.cage, work);    if (work > 20)      {      print("You'll have to go closer!");      }    else      {      set(took.cage);      erase(a.cage);      if (isset(bird.released))        {        get("Empty Birdcage");        print("You take the cage.");        }      else        {        currentScore  += 2;        get("Caged Nightingale");        if (bird.state == 2)          {          print("Quietly, you pick up the covered birdcage with the "                "nightingale. To your relief, the bird remains silent.");          }        else          {          sound(Sound22, done);          if (v34 <= 0 &&               hag.is.here)            {            v34 = 1;            print("You quietly pick up the birdcage with the nightingale. "                  "Suddenly, the nightingale bursts out in song, alerting the "                  "old hag to your presence.");            }          else            {            print("You pick up the gilded birdcage with the nightingale in it. "                  "The little bird starts singing prettily. A moment later it "                  "stops.");            }          }        }      }    }  if (v34 <= 0 &&       (said("speak", "bitch") ||       said("hello", "anyword") ||       said("say", "hello")))    {    print("What a mistake you made!! You gave yourself away! Now Hagatha knows "          "you are here.");    v34 = 1;    }  if ((said("acquire", "bitch") ||       said("capture", "bitch")))    {    print("What would you do with her if you had her?");    }  if ((said("kill", "bitch") ||       said("move", "bitch", "cauldron")))    {    print("The old hag is stronger than she looks. You shouldn't try it.");    }  if ((said("cover", "bird") ||       said("cover", "bird cage") ||       said("cover", "bird cage", "cloth") ||       said("drop", "black cape", "bird cage") ||       said("drop", "cloth", "bird cage")))    {    if (took.cage)      {      print("There is no need for you to do that now.");      }    else      {      distance(ego, a.cage, work);      if (work > 20 &&           (has("Black Cloak") ||           has("Cloth")))        {        print("You'll have to go closer!");        goto(Label1);        }      if (has("Black Cloak") &&           (!has("Cloth") ||           said("cover", "anyword", "black cape") ||           said("drop", "black cape")))        {        print("You try using the black cloak to cover the birdcage, but it is "              "the wrong shape. It slips off.");        }      else        {        if (has("Cloth"))          {          if (bird.released)            {            print("OK.");            }          else            {            print("You drape the cloth over the birdcage. Hopefully, this will "                  "keep the nightingale quiet.");            if (bird.state == 0)              {              currentScore  += 2;              }            }          drop("Cloth");          set.view(a.cage, View70);          bird.state = 2;          }        else          {          print("You have nothing to cover a birdcage with.");          }        }      }    }  if (bird.state == 2 &&       (said("remove", "cloth") ||       said("acquire", "cloth")))    {    get("Cloth");    bird.state = 1;    if (bird.released)      {      print("OK.");      set.view(a.cage, View164);      }    else      {      work = 2;      cycle.time(a.cage, work);      set.view(a.cage, View63);      sound(Sound22, done);      if (hag.is.here)        {        print("Without thinking, you remove the cloth from the birdcage. "              "Immediately, the nightingale sings, alerting Hagatha to your "              "presence.");        v34 = 1;        }      }    }  if (!took.cage && !bird.released &&       (said("open", "bird cage") ||       said("let", "bird", "a")))    {    distance(ego, a.cage, work);    if (work > 25)      {      print("You'll have to go closer!");      }    else      {      set.view(a.cage, View164);      print("Oh, no! When you opened the cage, the bird flew away.");      set(bird.released);      v33 = 1;      animate.obj(a.bird);      position(a.bird, 95, 100);      work = 2;      cycle.time(a.cage, work);      work = 3;      step.size(a.cage, work);      set.view(a.bird, View64);      ignore.blocks(a.bird);      ignore.objs(a.bird);      draw(a.bird);      move.obj(a.bird, 0, 80, 0, f37);      }    }  if (said("acquire", "brew"))    {    print("You wouldn't want any of Hagatha's brew.");    }  if (said("acquire", "skull"))    {    print("Yechhh!!! What a terrible thought!");    }  }Label1:if (isset(f37))  {  reset(f37);  v33 = 0;  erase(a.bird);  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic44); [ ##LE001##  }if (v34 == 1)  {  ++v34;  erase(a.hag);  set.view(a.cauldron, View69);  set.view(a.hag, View26);  position(a.cauldron, 80, 120);  position(a.hag, 80, 115);  draw(a.hag);  draw(a.cauldron);  follow.ego(a.hag, 5, catch.ego);  }if (catch.ego)  {  reset(catch.ego);  print("She grabs you and throws you into her cauldron. She will love to have "        "you for dinner. heh, heh, heh!");  erase(ego);  set.view(a.hag, View25);  timer.1 = 20;  set(f34);  }if (isset(f34))  {  if (timer.1 == 1)    {    set.view(a.hag, View115);    set.cel(a.hag, 0);    end.of.loop(a.hag, f35);    reset(f34);    }  --timer.1;  }if (isset(f35))  {  reset(f35);  temp.x = 80;  temp.y = 115;  get.posn(a.hag, work.2, work.3);  temp.x -= work.2;  temp.y -= work.3;  reposition(a.hag, temp.x, temp.y);  reverse.loop(a.hag, ego.in.cauldron);  }if (ego.in.cauldron)  {  reset(ego.in.cauldron);  set.view(a.hag, View25);  start.cycling(a.hag);  timer.2 = 15;  }--timer.2;if (timer.2 == 1)  {  stop.motion(ego);  erase(a.hag);  erase(a.cauldron);  position(ego, 80, 120);  work = 2;  cycle.time(ego, work);  set.view(ego, View67);  draw(ego);  set(keep.cycling);  death.timer = 30;  }--death.timer;if (death.timer == 2)  {  set(certain.death);  }return();[ Messages#message 1 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. Hagatha is busily stirring her brew and muttering to herself. As she has very bad eyesight, she hasn't noticed you."#message 2 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. Hagatha is busily stirring her brew and muttering to herself. As she has very bad eyesight, she hasn't noticed you. You see a nightingale in a gilded cage."#message 3 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. A cauldron with a bubbling brew fills the cave with a putrid aroma. You see a nightingale in a gilded cage."#message 4 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. A cauldron with a bubbling brew fills the cave with a putrid odor."#message 5 "You quietly pick up the birdcage with the nightingale. Suddenly, the nightingale bursts out in song, alerting the old hag to your presence."#message 6 "Quietly, you pick up the covered birdcage with the nightingale. To your relief, the bird remains silent."#message 7 "This is the ugliest old lady you have ever seen. She's toothless, with warts all over her face, and she has matted gray hair. She stirs her brew with a stick held by clawlike hands."#message 8 "What a mistake you made!! You gave yourself away! Now Hagatha knows you are here."#message 9 "She's not here."#message 10 "What would you do with her if you had her?"#message 11 "Smack, hug, woopie!, yuck, barf, gag."#message 12 "There is no need for you to do that now."#message 13 "You try using the black cloak to cover the birdcage, but it is the wrong shape. It slips off."#message 14 "You drape the cloth over the birdcage. Hopefully, this will keep the nightingale quiet."#message 15 "You have nothing to cover a birdcage with."#message 16 "You pick up the gilded birdcage with the nightingale in it. The little bird starts singing prettily. A moment later it stops."#message 17 "Without thinking, you remove the cloth from the birdcage. Immediately, the nightingale sings, alerting Hagatha to your presence."#message 18 "The iron cauldron is bubbling with a nasty smelling brew. A hot fire burns underneath."#message 19 "The brew in the iron cauldron is a sickly yellow color. Hot steam rises from it. The odor is almost unbearable. You believe it to be a broth made from human flesh and bone."#message 20 "You wouldn't want any of Hagatha's brew."#message 21 "Yuck!!! Don't do that!"#message 22 "There are many human skulls in Hagatha's cave. She has a taste for human flesh."#message 23 "You'll have to go closer!"#message 24 "The beautiful nightingale is in a gilded cage."#message 25 "Oh, no! When you opened the cage, the bird flew away."#message 26 "It's just an empty birdcage."#message 27 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. Hagatha is busily stirring her brew and muttering to herself. As she has very bad eyesight, she hasn't noticed you. You see a gilded cage."#message 28 "You look around this dreary cave. Fear grips you as you notice human skulls lining the wall. A cauldron with a bubbling brew fills the cave with a putrid aroma. You see a gilded cage."#message 29 "You take the cage."#message 30 "OK."#message 31 "Unfortunately, this alerts the hag to your presence."#message 32 "The old hag is stronger than she looks. You shouldn't try it."#message 33 "Yechhh!!! What a terrible thought!"#message 34 "The nightingale is flying toward the cave entrance."#message 37 "She grabs you and throws you into her cauldron. She will love to have you for dinner. heh, heh, heh!"#message 38 "The nightingale flits about in the gilded cage; not making a sound."