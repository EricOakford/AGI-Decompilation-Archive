#define a.bell  o3#define bell.cel    v30#define bell.sound.done f32if (newRoom)  {  load.pic(currentRoom);  load.sound(Sound30);  load.view(View119);  if ((has("Oil Lamp") ||       has("Carpet")))    {    load.view(View65);    load.view(View98);    }  load.logics(lgc.trees);  load.logics(lgc.fairy);  call(lgc.fairy);  draw.pic(currentRoom);  animate.obj(a.bell);  set.view(a.bell, View119);  position(a.bell, 94, 62);  set.priority(a.bell, 14);  work = 4;  cycle.time(a.bell, work);  draw(a.bell);  if (previousRoom == 4)    {    get.posn(ego, work.2, work.3);    if (work.3 > 130 &&         work.3 < 155)      {      work.3 = 155;      position.v(ego, work.2, work.3);      }    }  ignore.objs(ego);  draw(ego);  show.pic();  }current.cel(a.bell, bell.cel);if (bell.cel == 8)  {  if (!bell.stopped)    {    sound(Sound30, bell.sound.done);    }  }if (!haveInput)  {  goto(exit);  }if (said("anyword", "door") &&     !said("enter", "door"))  {  print("There is no door around here.");  }if ((said("check out", "antique shop") ||     said("check out")))  {  print("This is an old monastery. The monks living here often help travelers "        "in need.");  }if ((said("check out", "window") ||     said("look in", "window")))  {  if ((posn(ego, 65, 140, 80, 160) ||       posn(ego, 97, 140, 112, 160) ||       posn(ego, 130, 140, 152, 160)))    {    print("You can see inside when you look in the window. It is hard to see "          "details, though.");    }  else    {    print("You are too far away to see in the window.");    }  }if (said("break", "window"))  {  print("There is no need to do that. The door is unlocked.");  }if (said("check out", "bell"))  {  print("The bell atop the monastery is ringing merrily.");  }if (said("acquire", "bell"))  {  print("You cannot take the bell.");  }exit:if (edgeEgoHit == TOP_EDGE)  {  new.room(Logic47); [ ##LE001##  }if (edgeEgoHit == RIGHT_EDGE)  {  new.room(Logic6); [ ##LE002##  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic4); [ ##LE003##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic12); [ ##LE004##  }call(lgc.trees);call(lgc.fairy);return();[ Messages#message 1 "There is no door around here."#message 2 "This is an old monastery. The monks living here often help travelers in need."#message 3 "You can see inside when you look in the window. It is hard to see details, though."#message 4 "There is no need to do that. The door is unlocked."#message 5 "You are too far away to see in the window."#message 6 "The bell atop the monastery is ringing merrily."#message 7 "You cannot take the bell."