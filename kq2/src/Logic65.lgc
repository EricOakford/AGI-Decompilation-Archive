#define ego.pri     v32#define dark.pic    v33if (newRoom)  {  load.logics(lgc.dracula);  load.sound(Sound29);  load.view(View0);  load.view(View8);  load.view(View99);  load.view(View100);  load.pic(currentRoom);  dark.pic = 94;  load.pic(dark.pic);  draw.pic(currentRoom);  call(lgc.dracula);  if (previousRoom == 64)    {    position(ego, 26, 61);    }  else    {    position(ego, 136, 167);    }  if (candle.lit)    {    v30 = 1;    reset(dark.basement);    }  else    {    v30 = 0;    if (previousRoom == 66)      {      set(dark.basement);      set.view(ego, View99);      }    else      {      set.view(ego, View0);      reset(dark.basement);      }    draw.pic(dark.pic);    }  draw(ego);  show.pic();  }if (isset(f35) &&     !isset(f37) &&     !candle.lit &&     posn(ego, 50, 107, 159, 167))  {  set.view(ego, View100);  set(f37);  }if (isset(egoHitSpecial) &&     !isset(f35))  {  if (egoDir > STOPPED &&       egoDir < DOWN_RIGHT)    {    get.priority(ego, ego.pri);    --ego.pri;    set.priority.v(ego, ego.pri);    }  set(lf8);  set(f35);  get.posn(ego, work.2, work.3);  work.3 = 167;  if (!isset(dark.basement))    {    set.view(ego, View8);    work = 2;    cycle.time(ego, work);    work = 3;    step.size(ego, work);    }  else    {    set.view(ego, View100);    set(f37);    }  move.obj.v(ego, work.2, work.3, v82, f34);  set(keep.cycling);  }if (isset(f35) &&     isset(lf8))  {  reset(lf8);  sound(Sound29, f36);  }if (isset(f34))  {  if (work.2 > 64 &&       work.2 < 115 &&       candle.lit)    {    v60 = 0;    new.room(Logic66); [ ##LE001##    }  else    {    stop.sound();    stop.motion(ego);    erase(ego);    if (dark.basement)      {      print("Whoops! You slipped and fell down the narrow stairs in the "            "darkness. What a way to die! Next time, use a light.");      }    else      {      print("You slip from the narrow stairs and fall to your death on the "            "rocks below.");      }    set(certain.death);    }  }if (!candle.lit)  {  if (v30 == 1)    {    stop.sound();    v30 = 2;    draw.pic(dark.pic);    show.pic();    }  get.posn(ego, work.2, work.3);  if (!isset(f35))    {    if (work.2 < 71 &&         dark.basement)      {      set.view(ego, View0);      work = 1;      cycle.time(ego, work);      step.size(ego, work);      reset(dark.basement);      }    if (work.2 > 70 &&         !isset(dark.basement))      {      set.view(ego, View99);      work = 1;      cycle.time(ego, work);      step.size(ego, work);      set(dark.basement);      goto(Label1);      }    }  else    {    if (v30 == 2)      {      if (work.2 < 71)        {        set.view(ego, View8);        work = 2;        cycle.time(ego, work);        work = 3;        step.size(ego, work);        }      else        {        set.view(ego, View100);        set(f37);        }      draw(ego);      v30 = 3;      }    }  }if (!dark.basement &&     (said("check out") ||     said("check out", "antique shop") ||     said("check out", "swim") ||     said("check out", "stairs")))  {  print("These stairs are narrow and slippery; both sides slope away "        "precipitously. A foul stench wafts up to you from the gloomy darkness "        "into which the stairs descend.");  }Label1:if (v30 == 2)  {  draw(ego);  v30 = 3;  }if (edgeEgoHit == LEFT_EDGE)  {  new.room(Logic64); [ ##LE002##  }if (edgeEgoHit == BOTTOM_EDGE)  {  new.room(Logic66); [ ##LE003##  }call(lgc.dracula);return();[ Messages#message 1 "You slip from the narrow stairs and fall to your death on the rocks below."#message 2 "These stairs are narrow and slippery; both sides slope away precipitously. A foul stench wafts up to you from the gloomy darkness into which the stairs descend."#message 3 "Whoops! You slipped and fell down the narrow stairs in the darkness. What a way to die! Next time, use a light."