#define a.enchanter o4#define death.delay v240#define rand.val    v241#define cast.spell  f231#define catch.ego   f232#define turn.into.frog  f233#define enchanter.will.come f234#define enchanter.sound f235#define chasing.ego f236#define enchanter.leaves    f237#define is.enchanter.room   f238if (!is.enchanter.room && newRoom)  {  set(is.enchanter.room);  reset(enchanter.in.room);  random(0, 255, rand.val);  if (rand.val < 100)    {    set(enchanter.will.come);    random(40, 255, timer.1);    random(1, 3, timer.2);    load.view(View115);    load.view(View18);    load.view(View112);    load.view(View95);    load.view(View19);    load.sound(Sound27);    work = 2;    step.size(a.enchanter, work);    animate.obj(a.enchanter);    set.view(a.enchanter, View18);    object.on.land(a.enchanter);    if (currentRoom == 19)      {      position(a.enchanter, 140, 80);      }    if (currentRoom == 20)      {      position(a.enchanter, 33, 63);      }    if (currentRoom == 21)      {      position(a.enchanter, 80, 126);      }    if (currentRoom == 26)      {      position(a.enchanter, 102, 85);      }    if (currentRoom == 27)      {      position(a.enchanter, 84, 126);      }    if (currentRoom == 28)      {      position(a.enchanter, 72, 143);      }    }  return();  }if (!enchanter.in.room && enchanter.will.come)  {  --timer.1;  if (timer.1 == 1)    {    --timer.2;    if (timer.2 == 0 &&         genie.delay != 1)      {      set(enchanter.in.room);      draw(a.enchanter);      follow.ego(a.enchanter, 5, catch.ego);      set(chasing.ego);      sound(m.badguy, done);      if (fairy.spell.timer == 0 &&           fairy.spell.timer.2 == 0)        {        print("You have run into an evil enchanter! Get out of there fast, "              "before he turns you into something!");        }      else        {        print("You have run into an evil enchanter! Let's hope the fairy's "              "spell works!");        }      }    else      {      timer.1 = 250;      }    }  }if (!enchanter.in.room)  {  goto(hesNotHere);  }if (!haveInput)  {  goto(Label1);  }if (said("check out", "count dracula"))  {  print("The enchanter is tall and stately with a black flowing robe and a long "        "white beard. He has an evil gleam in his piercing black eyes.");  }if (said("acquire", "count dracula"))  {  print("The evil enchanter is magic! There is nothing you can do!");  }if (said("capture", "bitch"))  {  print("The evil enchanter is magic! There is nothing you can do!");  }if (said("speak", "count dracula"))  {  print("Stopping to talk to the wicked enchanter could be big trouble!");  }if ((said("hello", "anyword") ||     said("say", "hello")))  {  print("Stopping to talk to the wicked enchanter could be big trouble!");  }if (said("kill", "count dracula"))  {  print("The evil enchanter is magic! There is nothing you can do!");  }Label1:if (currentRoom == 20)  {  if (posn(ego, 72, 107, 114, 145))    {    set(egoHidden);    }  if (posn(a.enchanter, 72, 132, 86, 144))    {    if (!isset(chasing.ego))      {      get.posn(a.enchanter, work.2, work.3);      temp.x -= work.2;      temp.y -= work.3;      reposition(a.enchanter, temp.x, temp.y);      }    }  else    {    get.posn(a.enchanter, temp.x, temp.y);    }  }if ((egoHidden || ego.flying))  {  if (chasing.ego)    {    wander(a.enchanter);    reset(chasing.ego);    }  }else  {  if (!chasing.ego)    {    follow.ego(a.enchanter, 5, catch.ego);    set(chasing.ego);    }  }if (catch.ego && genie.delay == 0)  {  reset(catch.ego);  if (fairy.spell.timer == 0 &&       fairy.spell.timer.2 == 0)    {    reset(is.carpet.room);    set(ego.is.frog);    program.control();    stop.motion(ego);    start.motion(ego);    work = 3;    step.time(a.enchanter, work);    set.view(a.enchanter, View112);    set.cel(a.enchanter, 0);    end.of.loop(a.enchanter, cast.spell);    get.priority(a.enchanter, work);    work  += 1;    set.priority.v(ego, work);    }  else    {    set.view(a.enchanter, View115);    end.of.loop(a.enchanter, enchanter.leaves);    }  }if (enchanter.leaves)  {  reset(enchanter.leaves);  erase(a.enchanter);  reset(enchanter.will.come);  reset(enchanter.in.room);  }if (cast.spell)  {  reset(cast.spell);  set(keep.cycling);  if (currentRoom == 20)    {    ignore.blocks(ego);    if (posn(ego, 69, 36, 159, 106))      {      set.priority(a.enchanter, 9);      }    }  set.view(ego, View95);  end.of.loop(ego, turn.into.frog);  }if (turn.into.frog)  {  reset(turn.into.frog);  set.view(a.enchanter, View19);  erase(ego);  wander(a.enchanter);  if (posn(ego, 69, 36, 159, 106))    {    release.priority(a.enchanter);    }  v96 = 3;  start.cycling(a.enchanter);  set(enchanter.sound);  death.delay = 100;  print("Poooooof!!! The evil enchanter has turned you into a cute little "        "froggy. Ribbit, ribbit!");  }--death.delay;if (death.delay == 1)  {  set(certain.death);  }if (enchanter.sound)  {  reset(enchanter.sound);  sound(Sound27, enchanter.sound);  }goto(exit);hesNotHere:if (said("anyword", "count dracula"))  {  print("He's not here.");  }exit:return();[ Messages#message 1 "You have run into an evil enchanter! Get out of there fast, before he turns you into something!"#message 2 "The enchanter is tall and stately with a black flowing robe and a long white beard. He has an evil gleam in his piercing black eyes."#message 3 "The evil enchanter is magic! There is nothing you can do!"#message 4 "Stopping to talk to the wicked enchanter could be big trouble!"#message 5 "Poooooof!!! The evil enchanter has turned you into a cute little froggy. Ribbit, ribbit!"#message 6 "He's not here."#message 7 "You have run into an evil enchanter! Let's hope the fairy's spell works!"