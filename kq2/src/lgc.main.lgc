if (gameRestarted)  {  set(enableMenu);  disable.item(c.dummy);  if (monitorType == MONO &&       machineType == PC)    {    goto(Label1);    }  clear.lines(22, 24, BLACK);  }Label1:if ((gameRestored || gameRestarted))  {  disable.item(c.dummy);  }if (errorNumber > 0)  {  call(lgc.error);  quit(1);  }  old.ego.x = ego.x;old.ego.y = ego.y;get.posn(ego, ego.x, ego.y);if (certain.death)  {  reset(certain.death);  set(ego.dead);  disable.item(c.save);  disable.item(c.pause);  disable.item(c.sound.toggle);  disable.item(c.show.obj);  disable.item(c.swim);  disable.item(c.init.joy);  disable.item(c.toggle.monitor);  disable.item(c.speed.normal);  disable.item(c.speed.fast);  disable.item(c.speed.fastest);  disable.item(c.speed.slow);  load.logics(lgc.death);  }if (!currentRoom)  {  call(lgc.startup);  currentEgoView = 0;  script.size(60);  if (gameRestarted)    {    set(enableMenu);    disable.item(c.dummy);    new.room(Logic1);    }  else    {    set.menu("Sierra");    set.menu.item("About KQ2", c.about);    set.menu.item("Help     ", c.help);    set.menu("File");    set.menu.item("Save     <F5>", c.save);    set.menu.item("Restore  <F7>", c.restore);    set.menu.item("-------------", c.dummy);    set.menu.item("Restart  <F9>", c.restart);    set.menu.item("Quit  <Alt-Z>", c.quit);    set.menu("Action");    set.menu.item("Swim           =", c.swim);    set.menu.item("See Object  <F4>", c.show.obj);    set.menu.item("Inventory  <Tab>", c.status);    set.menu("Special");    set.menu.item("Sound On/Off  <F2>", c.sound.toggle);    if (machineType == PC &&         monitorType != EGA &&         monitorType != MONO)      {      set.menu.item("Color/BW  <Ctrl R>", c.toggle.monitor);      }    set.menu.item("Joystick  <Ctrl J>", c.init.joy);    set.menu.item("Pause        <Esc>", c.pause);    if (machineType != AMIGA)      {      set.menu("Speed");      set.menu.item("Normal ", c.speed.normal);      set.menu.item("Slow   ", c.speed.slow);      set.menu.item("Fast   ", c.speed.fast);      set.menu.item("Fastest", c.speed.fastest);      }    submit.menu();    disable.item(c.dummy);    new.room(rm.title);    }  }if (newRoom)  {  reset(f149);  observe.objs(ego);  stop.sound();  genie.delay = 0;  reset(f130);  reset(f115);  reset(f64);  reset(dwarf.in.room);  reset(enchanter.in.room);  reset(hag.in.room);  clear.work = 30;Label2:  *clear.work = 0;  reset.v(clear.work);  if (clear.work < 49)    {    ++clear.work;    goto(Label2);    }  else    {    clear.work = 230;Label3:    *clear.work = 0;    reset.v(clear.work);    if (clear.work < 249)      {      ++clear.work;      goto(Label3);      }    }  v58 = 0;  v59 = 0;  v69 = 0;  v70 = 0;  v71 = 0;  v82 = 0;  work = 0;  reset(debugging);  set(is.carpet.room);  if ((currentRoom == 35 ||       currentRoom == 7 ||       currentRoom == 42 ||       currentRoom == 41 ||       currentRoom == 48 ||       currentRoom == 49 ||       currentRoom == 55 ||       currentRoom == 56 ||       currentRoom == 57))    {    load.sound(Sound29);    }  if ((currentRoom == 39 ||       currentRoom == 40 ||       currentRoom == 46 ||       currentRoom == 47 ||       currentRoom == 30 ||       currentRoom == 31 ||       currentRoom == 37 ||       currentRoom == 38 ||       currentRoom == 44 ||       currentRoom == 45 ||       currentRoom == 19 ||       currentRoom == 20 ||       currentRoom == 21 ||       currentRoom == 26 ||       currentRoom == 27 ||       currentRoom == 28))    {    load.sound(Sound5);    }  if (currentRoom < 60)    {    load.sound(Sound8);    }  if (debugging)    {    load.logics(lgc.debug);    }  animate.obj(ego);  load.view(View0);  load.view.v(currentEgoView);  set.view.v(ego, currentEgoView);  }if (said("tester"))  {  toggle(tester.on);  if (monitorType == MONO &&       machineType == PC)    {    goto(Label4);    }  clear.lines(22, 24, BLACK);  }Label4:if (tester.on)  {  get.posn(ego, v112, v113);  display(24, 16, "%v112,%v113    ");  }  if (ego.x == old.ego.x &&     ego.y == old.ego.y &&     egoDir == old.ego.dir)  {  stop.cycling(ego);  }else  {  start.cycling(ego);  }if (egoDir == STOPPED)  {  stop.cycling(ego);  }if (isset(keep.cycling))  {  start.cycling(ego);  }old.ego.dir = egoDir;if (!isset(f189) &&     currentRoom != 110 &&     currentRoom != 97)  {  if (controller(c.menu))    {    menu.input();    }  if ((said("rescue") ||       controller(c.save)))    {    stop.sound();    save.game();    }  if (!ego.dead)    {    if ((said("restore") ||         controller(c.restore)))      {      stop.sound();      restore.game();      }    if ((said("restart") ||         controller(c.restart)))      {      stop.sound();      restart.game();      }    if ((said("status") ||         controller(c.status)))      {      status();      }    if (controller(c.show.obj))      {      set(enableItemSelect);      status();      if (selectedItem > 0 &&           selectedItem != 255)        {        work = selectedItem;        work  += 151;        if (work == 229)          {          if (candle.lit)            {            show.obj(View229);            }          else            {            show.obj(View165);            }          }        else          {          show.obj.v(work);          }        }      reset(enableItemSelect);      }    if ((controller(c.help) ||         said("aid") ||         said("aid", "a")))      {      call(lgc.help);      }    }  if ((controller(c.pause) ||       said("pause")))    {    pause();    }  if (controller(c.about))    {    print("King's Quest ][ was designed by Roberta Williams.");    }  if (controller(c.echo.line))    {    echo.line();    }  if (controller(c.cancel.cline))    {    cancel.line();    }  if (controller(c.init.joy))    {    init.joy();    }  if (controller(c.toggle.monitor))    {    toggle.monitor();    }  if ((controller(c.quit) ||       said("quit")))    {    stop.sound();    if (debugging)      {      quit(1);      }    else      {      quit(0);      }    }  }if (controller(c.sound.toggle))  {  toggle(soundOn);  }if (controller(c.crescendo))  {  --attenuation;  }if (controller(c.decrescendo))  {  if (attenuation < 15)    {    ++attenuation;    }  }if ((said("fast", "speak") ||     controller(c.debug)))  {  print("%s4");  version();  if (!debugging)    {    load.logics(lgc.debug);    set(debugging);    }  }if ((said("fastest") ||     controller(c.speed.fastest)))  {  animationInterval = 0;  }if ((said("fast") ||     controller(c.speed.fast)))  {  animationInterval = 1;  }if ((said("normal") ||     controller(c.speed.normal)))  {  animationInterval = 2;  }if ((said("slow") ||     controller(c.speed.slow)))  {  animationInterval = 4;  }if (!ego.dead)  {  call.v(currentRoom);  }else  {  call(lgc.death);  }if (debugging)  {  call(lgc.debug);  }--fairy.spell.timer;if (fairy.spell.timer == 0 &&     fairy.spell.timer.2 == 1)  {  print("Beware! The fairy's spell has worn off.");  }if (fairy.spell.timer == 0 &&     fairy.spell.timer.2 > 0)  {  --fairy.spell.timer.2;  if (fairy.spell.timer.2 != 0)    {    fairy.spell.timer = 250;    }  }--sugar.cube.timer;if (sugar.cube.timer == 0)  {  --sugar.cube.timer.2;  if (sugar.cube.timer.2 == 1)    {    if (currentRoom < 97)      {      print("You feel a sudden tingling sensation. Could it be that the effects "            "of the sugar cube have worn off?");      }    }  else    {    if (sugar.cube.timer.2 != 0)      {      sugar.cube.timer = 250;      }    }  }if (isset(f131))  {  reset(keep.cycling);  reset(f131);  reset(f147);  observe.horizon(ego);  release.priority(ego);  set(f107);  new.room(rm.sky);  }--genie.delay;if (genie.delay == 1)  {  player.control();  set.view(ego, View0);  reposition.to.v(ego, v114, v115);  reset(keep.cycling);  if (currentRoom == 20)    {    observe.blocks(ego);    }  if (wish.count == 1)    {    print("When you rub the tarnished brass lamp, you hear a POOOOFF and a "          "genie appears! \"Master,\" he says, \"I leave a gift for you. A "          "magic carpet!\" The genie then poofs back into the lamp.");    }  if (wish.count == 2)    {    print("When you rub the lamp, you hear a loud POOOOFF and a genie magically "          "appears. \"Master,\" he says, \"I leave a gift for you. A beautiful "          "sword!\" The genie then disappears in a puff of smoke.");    }  if (wish.count == 3)    {    print("Using your sleeve as a cloth you rub the lamp, causing the genie to "          "appear again. \"Master,\" he says, \"I leave a gift for you. A "          "leather bridle!\" The genie then pops back into the lamp.");    print("Oh, no! The lamp has disappeared from your hands!");    }  if (currentRoom == 5)    {    reset(church.bell.rings);    }  }if (isset(f63))  {  reset(f63);  genie.delay = 70;  sound(Sound8, f169);  }if (isset(ego.flying))  {  ignore.objs(ego);  }if (!isset(haveInput))  {  goto(Label7);  }if (said("acquire", "bouquet") &&     currentRoom != 2 &&     currentRoom != 3 &&     currentRoom != 4 &&     currentRoom != 9 &&     currentRoom != 10 &&     currentRoom != 16)  {  if (!has("Bouquet of Flowers"))    {    print("Where do you think it could be?");    }  else    {    print("You already have it.");    }  }if (said("thank", "anyword"))  {  print("You're welcome!");  }if (said("smell", "bouquet"))  {  if (has("Bouquet of Flowers"))    {    print("The bouquet of flowers is very fragrant.");    }  else    {    print("You are not carrying it.");    }  }if (said("consume", "basket"))  {  if (has("Basket of Goodies"))    {    print("Yum, yum. The snacks from the goody basket are sure tasty.");    currentScore -= 2;    drop("Basket of Goodies");    get("Empty Basket");    }  else    {    if (has("Empty Basket"))      {      print("The basket of goodies is empty because you ate all of it.");      }    else      {      print("You are not carrying it.");      }    }  }if (currentRoom != 3 &&     said("acquire", "basket"))  {  if (has("Empty Basket"))    {    print("The basket of goodies is empty because you ate all of it.");    }  else    {    reset(haveMatch);    }  }if (currentRoom != 51)  {  if ((said("point", "rusty trident") ||       said("wave", "rusty trident")))    {    print("With disappointment, you see that nothing happens.");    }  }if (said("use", "anyword"))  {  print("What do you wish to do with it???");  }if (said("who", "programmed", "game"))  {  print("Ken, Roberta, Sol, Jeff, Chris, Doug, Mark, Al, Scott and Dale.");  }if (said("what is", "graham", "last name"))  {  print("Cracker.");  }if ((said("acquire", "boulder") ||     said("move", "boulder") ||     said("move", "boulder") ||     said("move", "boulder")))  {  print("The rocks are too large and heavy.");  }if (said("dive", "anyword"))  {  if (drown.swim > 0)    {    print("The water is very deep here. Without aid, it is impossible to swim "          "under the water for any length of time.");    }  else    {    print("You need to be in the water to try that.");    }  }if (said("play", "anyword"))  {  print("You have better things to do than to play all day.");  }if (currentRoom > 49 &&     (currentRoom < 55 ||     currentRoom > 58))  {  goto(Label5);  }if (!has("Oil Lamp"))  {  goto(Label5);  }if (said("pat", "lamp"))  {  if ((drown.swim > 0 ||       egoFallingCliff ||       ego.falling.chasm ||       ego.fell ||       in.boat ||       onWater ||       keep.cycling ||       ego.flying ||       snakeInAction ||       hag.in.room ||       enchanter.in.room ||       dwarf.in.room ||       !is.carpet.room ||       genie.delay != 0))    {    print("Nothing happens.");    goto(Label5);    }  else    {    if (currentRoom == 20)      {      ignore.blocks(ego);      }    if (currentRoom == 5)      {      set(church.bell.rings);      }    program.control();    get.posn(ego, v114, v115);    set.view(ego, View65);    set.cel(ego, 0);    set(keep.cycling);    end.of.loop(ego, f63);    if (wish.count == 0)      {      get("Carpet");      currentScore  += 2;      wish.count = 1;      }    else      {      if (wish.count == 1)        {        get("Sword");        currentScore  += 2;        wish.count = 2;        }      else        {        get("Bridle");        currentScore  += 2;        drop("Oil Lamp");        wish.count = 3;        }      }    }  }Label5:if (!isset(haveMatch) &&     !has("Oil Lamp") &&     said("pat", "lamp"))  {  print("You are not carrying it.");  }if (has("Brooch") &&     said("put on", "brooch"))  {  print("The color of the brooch clashes with your outfit. Better leave it off.");  }if (currentRoom != 67 &&     (said("hammer", "hammer") ||     said("pound", "hammer")))  {  print("You look around but see that there is no reason to use a mallet just "        "now.");  }if (has("Basket of Goodies") &&     said("acquire", "basket"))  {  print("You already have the goodies. They are right in the basket!");  }if (has("Amulet") &&     !isset(ego.dead) &&     !isset(f184))  {  if (said("pat", "amulet"))    {    print("You rub the Tiger's Eye stone on the front of the amulet, but "          "nothing happens.");    }  else    {    if (said("wave", "amulet"))      {      print("You wave the bronze amulet in the air, but nothing happens.");      }    else      {      if ((said("home", "anyword") ||           said("anyword", "home") ||           said("home")))        {        drop("Amulet");        print("You murmur the word home. A tingling sensation envelops your "              "body. You black out for a second ... when you come to, you see "              "you are somewhere else!");        if (currentRoom == 90)          {          currentScore  += 3;          new.room(Logic107);          }        else          {          new.room(Logic106);          }        }      }    }  }if ((has("Bottle") ||     has("Empty Bottle")))  {  if (said("open", "bottle"))    {    print("The glass bottle is already open.");    }  }if (has("Bottle") &&     said("acquire", "cloth"))  {  print("You pull a large piece of cloth out of the bottle.");  get("Empty Bottle");  currentScore  += 2;  get("Cloth");  drop("Bottle");  }if (has("Sugar Cube") &&     said("consume", "cube"))  {  print("After swallowing the magic sugar cube, you get a feeling of "        "invincibility.");  drop("Sugar Cube");  if (!isset(f157))    {    currentScore  += 1;    set(f157);    }  sugar.cube.timer = 0;  sugar.cube.timer.2 = 75;  }if (said("light", "candle"))  {  if (isset(candle.lit))    {    print("The candle is already lit.");    }  else    {    if (!has("Candle"))      {      print("You are not carrying it.");      }    else      {      if (currentRoom != 60 &&           currentRoom != 61 &&           currentRoom != 63 &&           currentRoom != 74)        {        print("There is no way for you to light the candle.");        }      else        {        reset(haveMatch);        }      }    }  }if (isset(candle.lit) &&     has("Candle") &&     said("blow", "candle"))  {  print("You pucker up your lips and blow out the candle.");  reset(candle.lit);  }if (has("Tiara") &&     said("put on", "diamond and sapphire tiara"))  {  print("The tiara would better fit a daintier head than yours.");  }if (has("Ham") &&     said("consume", "ham"))  {  print("Mmmmmm! The smoked ham was delicious! It sure hit the spot.");  drop("Ham");  }if ((said("look in", "basket") ||     said("open", "basket")))  {  if (has("Basket of Goodies"))    {    print("You look in the basket of goodies and see many good things to eat: "          "cookies, fruit, crackers, and sandwiches.");    }  else    {    if (has("Empty Basket"))      {      print("The basket of goodies is empty because you ate all of it.");      }    else      {      reset(haveMatch);      }    }  }if (has("Ruby Ring") &&     said("put on", "ring"))  {  if (!isset(wearing.ring))    {    if (!isset(first.wear.cloak))      {      if (isset(wearing.cloak))        {        set(first.wear.cloak);        currentScore  += 3;        }      }    print("You are now wearing the beautiful ruby ring.");    set(wearing.ring);    }  else    {    print("You're already wearing it.");    }  }if (isset(wearing.ring) &&     said("remove", "ring"))  {  reset(wearing.ring);  print("OK.");  }if (has("Bracelet") &&     said("put on", "bracelet"))  {  print("The glittering bracelet is too small for your wrist.");  }if (has("Necklace") &&     said("put on", "diamond and sapphire necklace"))  {  print("You try to place it around your neck, but it doesn't fit.");  }if (has("Oil Lamp"))  {  if (said("look in", "lamp"))    {    print("The old oil lamp is empty inside.");    }  else    {    if (said("light", "lamp"))      {      print("The oil lamp is empty. You cannot light it.");      }    }  }if (genie.delay <= 0 &&     !isset(f151) &&     currentRoom < 50 &&     !isset(snakeInAction) &&     !isset(ego.falling.chasm) &&     !isset(egoFallingCliff) &&     !isset(ego.fell) &&     !isset(in.boat) &&     !isset(onWater) &&     !isset(keep.cycling) &&     !isset(ego.flying) &&     isset(is.carpet.room) &&     has("Carpet") &&     drown.swim <= 0 &&     (said("get on", "carpet") ||     said("fly", "carpet")))  {  set.priority(ego, 15);  set(f147);  set.view(ego, View98);  work = 2;  cycle.time(ego, work);  step.size(ego, work);  ignore.horizon(ego);  get.posn(ego, v89, v90);  v90 = 30;  set(ego.flying);  work = 0;  move.obj.v(ego, v89, v90, work, f131);  set(keep.cycling);  currentScore  += 4;  set(f151);  reset(hag.in.room);  reset(enchanter.in.room);  reset(dwarf.in.room);  }if (currentRoom < 50 &&     currentRoom != 18 &&     has("Carpet") &&     said("sit", "carpet"))  {  print("If you wish to ride on the magic carpet, then just say so.");  }if (has("Bridle") &&     said("put on", "bridle"))  {  print("You put the bridle over your head. Nothing happens. Don't you feel "        "silly?");  }if (has("Caged Nightingale") &&     said("open", "bird cage"))  {  print("You open the pretty birdcage and the nightingale swoops out. The bird "        "is gone. You have nothing but an empty birdcage.");  drop("Caged Nightingale");  currentScore -= 2;  get("Empty Birdcage");  }if (has("Black Cloak") &&     said("put on", "black cape"))  {  if (!isset(wearing.cloak))    {    print("With a flourish, you fling the black cloak around your neck and "          "fasten it.");    if (!isset(first.wear.cloak))      {      if (isset(wearing.ring))        {        set(first.wear.cloak);        currentScore  += 3;        }      }    set(wearing.cloak);    }  else    {    print("You're already wearing it.");    }  }if (isset(wearing.cloak) &&     said("remove", "black cape"))  {  print("OK.");  reset(wearing.cloak);  }if (has("Cross") &&     said("put on", "cross"))  {  if (!isset(wearing.cross))    {    print("You place the silver cross and chain around your neck and wear it as "          "a necklace.");    if (!isset(first.wear.cross))      {      currentScore  += 2;      set(first.wear.cross);      }    set(wearing.cross);    }  else    {    print("You're already wearing it.");    }  }if (isset(wearing.cross) &&     said("remove", "cross"))  {  reset(wearing.cross);  print("OK.");  }if (has("Chicken Soup") &&     (said("consume", "broth") ||     said("drink", "broth")))  {  print("Hungrily, you eat the tasty chicken soup. Aaaaahhhh! You feel very "        "satisfied. You throw away the useless empty pot.");  drop("Chicken Soup");  }if (has("Earrings") &&     said("put on", "earrings"))  {  print("The earrings were made for more delicate ears than yours.");  }if ((said("check out", "anyword") ||     said("check out", "anyword", "anyword")))  {  reset(haveMatch);  if (isset(f162))    {    goto(Label6);    }  else    {    if (currentRoom == 67 &&         v92 != 0 &&         v92 != 2 &&         v92 != 4)      {      goto(Label6);      }    }  }else  {  goto(Label6);  }if (said("check out", "boulder") &&     currentRoom != 15 &&     currentRoom != 13 &&     currentRoom != 58 &&     currentRoom != 75 &&     currentRoom != 80 &&     currentRoom != 85 &&     (currentRoom < 77 ||     currentRoom > 93))  {  print("The rocks are the usual sort of rocks, nothing special.");  }if (has("Amulet") &&     (said("check out", "amulet") ||     said("read", "amulet")))  {  show.obj(View232);  }if (has("Bottle") &&     (said("check out", "bottle") ||     said("look in", "bottle")))  {  show.obj(View215);  }if (has("Empty Bottle") &&     (said("check out", "bottle") ||     said("look in", "bottle") ||     said("check out", "empty", "bottle")))  {  show.obj(View216);  }if (has("Cloth") &&     said("check out", "cloth"))  {  show.obj(View224);  }if (has("Sugar Cube") &&     (said("check out", "cube") ||     said("check out", "cube", "cube")))  {  show.obj(View230);  }if (has("Gold Key") &&     has("Silver Key"))  {  if (said("check out", "key"))    {    print("You'll have to specify which key you wish to look at.");    }  }if (has("Gold Key"))  {  if ((said("check out", "gold", "key") ||       said("check out", "key")))    {    show.obj(View212);    }  }if (has("Silver Key"))  {  if ((said("check out", "silver", "key") ||       said("check out", "key")))    {    show.obj(View234);    }  }if (has("Candle") &&     said("check out", "candle"))  {  if (isset(candle.lit))    {    show.obj(View229);    }  else    {    show.obj(View165);    }  }if (has("Tiara") &&     said("check out", "diamond and sapphire tiara"))  {  show.obj(View207);  }if (has("Ham") &&     said("check out", "ham"))  {  show.obj(View217);  }if (has("Pillow") &&     said("check out", "cushion"))  {  show.obj(View225);  }if (has("Bouquet of Flowers") &&     (said("check out", "bouquet") ||     said("check out", "bouquet", "blossom")))  {  show.obj(View203);  }if (has("Basket of Goodies") &&     (said("check out", "basket") ||     said("check out", "basket", "basket")))  {  show.obj(View214);  }if (has("Empty Basket") &&     (said("check out", "basket") ||     said("check out", "empty", "basket")))  {  show.obj(View213);  }if (has("Ruby Ring") &&     said("check out", "ring"))  {  show.obj(View206);  }if (currentRoom != 51)  {  if (has("Clamshell") &&       (said("check out", "clam") ||       said("check out", "clam")))    {    show.obj(View233);    }  }if (has("Bracelet") &&     said("check out", "bracelet"))  {  show.obj(View204);  }if (has("Trident") &&     said("check out", "rusty trident"))  {  show.obj(View202);  }if (has("Necklace") &&     said("check out", "diamond and sapphire necklace"))  {  show.obj(View208);  }if (has("Mallet") &&     said("check out", "hammer"))  {  show.obj(View211);  }if (has("Oil Lamp") &&     said("check out", "lamp"))  {  show.obj(View223);  }if (currentRoom != 70 &&     has("Carpet") &&     said("check out", "carpet"))  {  show.obj(View227);  }if (has("Sword") &&     said("check out", "knife"))  {  show.obj(View201);  }if (has("Bridle") &&     said("check out", "bridle"))  {  show.obj(View228);  }if ((said("check out", "bird") ||     said("check out", "empty", "bird cage") ||     said("check out", "bird cage")))  {  if (has("Empty Birdcage"))    {    show.obj(View222);    }  else    {    if (has("Caged Nightingale"))      {      if (v65 == 2)        {        print("The cage is covered.");        }      else        {        if (!isset(f149))          {          load.sound(Sound22);          set(f149);          }        sound(Sound22, f169);        show.obj(View221);        }      }    else      {      reset(haveMatch);      }    }  }if (has("Black Cloak") &&     said("check out", "black cape"))  {  show.obj(View219);  }if (has("Cross") &&     said("check out", "cross"))  {  show.obj(View220);  }if (has("Chicken Soup"))  {  if (said("check out", "broth"))    {    show.obj(View218);    }  else    {    if (said("check out", "cauldron") &&         currentRoom != 69)      {      show.obj(View218);      }    }  }if (has("Earrings") &&     said("check out", "earrings"))  {  show.obj(View209);  }if (has("Fishing Net") &&     said("check out", "fishing net"))  {  show.obj(View226);  }if (has("Gasping Fish") &&     said("check out", "dolphin"))  {  show.obj(View231);  }if (has("Brooch") &&     said("check out", "brooch"))  {  show.obj(View210);  }if (has("Stake") &&     said("check out", "pole"))  {  show.obj(View205);  }Label6:if ((said("check out", "knife") ||     said("check out", "rusty trident") ||     said("check out", "bouquet") ||     said("check out", "bracelet") ||     said("check out", "pole") ||     said("check out", "ring") ||     said("check out", "diamond and sapphire tiara") ||     said("check out", "diamond and sapphire necklace") ||     said("check out", "earrings") ||     said("check out", "brooch") ||     said("check out", "hammer") ||     said("check out", "key") ||     said("check out", "gold") ||     said("check out", "silver") ||     said("check out", "basket") ||     said("check out", "bottle") ||     said("check out", "ham") ||     said("check out", "broth") ||     said("check out", "black cape") ||     said("check out", "cross") ||     said("check out", "bird cage") ||     said("check out", "lamp") ||     said("check out", "cloth") ||     said("check out", "cushion") ||     said("check out", "fishing net") ||     said("check out", "carpet") ||     said("check out", "bridle") ||     said("check out", "candle") ||     said("check out", "cube") ||     said("check out", "dolphin") ||     said("check out", "amulet") ||     said("check out", "clam") ||     said("check out", "bird")))  {  print("You are not carrying it.");  }else  {  if (unknownWordNum <= 0 &&       (said("check out", "anyword") ||       said("look in", "anyword")))    {    print("You see nothing special.");    }  }if (said("acquire", "anyword") &&     !said("acquire"))  {  print("You cannot get the %w2. At least not now!");  }if (said("drop", "anyword"))  {  print("There is no reason to do that.");  }if (said("consume", "anyword"))  {  if ((said("consume", "count dracula") ||       said("consume", "bitch")))    {    print("You can't do that.");    }  else    {    if ((said("consume", "cube") ||         said("consume", "basket")))      {      print("You are not carrying it.");      }    else      {      print("The %w2 doesn't appeal just now.");      }    }  }if (said("acquire"))  {  print("Just say what you wish to get.");  }if (said("climb", "anyword"))  {  print("No. That would just waste time.");  }if (said("enter", "anyword"))  {  print("You can try to go there.");  }if (said("feed", "anyword"))  {  print("That would be inappropriate at this time.");  }if (said("hello", "anyword"))  {  print("Hello.");  }if ((said("say", "hello") ||     said("hello")))  {  print("There is nobody here but you!");  }else  {  if (said("say", "anyword"))    {    print("OK. %w2.");    }  }if (said("find", "count dracula"))  {  print("You will have to find him yourself.");  }else  {  if (said("find", "bitch"))    {    print("You will have to find her yourself.");    }  else    {    if (said("find", "anyword"))      {      print("You will have to find it yourself.");      }    }  }if (said("get on", "anyword"))  {  print("You're not able to ride the %w2 at this time.");  }if (said("speak", "anyword"))  {  print("You get no response from the %w2.");  }if (isset(haveInput) &&     !isset(haveMatch) &&     unknownWordNum > 0)  {  reset(haveInput);  if (unknownWordNum == 1)    {    print("I don't understand \"%w1\"");    }  if (unknownWordNum == 2)    {    print("I don't understand \"%w2\"");    }  if (unknownWordNum == 3)    {    print("I don't understand \"%w3\"");    }  }if (isset(haveInput) &&     !isset(haveMatch))  {  random(139, 141, work);  print.v(work);  reset(haveInput);  }Label7:if (isset(ego.flying))  {  ignore.objs(ego);  }return();[ Messages#message 1 "I don't understand \"%w1\""#message 2 "Where do you think it could be?"#message 3 "The bouquet of wildflowers is very pretty. The sweet scent is delightful."#message 4 "The bouquet of flowers is very fragrant."#message 6 "What do you wish to do with it???"#message 7 "There are many good things to eat in the basket of goodies."#message 8 "Yum, yum. The snacks from the goody basket are sure tasty."#message 9 "The basket of goodies is empty because you ate all of it."#message 10 "You already have it."#message 11 "This is a poisoned lake! Too bad, you die of extreme poisoning."#message 12 "You need to be closer to the water if you want to swim."#message 13 "You look around but see that there is no reason to use a mallet just now."#message 14 "The color of the brooch clashes with your outfit. Better leave it off."#message 17 "You feel a sudden tingling sensation. Could it be that the effects of the sugar cube have worn off?"#message 18 "Ken, Roberta, Sol, Jeff, Chris, Doug, Mark, Al, Scott and Dale."#message 19 "Cracker."#message 20 "%v112,%v113    "#message 21 "The rocks are the usual sort of rocks, nothing special."#message 22 "The rocks are too large and heavy."#message 24 "You are not carrying it."#message 25 "There is no reason to drop it."#message 26 "You are already swimming."#message 27 "The water is very deep here. Without aid, it is impossible to swim under the water for any length of time."#message 28 "You need to be in the water to try that."#message 29 "You have better things to do than to play all day."#message 30 "You're already wearing it."#message 31 "The old oil lamp is empty inside."#message 32 "The glass bottle is already open."#message 33 "You pull a large piece of cloth out of the bottle."#message 34 "If you wish to ride on the magic carpet, then just say so."#message 35 "The cage is covered."#message 36 "After swallowing the magic sugar cube, you get a feeling of invincibility."#message 38 "You try to place it around your neck, but it doesn't fit."#message 39 "OK."#message 40 "You're welcome!"#message 41 "You already have the goodies. They are right in the basket!"#message 43 "The candle is already lit."#message 44 "There is no way for you to light the candle."#message 45 "You pucker up your lips and blow out the candle."#message 47 "The tiara would better fit a daintier head than yours."#message 49 "Mmmmmm! The smoked ham was delicious! It sure hit the spot."#message 56 "You are now wearing the beautiful ruby ring."#message 59 "The glittering bracelet is too small for your wrist."#message 64 "The oil lamp is empty. You cannot light it."#message 68 "You put the bridle over your head. Nothing happens. Don't you feel silly?"#message 69 "You open the pretty birdcage and the nightingale swoops out. The bird is gone. You have nothing but an empty birdcage."#message 72 "With a flourish, you fling the black cloak around your neck and fasten it."#message 74 "You place the silver cross and chain around your neck and wear it as a necklace."#message 76 "Hungrily, you eat the tasty chicken soup. Aaaaahhhh! You feel very satisfied. You throw away the useless empty pot."#message 78 "The earrings were made for more delicate ears than yours."#message 82 "Beware! The fairy's spell has worn off."#message 84 "You rub the Tiger's Eye stone on the front of the amulet, but nothing happens."#message 85 "You wave the bronze amulet in the air, but nothing happens."#message 86 "You murmur the word home. A tingling sensation envelops your body. You black out for a second ... when you come to, you see you are somewhere else!"#message 88 "When you rub the tarnished brass lamp, you hear a POOOOFF and a genie appears! \"Master,\" he says, \"I leave a gift for you. A magic carpet!\" The genie then poofs back into the lamp."#message 89 "When you rub the lamp, you hear a loud POOOOFF and a genie magically appears. \"Master,\" he says, \"I leave a gift for you. A beautiful sword!\" The genie then disappears in a puff of smoke."#message 90 "Using your sleeve as a cloth you rub the lamp, causing the genie to appear again. \"Master,\" he says, \"I leave a gift for you. A leather bridle!\" The genie then pops back into the lamp."#message 91 "Nothing happens."#message 92 "You have two keys! Do you wish to look at the silver one or the gold one?"#message 93 "Oh, no! The lamp has disappeared from your hands!"#message 95 "With disappointment, you see that nothing happens."#message 96 "You look in the basket of goodies and see many good things to eat: cookies, fruit, crackers, and sandwiches."#message 97 "The basket of goodies is empty because you ate all of it."#message 98 "You'll have to specify which key you wish to look at."#message 101 "%s4"#message 116 "Exit Game? (Y/N) "#message 121 "You see nothing special."#message 122 "You cannot get the %w2. At least not now!"#message 123 "There is no reason to do that."#message 124 "The %w2 doesn't appeal just now."#message 125 "No. That would just waste time."#message 126 "You can try to go there."#message 127 "That would be inappropriate at this time."#message 128 "Hello."#message 129 "OK. %w2."#message 130 "You will have to find him yourself."#message 131 "You will have to find her yourself."#message 132 "You will have to find it yourself."#message 133 "You are not carrying it."#message 138 "There is nobody here but you!"#message 139 "You can't do that--at least not now!"#message 140 "Not right now!"#message 141 "You can't do that."#message 143 "Just say what you wish to get."#message 144 "You get no response from the %w2."#message 145 "I don't understand \"%w1\""#message 146 "I don't understand \"%w2\""#message 147 "I don't understand \"%w3\""#message 148 "You're not able to ride the %w2 at this time."#message 150 "Sierra"#message 151 "About KQ2"#message 152 "Help     "#message 153 "File"#message 154 "Save     <F5>"#message 155 "Restore  <F7>"#message 156 "-------------"#message 157 "Restart  <F9>"#message 158 "Quit  <Alt-Z>"#message 159 "Action"#message 160 "Swim           ="#message 161 "See Object  <F4>"#message 162 "Inventory  <Tab>"#message 163 "Special"#message 164 "Sound On/Off  <F2>"#message 165 "Color/BW  <Ctrl R>"#message 166 "Joystick  <Ctrl J>"#message 167 "Pause        <Esc>"#message 168 "Speed"#message 169 "Normal "#message 170 "Slow   "#message 171 "Fast   "#message 172 "Fastest"#message 173 "King's Quest ][ was designed by Roberta Williams."