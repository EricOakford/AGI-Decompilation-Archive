#define aFlame1         o2#define aFlame2         o3#define aValanice           o4#define aAlex           o5#define aRosella        o6#define aRosellaBody    o7#define roomTimer   v221#define toY v224#define myStep1 v228#define myStep2 v229#define tempX v230#define tempY v231#define closeupTimer    v232#define startCloseup    f221#define moved1          f224#define moved2          f225#define inCloseup       f230#define isMonochrome    f231program.control();status.line.off();if (newRoom)  {  prevent.input();  work = 74;  load.pic(work);  draw.pic(work);  work = 75;  load.pic(work);  load.view(View71);  add.to.pic(View71, 3, 3, 18, 123, 7, 1);  add.to.pic(View71, 3, 2, 58, 75, 6, 1);  animate.obj(aFlame1);  set.view(aFlame1, View71);  position(aFlame1, 60, 50);  set.loop(aFlame1, 4);  fix.loop(aFlame1);  set.cel(aFlame1, 1);  v226 = 2;  cycle.time(aFlame1, v226);  set.priority(aFlame1, 7);  draw(aFlame1);  add.to.pic(View71, 3, 2, 98, 75, 6, 1);  animate.obj(aFlame2);  set.view(aFlame2, View71);  position(aFlame2, 100, 50);  set.loop(aFlame2, 4);  fix.loop(aFlame2);  cycle.time(aFlame2, v226);  reverse.cycle(aFlame2);  set.priority(aFlame2, 7);  draw(aFlame2);  add.to.pic(View71, 3, 1, 65, 133, 14, 1);  add.to.pic(View71, 5, 1, 34, 149, 10, 1);  set.view(aValanice, View71);  animate.obj(aValanice);  position(aValanice, 37, 126);  set.loop(aValanice, 5);  fix.loop(aValanice);  set.cel(aValanice, 5);  set.priority(aValanice, 11);  draw(aValanice);  stop.update(aValanice);  add.to.pic(View71, 5, 0, 106, 127, 10, 1);  set.view(aAlex, View71);  animate.obj(aAlex);  position(aAlex, 106, 82);  set.loop(aAlex, 5);  fix.loop(aAlex);  set.cel(aAlex, 3);  set.priority(aAlex, 11);  draw(aAlex);  stop.update(aAlex);  set.view(aRosella, View71);  animate.obj(aRosella);  position(aRosella, 113, 120);  set.loop(aRosella, 5);  fix.loop(aRosella);  set.cel(aRosella, 7);  set.priority(aRosella, 13);  draw(aRosella);  stop.cycling(aRosella);  set.view(aRosellaBody, View71);  animate.obj(aRosellaBody);  position(aRosellaBody, 113, 151);  set.loop(aRosellaBody, 5);  fix.loop(aRosellaBody);  set.cel(aRosellaBody, 2);  set.priority(aRosellaBody, 12);  draw(aRosellaBody);  stop.cycling(aRosellaBody);  roomTimer = 4;  show.pic();  return();  }if (roomTimer > 0 && aSecondPassed)  {  --roomTimer;  reset(startCloseup);  if ((roomTimer <= 0) &&       (!isset(f65)))    {    set(startCloseup);    }  }if (startCloseup)  {  reset(startCloseup);  work = 75;  draw.pic(work);  add.to.pic(View71, 3, 0, 51, 111, 14, 4);  set(inCloseup);  erase(aValanice);  erase(aRosella);  erase(aAlex);  erase(aRosellaBody);  erase(aFlame1);  erase(aFlame2);  show.pic();  }if (inCloseup)  {  reset(inCloseup);  set(leaveWindow);  closeupTimer = 7;  if (isMonochrome)    {    print.at("King Graham lies weakly in bed, Father Death hovering near.", 18, 7, 30);    }  else    {    print.at("King Graham lies weakly in bed, Father Death hovering near.", 16, 7, 30);    }  }if ((closeupTimer > 0) && (aSecondPassed))  {  --closeupTimer;  if (closeupTimer <= 0)    {    close.window();    set(f65);    v223 = 110;    roomTimer = 2;    v222 = 1;    set(f223);    work = 74;    draw.pic(work);    add.to.pic(View71, 3, 3, 18, 123, 7, 1);    add.to.pic(View71, 3, 2, 58, 75, 6, 1);    add.to.pic(View71, 3, 2, 98, 75, 6, 1);    add.to.pic(View71, 3, 1, 65, 133, 14, 1);    add.to.pic(View71, 5, 1, 34, 149, 10, 1);    add.to.pic(View71, 5, 0, 106, 127, 10, 1);    draw(aValanice);    stop.update(aValanice);    draw(aAlex);    stop.update(aAlex);    draw(aRosella);    stop.cycling(aRosella);    draw(aRosellaBody);    stop.cycling(aRosellaBody);    draw(aFlame1);    draw(aFlame2);    show.pic();    }  }if (isset(f65))  {  if (isset(f229))    {    reset(f229);    set.loop(aRosellaBody, 6);    erase(aRosella);    force.update(aRosella);    set(f226);    }  if ((moved1) && (moved2) && (isset(f226)))    {    reset(moved1);    reset(f226);    stop.update(aAlex);    stop.update(aValanice);    set(f223);    }  if (isset(f227))    {    if (tempX < 131)      {      if ((tempX > v227) && (moved2))        {        reset(moved2);        v227 = v223;        v227  += 3;        reset(f228);        ++toY;        v223 = tempX;        myStep1 = 2;        ++tempX;        move.obj.v(aRosellaBody, tempX, toY, myStep1, moved1);        }      else        {        if ((!isset(f228)) &&             (isset(moved1)))          {          reset(moved1);          set(f228);          myStep2 = 4;          ++tempX;          move.obj.v(aRosellaBody, tempX, toY, myStep2, moved2);          }        }      }    else      {      set(f223);      reset(f227);      }    }  if (isset(f223))    {    reset(f223);    ++v222;    if (v222 == 2)      {      set(leaveWindow);      v226 = 2;      work = 6;      set.cel(aValanice, 6);      set.cel(aAlex, 4);      set(f229);      set(moved1);      set(moved2);      print.at("Grief suddenly overwhelming her, Rosella runs from the room.", 2, 4, 39);      }    if (v222 == 3)      {      v227 = 110;      get.posn(aRosellaBody, tempX, tempY);      toY = tempY;      set(f227);      }    if (v222 == 4)      {      new.room(Logic74);      }    }  }return();[ Messages#message 1 "With the return of his long-lost son, Alexander, and the rescue of his daughter, Rosella, from the terrible dragon, old King Graham decides it's time to pass on his adventurer's hat to younger blood."#message 2 "He flings the battered hat towards his children while his wife, Queen Valanice, proudly looks on."#message 3 "The hat arches through the air."#message 4 "King Graham experiences a terrible squeezing pain in his chest."#message 5 "\"Help me,\" he rasps."#message 6 "The adventurer's hat lies, unclaimed, upon the floor...forgotten."#message 7 "King Graham lies weakly in bed, Father Death hovering near."#message 8 "Grief suddenly overwhelming her, Rosella runs from the room."#message 9 "\"Oh, Father!\" she sobs. \"You're still young; you should have many years ahead of you! Oh, I wish I could help you, Father!\""#message 10 "Rosella looks up but sees no one. \"Who's speaking to me?\""#message 11 "Rosella sees an image in the mirror. \"Wh-who are you?\" she queries."#message 12 "\"I am the fairy, Genesta. In my land of Tamir there is a remarkable tree. This tiny tree needs one hundred years to bear a single fruit.\""#message 13 "Rosella is much heartened by this news! \"Where is the land of Tamir?\""#message 14 "Genesta smiles. \"Tamir is very far away. But with my magic, I can bring you here.\""#message 15 "Rosella senses that there is more to the story. \"But, I suppose there are some problems?\""#message 16 "Again, Genesta smiles. \"Yes, you are correct, Rosella. If you are willing to come to Tamir I will explain the situation.\""#message 17 "Confused, Rosella says, \"I don't know! What if I can't help you or find the tree?\""#message 18 "Genesta pleads, \"You must decide NOW, Rosella. My powers are growing weaker by the minute.\""#message 19 "Now, the fairy is but a faint glimmer, and her voice barely audible. \"If you care for your father, say `yes' now!...\" And suddenly she's gone."#message 20 "\"YES!!\""#message 92 "\"Do you really mean that?\" a soft voice asks."#message 102 "\"I am,\" the voice says. \"Look in the magic mirror.\""#message 120 "\"But, this is no ordinary fruit; for if a person were to eat it, one would find that good health and well-being would be theirs for many years.\""#message 160 "\"However, once I bring you here, I can't send you back; you will have to help me first.\""#message 200 "Debug0"#message 201 "Debug1"#message 202 "Debug2"#message 203 "Suddenly...!"#message 204 "Debug4"#message 205 "Debug5"#message 206 "Debug6"