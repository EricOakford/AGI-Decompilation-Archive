#define aJack   o1#define aJackFace   o2#define aCandle o5#define roomState   v241 #define roomTimer   v242#define egoMoved        f240#define egoGiveCandle   f245if (newDemoRoom)  {  reset(newDemoRoom);  set.text.attribute(BLACK, WHITE);  animate.obj(aJack);  set.view(aJack, vJackBNimble);  position(aJack, 110, 115);  set.loop(aJack, 5);  set.cel(aJack, 5);  draw(aJack);  stop.cycling(aJack);  work = 1;  cycle.time(aJack, work);  step.time(aJack, work);  animate.obj(aJackFace);  set.view(aJackFace, vJackBNimble);  set.loop(aJackFace, 7);  set.cel(aJackFace, 0);  ignore.objs(aJackFace);  position(aJackFace, 110, 115);  draw(aJackFace);  work = 8;  cycle.time(aJackFace, work);  animate.obj(ego);  set.view.v(ego, kidView);  position(ego, 90, 120);  set.loop(ego, 0);  draw(ego);  move.obj(ego, 105, 120, 1, egoGiveCandle);  animate.obj(aCandle);  set.view(aCandle, vMGStuff);  set.loop(aCandle, 5);  ignore.horizon(aCandle);  set.priority(aCandle, 15);  position(aCandle, 140, 34);  draw(aCandle);  stop.update(aCandle);  show.pic();  if (monitorType != MONO)    {    clear.lines(22, 22, BLACK);    clear.text.rect(20, 0, 24, 28, WHITE);    }  else    {    clear.lines(24, 24, BLACK);    clear.text.rect(20, 0, 23, 28, WHITE);    }  set.text.attribute(BLACK, WHITE);  display(20, 1, "Then when you return the   ");  display(21, 1, "candlestick to Jack and fix");  display(22, 1, "the rhyme, watch the rhyme ");  display(23, 1, "be acted out!");  }if (egoGiveCandle)  {  reset(egoGiveCandle);  erase(aCandle);  release.priority(aCandle);  set.loop(aCandle, 4);  set.cel(aCandle, 0);  position(aCandle, 102, 116);  draw(aCandle);  start.cycling(aCandle);  work = 3;  cycle.time(aCandle, work);  move.obj(ego, 90, 135, 1, egoMoved);  }if (egoMoved)  {  reset(egoMoved);  stop.cycling(ego);  stop.motion(ego);  set.cel(ego, 0);  set.loop(ego, 3);  set(f249);  }if (!isset(f246) &&     isset(f249))  {  set(f246);  reset(f249);  set(f46);  sound(Sound156, mgSoundDone);  elapsedSeconds = 0;  set(leaveWindow);  print.at("Jack be nimble,                \n", 1, 4, 32);  }if (elapsedSeconds > 2 &&     isset(f246) &&     !isset(f247))  {  set(f247);  display(2, 20, "Jack be quick,");  }if (elapsedSeconds > 5 &&     isset(f247) &&     !isset(f248))  {  set(f248);  display(3, 4, "Jack jump over the candlestick.");  }if (isset(f243))  {  reset(f243);  set.loop(aJack, 1);  stop.cycling(aJack);  }if (isset(f244))  {  reset(f244);  set.loop(aJack, 0);  stop.cycling(aJack);  }if (elapsedSeconds > 2 &&     roomState == 1)  {  set(f46);  }if (elapsedSeconds > 6 &&     roomState == 3)  {  set(f46);  }--roomTimer;if (roomTimer == 1)  {  set(f46);  }if (isset(f46))  {  reset(f46);  ++roomState;  if (roomState == 1)    {    erase(aJackFace);    start.update(aJack);    start.cycling(aJack);    start.motion(aJack);    set.loop(aJack, 0);    set.cel(aJack, 0);    fix.loop(aJack);    ignore.blocks(aJack);    move.obj(aJack, 131, 121, 2, f243);    }  if (roomState == 2)    {    animationInterval = 1;    start.cycling(aJack);    ignore.objs(aJack);    set.loop(aJack, 1);    fix.loop(aJack);    move.obj(aJack, 82, 121, 2, f46);    }  if (roomState == 3)    {    set.loop(aJack, 1);    fix.loop(aJack);    move.obj(aJack, 68, 114, 2, f244);    }  if (roomState == 4)    {    animationInterval = 2;    start.cycling(aJack);    set.loop(aJack, 0);    fix.loop(aJack);    move.obj(aJack, 85, 115, 2, f46);    }  if (roomState == 5)    {    stop.cycling(aJack);    set.loop(aJack, 4);    fix.loop(aJack);    set.cel(aJack, 0);    move.obj(aJack, 87, 113, 2, f46);    }  if (roomState == 6)    {    set.cel(aJack, 1);    move.obj(aJack, 94, 106, 2, f46);    }  if (roomState == 7)    {    set.cel(aJack, 2);    move.obj(aJack, 99, 101, 2, f46);    }  if (roomState == 8)    {    set.cel(aJack, 3);    move.obj(aJack, 103, 103, 2, f46);    }  if (roomState == 9)    {    set.cel(aJack, 4);    move.obj(aJack, 108, 108, 2, f46);    }  if (roomState == 10)    {    set.cel(aJack, 5);    move.obj(aJack, 114, 115, 2, f46);    }  if (roomState == 11)    {    set.cel(aJack, 6);    roomTimer = 6;    }  if (roomState == 12)    {    set.cel(aJack, 7);    animate.obj(o4);    set.view(o4, vMGStuff);    set.loop(o4, 3);    fix.loop(o4);    position(o4, 83, 93);    set.priority(o4, 14);    draw(o4);    animate.obj(o3);    set.view(o3, vJackBNimble);    set.loop(o3, 5);    set.cel(o3, 6);    ignore.horizon(o3);    set.priority(o3, 15);    position(o3, 91, 80);    draw(o3);    stop.cycling(o3);    roomTimer = 20;    }  if (roomState == 13)    {    erase(o3);    erase(o4);    roomTimer = 10;    }  if (roomState == 14)    {    set.loop(aJack, 2);    fix.loop(aJack);    set.cel(aJack, 0);    start.cycling(aJack);    move.obj(aJack, 133, 124, 1, f46);    }  if (roomState == 15)    {    set.loop(aJack, 3);    fix.loop(aJack);    move.obj(aJack, 118, 145, 1, f46);    }  if (roomState == 16)    {    set.loop(aJack, 2);    fix.loop(aJack);    set.cel(aJack, 0);    move.obj(aJack, 134, 150, 1, f46);    }  if (roomState == 17)    {    set.loop(aJack, 2);    set.cel(aJack, 0);    fix.loop(aJack);    move.obj(aJack, 140, 156, 2, f46);    }  if (roomState == 18)    {    set.loop(aJack, 5);    set.cel(aJack, 0);    fix.loop(aJack);    move.obj(aJack, 146, 162, 2, f46);    }  if (roomState == 19)    {    sound(Sound155, mgScriptDone);    add.to.pic(vJackBNimble, 5, 4, 146, 162, 0, 4);    reposition.to(aJack, 144, 165);    set.loop(aJack, 6);    fix.loop(aJack);    set.cel(aJack, 0);    work = 4;    cycle.time(aJack, work);    roomTimer = 20;    }  if (roomState == 20)    {    if (monitorType != MONO)      {      clear.lines(21, 24, BLACK);      }    show.pic();    set(leaveWindow);    clear.lines(0, 0, BLACK);    print.at("With 18 rhymes to be solved and over 44 colorful screens, your "             "child will be entertained for hours on end!", 3, 4, 32);    roomTimer = 50;    }  if (roomState == 21)    {    new.room(lgcDemoSelect);    }  }if (roomState > 13 &&     roomState < 17)  {  current.cel(aJack, work);  if (work == 0)    {    sound(Sound154, mgScriptDone);    }  }return();[ Messages#message 1 "Jack be nimble,                \n"#message 2 "Jack be quick,"#message 3 "Jack jump over the candlestick."#message 4 "Then when you return the   "#message 5 "candlestick to Jack and fix"#message 6 "the rhyme, watch the rhyme "#message 7 "be acted out!"#message 8 "With 18 rhymes to be solved and over 44 colorful screens, your child will be entertained for hours on end!"#message 11 "*==================================*"#message 12 "*                                  *"