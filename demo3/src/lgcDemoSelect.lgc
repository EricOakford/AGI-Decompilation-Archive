if ((newRoom || f47))  {  reset(f47);  if (isset(f41))    {    load.view(vDemoGuy);    load.view(vDemoPage1);    load.view(vDemoPage2);    load.view(vDemoPage3);    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);    load.view(vDemoTalkBubble);    load.view(vSierra);    load.view(vTandy);    show.pic();    set(f220);    }  if (isset(f42))    {    load.view(vDemoGuy);    load.view(vDemoPage1);    load.view(vDemoPage2);    load.view(vDemoPage3);    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);    load.view(vDemoTalkBubble);    if (isset(f63))      {      graphics();      reset(f63);      }    add.to.pic(vDemoGuy, 0, 3, 52, 153, 7, 4);    add.to.pic(vDemoGuy, 1, 0, 72, 118, 7, 4);    show.pic();    set(f221);    }  }if (isset(f41))  {  if (isset(f220))    {    reset(f220);    animationInterval = 0;    add.to.pic(vDemoGuy, 0, 3, 52, 153, 7, 4);    add.to.pic(vDemoGuy, 1, 0, 72, 118, 7, 4);    animate.obj(o7);    set.view(o7, vSierra);    set.loop(o7, 5);    set.cel(o7, 0);    position(o7, 0, 53);    draw(o7);    animate.obj(o1);    set.view(o1, vSierra);    set.loop(o1, 0);    set.cel(o1, 0);    ignore.objs(o1);    draw(o1);    animate.obj(o2);    set.view(o2, vSierra);    set.loop(o2, 1);    set.cel(o2, 0);    ignore.objs(o2);    draw(o2);    animate.obj(o3);    set.view(o3, vSierra);    set.loop(o3, 2);    set.cel(o3, 0);    ignore.objs(o3);    draw(o3);    animate.obj(o4);    set.view(o4, vSierra);    set.loop(o4, 3);    set.cel(o4, 0);    ignore.objs(o4);    draw(o4);    animate.obj(o5);    set.view(o5, vSierra);    set.loop(o5, 3);    set.cel(o5, 0);    ignore.objs(o5);    draw(o5);    animate.obj(o6);    set.view(o6, vSierra);    set.loop(o6, 4);    set.cel(o6, 0);    ignore.objs(o6);    position(o6, 107, 42);    draw(o6);    set(f226);    }  current.cel(o1, work);  if (work == 0)    {    set.text.attribute(BLACK, BLACK);    normal.cycle(o7);    normal.cycle(o1);    normal.cycle(o2);    normal.cycle(o3);    normal.cycle(o4);    normal.cycle(o5);    normal.cycle(o6);    if (isset(f226))      {      set.view(o1, vSierra);      set.view(o2, vSierra);      set.view(o3, vSierra);      set.view(o4, vSierra);      set.view(o5, vSierra);      set.loop(o5, 3);      reposition.to(o1, 37, 42);      reposition.to(o2, 53, 42);      reposition.to(o3, 59, 42);      reposition.to(o4, 75, 42);      reposition.to(o5, 91, 42);      draw(o7);      draw(o6);      }    }  if (isset(f226))    {    if (work == 1)      {      set.text.attribute(BLUE, BLACK);      }    if (work == 2)      {      set.text.attribute(LT_BLUE, BLACK);      }    if (work == 3)      {      set.text.attribute(CYAN, BLACK);      }    if (work == 4)      {      set.text.attribute(LT_CYAN, BLACK);      }    }  else    {    if (work == 1)      {      set.text.attribute(RED, BLACK);      }    if (work == 2)      {      set.text.attribute(BROWN, BLACK);      }    if (work == 3)      {      set.text.attribute(LT_RED, BLACK);      }    if (work == 4)      {      set.text.attribute(YELLOW, BLACK);      }    }  if (work == 5)    {    reverse.cycle(o7);    reverse.cycle(o1);    reverse.cycle(o2);    reverse.cycle(o3);    reverse.cycle(o4);    reverse.cycle(o5);    reverse.cycle(o6);    set.text.attribute(WHITE, BLACK);    }  display(24, 22, "Press any key...");  if (have.key())    {    set(f42);    set(f221);    reset(f41);    clear.text.rect(0, 0, 9, 39, BLACK);    clear.lines(24, 24, BLACK);    erase(o7);    erase(o1);    erase(o2);    erase(o3);    erase(o4);    erase(o5);    erase(o6);    discard.view(vTandy);    discard.view(vSierra);    }  }if (isset(f42))  {  if (isset(f221))    {    reset(f221);    animationInterval = 1;    add.to.pic(vDemoTalkBubble, 0, 0, 0, 88, 7, 4);    discard.view(vDemoTalkBubble);    set.text.attribute(BLACK, WHITE);    display(7, 1, "Hi.  Which of our games");    display(8, 1, " would you like to see?");    set.text.attribute(YELLOW, BLACK);    display(0, 1, "Press 1-2-3-4-5-6-7-8-9 to select,");    display(1, 1, "    then ENTER to Run.");    display(3, 1, "Need help? Press H");    add.to.pic(vDemoPage1, 0, 0, 101, 47, 0, 4);    add.to.pic(vDemoPage1, 0, 1, 101, 87, 0, 4);    add.to.pic(vDemoPage1, 0, 2, 101, 127, 0, 4);    display(6, 39, "1");    display(11, 39, "2");    display(16, 39, "3");    display(18, 25, "Last page: F9");    display(19, 25, "Next page: F10");    reset(selectedHelicopter);    reset(selectedSQ2);    reset(selectedThexder);    reset(selectedPQ);    reset(selectedLSL);    reset(selectedSQ1);    reset(selectedKQ3);    reset(selectedMotherGoose);    reset(selectedKQ2);    reset(f40);    reset(f227);    v220 = 1;    }  if (controller(cNum1))    {    toggle(selectedHelicopter);    }  if (controller(cNum2))    {    toggle(selectedSQ2);    }  if (controller(cNum3))    {    toggle(selectedThexder);    }  if (controller(cNum4))    {    toggle(selectedPQ);    }  if (controller(cNum5))    {    toggle(selectedLSL);    }  if (controller(cNum6))    {    toggle(selectedSQ1);    }  if (controller(cNum7))    {    toggle(selectedKQ3);    }  if (controller(cNum8))    {    toggle(selectedMotherGoose);    }  if (controller(cNum9))    {    toggle(selectedKQ2);    }  if (controller(c11))    {    set(f44);    }  if ((isset(f44) ||       controller(c14)))    {    if ((isset(selectedHelicopter) ||         isset(selectedSQ2) ||         isset(selectedThexder) ||         isset(selectedPQ) ||         isset(selectedLSL) ||         isset(selectedSQ1) ||         isset(selectedKQ3) ||         isset(selectedMotherGoose) ||         isset(selectedKQ2) ||         isset(f40)))      {      set(f223);      set(scriptDone);      demoScriptState = 0;      reset(f42);      v57 = 0;      }    }  if (controller(c21))    {    if (v220 == 1)      {      v220 = 3;      }    else      {      --v220;      }    set(f227);    }  if (controller(c22))    {    if (v220 == 3)      {      v220 = 1;      }    else      {      ++v220;      }    set(f227);    }  if (isset(f227))    {    reset(f227);    if (v220 == 1)      {      add.to.pic(vDemoPage1, 0, 0, 100, 47, 15, 4);      add.to.pic(vDemoPage1, 0, 1, 100, 87, 15, 4);      add.to.pic(vDemoPage1, 0, 2, 100, 127, 15, 4);      display(6, 39, "1");      display(11, 39, "2");      display(16, 39, "3");      }    if (v220 == 2)      {      add.to.pic(vDemoPage2, 0, 0, 100, 47, 15, 4);      add.to.pic(vDemoPage2, 0, 1, 100, 87, 15, 4);      add.to.pic(vDemoPage2, 0, 2, 100, 127, 15, 4);      display(6, 39, "4");      display(11, 39, "5");      display(16, 39, "6");      }    if (v220 == 3)      {      add.to.pic(vDemoPage3, 0, 0, 100, 47, 15, 4);      add.to.pic(vDemoPage3, 0, 1, 100, 87, 15, 4);      add.to.pic(vDemoPage3, 0, 2, 100, 127, 15, 4);      display(6, 39, "7");      display(11, 39, "8");      display(16, 39, "9");      }    }  if (isset(selectedHelicopter))    {    display(23, 0, "1");    }  else    {    display(23, 0, " ");    }  if (isset(selectedSQ2))    {    display(23, 2, "2");    }  else    {    display(23, 2, " ");    }  if (isset(selectedThexder))    {    display(23, 4, "3");    }  else    {    display(23, 4, " ");    }  if (isset(selectedPQ))    {    display(23, 6, "4");    }  else    {    display(23, 6, " ");    }  if (isset(selectedLSL))    {    display(23, 8, "5");    }  else    {    display(23, 8, " ");    }  if (isset(selectedSQ1))    {    display(23, 10, "6");    }  else    {    display(23, 10, " ");    }  if (isset(selectedKQ3))    {    display(23, 12, "7");    }  else    {    display(23, 12, " ");    }  if (isset(selectedMotherGoose))    {    display(23, 14, "8");    }  else    {    display(23, 14, " ");    }  if (isset(selectedKQ2))    {    display(23, 16, "9");    }  else    {    display(23, 16, " ");    }  if (controller(cHelp))    {    set(f225);    clear.text.rect(0, 0, 5, 24, BLACK);    clear.lines(0, 0, BLACK);    display(0, 0, "Help:");    display(1, 0, "     C - run continuously");    display(2, 0, "     F2 - toggle sound");    display(3, 0, "     Alt-Z - quit");    display(4, 0, "Press any key to continue");    }  if (isset(f225) &&       have.key())    {    clear.text.rect(0, 0, 5, 24, BLACK);    reset(f225);    set.text.attribute(YELLOW, BLACK);    display(0, 1, "Press 1-2-3-4-5-6-7-8-9 to select,");    display(1, 1, "    then ENTER to Run.");    display(3, 1, "Need help? Press H");    }  }if (isset(f223))  {  if (isset(scriptDone))    {    reset(scriptDone);    ++demoScriptState;    if (demoScriptState == 1)      {      animate.obj(o9);      set.view(o9, vDemoGuy);      set.loop(o9, 0);      set.cel(o9, 0);      position(o9, 52, 153);      draw(o9);      animate.obj(o10);      set.view(o10, vDemoGuy);      set.loop(o10, 1);      set.cel(o10, 0);      position(o10, 72, 118);      stop.cycling(o10);      draw(o10);      scriptTimer = 3;      }    if (demoScriptState == 2)      {      stop.cycling(o9);      end.of.loop(o10, scriptDone);      }    if (demoScriptState == 3)      {      add.to.pic(vDemoGuy, 1, 2, 72, 118, 15, 4);      scriptTimer = 3;      }    if (demoScriptState == 4)      {      demoScriptState = 0;      reset(f223);      set(f43);      }    }  }if (isset(f43))  {  ++v57;  erase(o9);  erase(o10);  clear.text.rect(0, 0, 24, 39, BLACK);  reset(f56);  if (v57 == 1 &&       isset(selectedHelicopter))    {    new.room(rmHelicopter);    }  if (v57 == 2 &&       isset(selectedSQ2))    {    new.room(rmSQ2);    }  if (v57 == 3 &&       isset(selectedThexder))    {    new.room(rmThexder);    }  if (v57 == 4 &&       isset(selectedPQ))    {    new.room(rmPQ);    }  if (v57 == 5 &&       isset(selectedLSL))    {    new.room(rmLSL);    }  if (v57 == 6 &&       isset(selectedSQ1))    {    new.room(rmSQ1Start);    }  if (v57 == 7 &&       isset(selectedKQ3))    {    new.room(rmKQ3Start);    }  if (v57 == 8 &&       isset(selectedMotherGoose))    {    new.room(rmMGStart);    }  if (v57 == 9 &&       isset(selectedKQ2))    {    new.room(rmKQ2);    }  if (v57 == 10 &&       isset(f40))    {    new.room(lgcDemoSelect);    }  if (v57 == 11)    {    if (!isset(f44))      {      set(f41);      set(f47);      reset(f43);      }    else      {      v57 = 0;      }    }  }return();[ Messages#message 1 "1"#message 2 "2"#message 3 "3"#message 4 "4"#message 5 "5"#message 6 "6"#message 7 "7"#message 8 "8"#message 9 "9"#message 10 "0"#message 11 "Hi.  Which of our games"#message 12 " would you like to see?"#message 13 "Press 1-2-3-4-5-6-7-8-9 to select,"#message 14 "    then ENTER to Run."#message 15 "Need help? Press H"#message 20 "Help:"#message 21 "     C - run continuously"#message 22 "     F2 - toggle sound"#message 23 "     Alt-Z - quit"#message 24 "Press any key to continue"#message 30 "Last page: F9"#message 31 "Next page: F10"#message 40 "Press any key..."#message 100 " "