#define aEgo    o1#define aShark  o2#define nextRoomTimer   v220#define musicTimer      v222#define msgTimer        v223#define sharkState      v224#define egoMoved    f220#define musicDone   f222#define sharkMoved  f223if (newDemoRoom)  {  animate.obj(aShark);  set.view(aShark, vShark);  ignore.blocks(aShark);  object.on.water(aShark);  set.loop(aShark, 0);  position(aShark, 1, 135);  draw(aShark);  move.obj(aShark, 59, 135, 0, sharkMoved);  sharkState = 1;  animate.obj(aEgo);  set.view(aEgo, vKQ3Ego);  position(aEgo, 150, 107);  draw(aEgo);  move.obj(aEgo, 96, 107, 0, egoMoved);  show.pic();  if (monitorType == MONO)    {    clear.lines(22, 24, BLACK);    }  else    {    clear.lines(22, 24, WHITE);    }  display(22, 1, "Find passage on a ship bound for\n places unknown. Embark "          "upon a\n dangerous voyage to another land.");  random(18, 30, musicTimer);  }if (sharkMoved)  {  reset(sharkMoved);  reset(f224);  if (sharkState == 9)    {    move.obj(aShark, 1, 135, 0, sharkMoved);    sharkState = 1;    set(f224);    }  if (sharkState == 8)    {    move.obj(aShark, 1, 78, 0, sharkMoved);    sharkState = 9;    }  if (sharkState == 7)    {    move.obj(aShark, 60, 78, 0, sharkMoved);    sharkState = 8;    }  if (sharkState == 6)    {    move.obj(aShark, 60, 99, 0, sharkMoved);    sharkState = 7;    }  if (sharkState == 5)    {    move.obj(aShark, 41, 118, 0, sharkMoved);    sharkState = 6;    }  if (sharkState == 4)    {    move.obj(aShark, 58, 135, 0, sharkMoved);    sharkState = 5;    }  if (sharkState == 3)    {    move.obj(aShark, 1, 78, 0, sharkMoved);    sharkState = 4;    }  if (sharkState == 2)    {    move.obj(aShark, 59, 78, 0, sharkMoved);    sharkState = 3;    }  if (!isset(f224) &&       sharkState == 1)    {    move.obj(aShark, 59, 135, 0, sharkMoved);    sharkState = 2;    }  }--musicTimer;if (musicTimer == 1)  {  sound(mJaws, musicDone);  }if (musicDone)  {  reset(musicDone);  random(32, 80, musicTimer);  }--msgTimer;if (msgTimer == 1)  {  if (monitorType == MONO)    {    clear.lines(22, 24, BLACK);    }  else    {    clear.lines(22, 24, WHITE);    }  display(22, 1, "And of course, match wits with the\n powerful wizard "          "Manannan, whose every\n whim must be your command!");  nextRoomTimer = 100;  }if (egoMoved)  {  reset(egoMoved);  set.loop(aEgo, 3);  stop.cycling(aEgo);  stop.motion(aEgo);  msgTimer = 100;  }--nextRoomTimer;if (nextRoomTimer == 1)  {  clear.lines(22, 24, BLACK);  set.text.attribute(WHITE, BLACK);  new.room(rmDemoSelect);  }return();[ Messages#message 1 "Find passage on a ship bound for\n places unknown. Embark upon a\n dangerous voyage to another land."#message 2 "And of course, match wits with the\n powerful wizard Manannan, whose every\n whim must be your command!"