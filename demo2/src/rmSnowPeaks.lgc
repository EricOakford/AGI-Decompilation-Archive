#define aEgo    o1#define aYeti   o2#define egoState   v220#define yetiState   v221#define yetiTimer   v222#define egoTimer    v223#define egoMoved    f220#define yetiMoved   f221#define yetiWalking f224#define soundDone   f225if (newDemoRoom)  {  animate.obj(aEgo);  set.view(aEgo, vKQ3Ego);  position(aEgo, 79, 167);  set.loop(aEgo, 1);  animate.obj(aYeti);  set.view(aYeti, vYeti);  set.priority(aYeti, 10);  set.loop(aYeti, 0);  position(aYeti, 0, 138);  work = 2;  step.size(aYeti, work);  draw(aEgo);  move.obj(aEgo, 54, 142, 0, egoMoved);  egoState = 1;  show.pic();  if (monitorType == MONO)    {    clear.lines(1, 3, BLACK);    display(1, 1, " Scale snowy peaks to tackle the\n  Abominable Snowman in "            "his mountain\n  stronghold.");    }  else    {    clear.lines(22, 24, WHITE);    display(22, 1, " Scale snowy peaks to tackle the\n  Abominable Snowman in "            "his mountain\n  stronghold.");    }  }if (egoMoved)  {  reset(egoMoved);  if (egoState == 2)    {    set.cel(aEgo, 0);    stop.cycling(aEgo);    egoTimer = 9;    }  if (egoState == 1)    {    move.obj(aEgo, 124, 136, 0, egoMoved);    egoState = 2;    }  }if (yetiState == 2)  {  current.cel(aYeti, work5);  if (isset(f222) &&       work5 == 2)    {    reset(f222);    yetiTimer = 3;    }  }--yetiTimer;if (yetiTimer == 1)  {  erase(aEgo);  }if (yetiMoved)  {  stop.sound();  reset(yetiMoved);  if (yetiState == 3)    {    erase(aYeti);    nextRoom = rmWizLab;    }  if (yetiState == 2)    {    egoTimer = 18;    }  if (yetiState == 1)    {    egoTimer = 9;    set.cel(aYeti, 0);    stop.cycling(aYeti);    }  }if (yetiWalking)  {  if (soundDone)    {    sound(Sound1, soundDone);    }  }--egoTimer;if (egoTimer == 1)  {  if (yetiState == 2)    {    set.view(aYeti, vYetiAndEgo);    set.cel(aYeti, 0);    work = 1;    cycle.time(aYeti, work);    move.obj(aYeti, 0, 136, 0, yetiMoved);    sound(Sound1, soundDone);    start.cycling(aYeti);    yetiState = 3;    set(yetiWalking);    }  if (yetiState == 1)    {    reset(yetiWalking);    set.cel(aYeti, 0);    set.view(aYeti, vYetiGrabEgo);    work = 2;    cycle.time(aYeti, work);    end.of.loop(aYeti, yetiMoved);    yetiState = 2;    set(f222);    stop.sound();    v224 = 9;    }  if (yetiState <= 0)    {    draw(aYeti);    move.obj(aYeti, 108, 134, 0, yetiMoved);    yetiState = 1;    set(f223);    sound(Sound1, soundDone);    set(yetiWalking);    }  }--v224;if (v224 == 1)  {  sound(mLSLTitle, soundDone);  }if (isset(f223))  {  get.posn(aYeti, work2, work3);  if (work2 > 90)    {    reset(f223);    set.loop(aEgo, 1);    }  }return();[ Messages#message 1 " Scale snowy peaks to tackle the\n  Abominable Snowman in his mountain\n  stronghold."